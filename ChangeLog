2022-08-16 Hugo Melder <contact@hugomelder.com>

	* Source/win32/GSFileHandle.m:
	Support overlapped I/O on standard streams in GSFileHandle.
	* Source/GSFileHandle.h:
	Add the isStandardStream instance variable.
	* Tests/base/NSRunLoop/performers.m:
	Remove extraneous unistd header from unit test.

2022-08-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: Remove restriction (of 8) on the maximum
	number of threads, and set that as the default value instead, so
	the -setMaxConcurrentOperationCount: method can override it.
	Thanks to https://github.com/wbardwel for the suggestion.

2022-08-11 Hugo Melder <contact@hugomelder.com>

	* Tests/base/NSTimeZone/use.m:
	Update NSTimeZone unit test to match macOS behaviour.
	America/Sao_Paulo has no DST.

2022-08-07 Hugo Melder <contact@hugomelder.com>

	* Source/NSTimeZone.m:
	Windows to IANA time zone conversion: remove unsupported
	TIME_ZONE_ID_DAYLIGHT conversion.
	* Tests/base/NSTimeZone/use.m:
	Fix test case to check for the correct standard time zone name. 

2022-08-05 Hugo Melder <contact@hugomelder.com>

	* Tests/base/NSTask/Helpers/GNUmakefile:
	Fix compilation of NSTask helper test files on Windows MSVC.
	* Tests/base/NSTask/general.m:
	* Tests/base/NSTask/launch.m:
	* Tests/base/NSTask/notify.m:
	Conditionally use .exe suffix in executable paths.

2022-08-04 Hugo Melder <contact@hugomelder.com>

	* Tests/base/GSTLS/basic.m:
	Disable test completly if gnutls is not present.
	* Tests/base/NSData/additions.m:
	Check if dataWithContentsOfFile: returns an instance.
	* Tests/base/NSString/tilde.m:
	Skip tilde abbreviation test on Windows.

2022-08-04 Hugo Melder <contact@hugomelder.com>

	* Tests/base/coding/basictypes.m:
	Fetch the generated .type file directly to avoid size mismatches.
	* .gitignore:
	Ignore .type files in the coding unit test directory.

2022-08-03 Hugo Melder <contact@hugomelder.com>

	* Tests/base/NSBundle/GNUmakefile.preamble
	* Tests/base/NSBundle/resources2.m
	Exclude framework loading on Windows, as Windows lacks support
	for run-time search paths.

2022-07-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	* Source/NSURLProtocol.m:
	Include body after masked headers in debug output.

2022-05-20 Richard Frith-Macdonald <rfm@gnu.org>

	Changes to remove sensitive information from debug logs.
	* Source/Additions/GSMime.m: Mask out sensitive information in the
	-description method of the Authorization header.  Add method to do
	similar masking for debug output of HTTP requests.
	* Source/GSHTTPURLHandle.m: Use new method to mask Authorization
	header value in debug log of outgoing requests.
	* Source/NSURLProtocol.m: Use new method to mask Authorization
	header value in debug log of outgoing requests.

2022-04-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: If we get an exception in a packet from a
	remote system to which we sent a oneway void message, decode the
	exception and report it.

2022-04-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSeq.h: Fix normalisation to handle the case where combining
	diacriticals are repeated in a composed character sequence.  Those
	repeats need to be reduced to a single instance.

2022-04-06 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSCalendar.h: Add documentation.
	* Source/NSCalendar.m: Implement getEra:... and getHour:...
        methods based on Keysight/TestPlant changes
	* Tests/base/NSCalendar/basic.m: Minor cleanup.
	* Tests/base/NSCalendar/component-diff.m: Add tests for
        methods implemented above.

2022-03-07 Gregory John Casamento <greg.casamento@gmail.com>

        * Headers/Foundation/NSIndexPath.h: Add declarations for new
        methods to support collection and table view.  New methods are
        - item, - section, - row, - initWithItem:inSection:,
        and - initWithRow:inSection:
        * Source/NSIndexPath.m: Implementation of the methods mentioned
        above.
        
2022-03-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m:
	* Tests/base/NSPredicate/basic.m:
	Fix for git #243

2022-02-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistantObject.m:
	Check to see whether receiver responds to selector before asking the
	remote object.  Fixes bug in testing to see if distant object responds
	to -connectionForProxy.

2022-02-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/manual/BaseLibrary.texi:
	* Documentation/manual/WorkingWithObjects.texi:
	* Documentation/manual/WritingNewClasses.texi:
	* Headers/Foundation/NSGarbageCollector.h:
	* Headers/Foundation/NSObject.h:
	* Headers/GNUstepBase/GNUstep.h:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSData+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSDictionary.m:
	* Source/GSFFIInvocation.m:
	* Source/GSFTPURLHandle.m:
	* Source/GSHTTPAuthentication.m:
	* Source/GSInternal.h:
	* Source/GSInvocation.h:
	* Source/GSSocketStream.m:
	* Source/NSArray.m:
	* Source/NSAttributedString.m:
	* Source/NSBundle.m:
	* Source/NSCallBacks.m:
	* Source/NSClassDescription.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSDateFormatter.m:
	* Source/NSDistantObject.m:
	* Source/NSFileHandle.m:
	* Source/NSHost.m:
	* Source/NSInvocation.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSMessagePort.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSNotificationCenter.m:
	* Source/NSNumberFormatter.m:
	* Source/NSObject.m:
	* Source/NSPortCoder.m:
	* Source/NSProcessInfo.m:
	* Source/NSRunLoop.m:
	* Source/NSScanner.m:
	* Source/NSSerializer.m:
	* Source/NSSet.m:
	* Source/NSSocketPort.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSSpellServer.m:
	* Source/NSString.m:
	* Source/NSTask.m:
	* Source/NSTimeZone.m:
	* Source/NSURL.m:
	* Source/NSURLHandle.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLResponse.m:
	* Source/NSUnarchiver.m:
	* Source/NSValueTransformer.m:
	* Tools/AGSOutput.m:
	* Tools/AGSParser.m:
	* Tools/HTMLLinker.m:
	* Tools/autogsdoc.m:
	* Tools/sfparse.m:
	Replaced IF_NO_GC() macro calls with the more descriptive IF_NO_ARC()
	and deprecate it.  Searched for and removed obsolete references to
	garbage collection in comments and documentation.

2022-02-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSExpression.h:
	* Source/NSPredicate.m:
	Patched from git #237 by Larry Campbell.

2022-02-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: Fix failure to log handle properly during
	initialisation (set ivar containing handle earlier).

2022-01-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m:
	Fix for git #235 reported by Sergei Golovin
	Plus, make methods consistent in handling of clients.
	Plus, make clientForHandle() thread-safe.

2022-01-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m:
	* Documentation/manual/BaseLibrary.texi:
	* Documentation/manual/WorkingWithObjects.texi:
	* Documentation/manual/WritingNewClasses.texi:
	* Headers/Foundation/NSGarbageCollector.h:
	* Headers/Foundation/NSObject.h:
	* Headers/GNUstepBase/GNUstep.h:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSData+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSDictionary.m:
	* Source/GSFFIInvocation.m:
	* Source/GSFTPURLHandle.m:
	* Source/GSHTTPAuthentication.m:
	* Source/GSInternal.h:
	* Source/GSInvocation.h:
	* Source/GSSocketStream.m:
	* Source/NSArray.m:
	* Source/NSAttributedString.m:
	* Source/NSBundle.m:
	* Source/NSCallBacks.m:
	* Source/NSClassDescription.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSDateFormatter.m:
	* Source/NSDistantObject.m:
	* Source/NSFileHandle.m:
	* Source/NSHost.m:
	* Source/NSInvocation.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSMessagePort.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSNotificationCenter.m:
	* Source/NSNumberFormatter.m:
	* Source/NSObject.m:
	* Source/NSPortCoder.m:
	* Source/NSProcessInfo.m:
	* Source/NSRunLoop.m:
	* Source/NSScanner.m:
	* Source/NSSerializer.m:
	* Source/NSSet.m:
	* Source/NSSocketPort.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSSpellServer.m:
	* Source/NSString.m:
	* Source/NSTask.m:
	* Source/NSTimeZone.m:
	* Source/NSURL.m:
	* Source/NSURLHandle.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLResponse.m:
	* Source/NSUnarchiver.m:
	* Source/NSValueTransformer.m:
	* Tools/AGSOutput.m:
	* Tools/AGSParser.m:
	* Tools/HTMLLinker.m:
	* Tools/autogsdoc.m:
	* Tools/sfparse.m:
	Fix for git #233 by Larry Campbell

2022-01-15 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSPathUtilities.m:
	Fix NSTemporaryDirectory() returning path with backslashes on
	Windows.

2022-01-13 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSTimeZone.m:
	Fix time zone lookup on Windows MSVC by converting Windows timezone
	name to IANA identifier.

2022-01-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
	Declare private method to avoid compiler warnings.

2022-01-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h:
	* Source/Additions/GSMime.m:
	* Source/Additions/Unicode.m:
	* Resources/English.lproj/Localizable.strings:
	* Resources/Esperanto.lproj/Localizable.strings:
	* Resources/French.lproj/Localizable.strings:
	* Resources/German.lproj/Localizable.strings:
	* Resources/Italian.lproj/Localizable.strings:
	* Resources/Japanese.lproj/Localizable.strings:
	* Resources/Korean.lproj/Localizable.strings:
	* Resources/Polish.lproj/Localizable.strings:
	* Resources/SimplifiedChinese.lproj/Localizable.strings:
	* Resources/Spanish.lproj/Localizable.strings:
	* Resources/TraditionalChinese.lproj/Localizable.strings:
	Reinstate lost encoding constants (so that software using the
	gnustep extenstions should work again).  Also tidy some indentation
	issues.

2021-12-21 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSOperation.m: fix handling of concurrent NSOperations
	if isFinished KVO is triggered without the operation being finished,
	and call completion block for concurrent operations. Also fixes
	removing dependency observers more than once.

2021-12-14 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSBundle.m:
	Default to UTF-8 when reading localized string files without BOM.

2021-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: (-disconnect:) try once if we are closing the TCP
	connection, for up to 10 seconds if trying to keep it available.
	* Source/NSFileHandle.m: (-sslDisconnect) operate in non-blocking
	mode so that network issues should not cause a disconnect attempt
	to hang. This should behave better on heavily loaded systems.

2021-11-23 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: check for zlib before bfd
	* configure: regenerate
	libbfd may need libz, so we must check for one before checking for
	the other.

2021-11-21 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSURLConnection.h: Add
        NSURLConnectionDataDelegate protocol.
	* Headers/Foundation/NSURLRequest.h: Add enum for
        NSURLNetworkServiceType.

2021-11-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Helpers/Launch.h:
	* Helpers/capture.m:
	* Helpers/keepalive.m:
	* Helpers/respond.m:
	* test00.m:
	* test01.m:
	* test02.m:
	Rewrite helper launching so that the test process waits for up to
	ten seconds for the helper to tell it that it's ready to accept
	requests.  This should make tests run a bit quicker (no longer
	waiting a fixed interval for the helper to start) while allowing
	longer for the helpers to start on slow systems, and thus making
	the tests more reliable.

2021-11-11 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSBundle.h:
	Annotate NSBundle localized string function with NS_FORMAT_ARGUMENT.

2021-09-20 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSFileManager.m:
	Fix -[NSFileManager URLForDirectory:...] using incorrect NSURL
	initializer and simplified implementation.

2021-09-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSJSONSerialization.m:
	* Source/NSURL.m:
	Fix minor potential leaks.

2021-08-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/nstzfile.h: deleted (merged into tzdb.h)
	* Source/tzdb.h: updated (includes nstzfile.h)
	* Source/NSTimeZone.h: some cleanups
	Tidies up as suggested by Fred

2021-08-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/nstzfile.h: Fix by Emmanuel Dreyfus - increase number of
	transitions allowed, so that we can handle dates further into the
	future (since v2+ files support that).
	* Tests/base/NSTimeZone/ParisV1-noMagic.tzdb:
	* Tests/base/NSTimeZone/ParisV1.tzdb:
	* Tests/base/NSTimeZone/ParisV2-missingHeader.tzdb:
	* Tests/base/NSTimeZone/ParisV2.tzdb:
	* Tests/base/NSTimeZone/localtime.m:
	Increase the range of testcases

2021-08-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/tzdb.h: Public domain time zone file parsing etc
	* Source/NSTimeZone.m: Use code from tzdb.h
	* Headers/Foundation/NSTimeZone.h: Remove some obsolete comments
	* configure.ac:  check for stdbool.h needed by tzdb.h
	* configure: regenerate
	* Headers/GNUstepBase/config.h.in: define for stdbool check
	* Tests/base/NSTimeZone/Paris.tzdbv1: test timezone file (version 1)
	* Tests/base/NSTimeZone/Paris.tzdbv2: test timezone file (version 2)
	* Tests/base/NSTimeZone/localtime.m: Some testcases for v1/v2
	Incorporate work by Emmanuel Dreyfus to use public domain tzfile
	parsing code supporting times too large to fit in 32bit value.
	The public domain code has some support for the Posix TZ environment
	variable style string used by version2 to support times after the last
	transition in the file, but I'm not convinced it works properly, so
	this may need to be revisited.

2021-08-10 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSObject:
	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source:libgnustep-base-entry.m:
	Initialize Windows Sockets in NSObject only and update to Windows
	Socket version 2.2.

2021-08-03 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/GNUstepBase/config.h.in:
	* configure:
	* configure.ac:
	Use pkgconfig to find libxslt.

2021-07-29 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/GNUstepBase/config.h.in:
	* Source/Additions/Unicode.m:
	* Source/GSICUString.h:
	* Source/NSCalendar.m:
	* Source/NSDateFormatter.m:
	* Source/NSLocale.m:
	* Source/NSNumberFormatter.m:
	* Source/NSPredicate.m:
	* Source/NSRegularExpression.m:
	* Source/NSString.m:
	* Source/NSTimeZone.m:
	* configure:
	* configure.ac:
	Add support for using ICU DLL from Windows 10.

2021-07-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Headers/GNUstepBase/config.h.in:
	* configure.ac:
	* configure:
	Always use builtin header for parsing posix time zone files, so we
	know that the field names are consistent and so we knw we have a
	define for the file magic number.

2021-07-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m:
	Fix error caused by having methods in category for strict parser
	overriding methods provided by sloppy parser.

2021-07-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/nstzfile.h:
	* Source/NSTimeZone.m:
	Changes to add support for 64bit transitions used by v2+ of the
	timezone format.

2021-07-14 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSThread.h:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Headers/GNUstepBase/config.h.in:
	* Source/Additions/GCObject.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/Unicode.m:
	* Source/GSAtomic.h:
	* Source/GSFFCallInvocation.m:
	* Source/GSFFIInvocation.m:
	* Source/GSPThread.h:
	* Source/NSArray.m:
	* Source/NSCharacterSet.m:
	* Source/NSDebug.m:
	* Source/NSException.m:
	* Source/NSLock.m:
	* Source/NSObject.m:
	* Source/NSScanner.m:
	* Source/NSString.m:
	* Source/NSThread.m:
	* Source/NSTimeZone.m:
	* Source/NSZone.m:
	* Tests/base/NSThread/GNUmakefile.preamble:
	* Tests/base/NSThread/late_unregister.m:
	* Tests/base/NSThread/lazy_thread.m:
	* config/config.initialize.m:
	* configure:
	* configure.ac:
	Use native threading and locking APIs on Windows, removing dependency
	on pthread library and using fast Slim Reader/Writer (SRW) locks for
	NSLock/NSRecursiveLock/NSCondition/NSConditionLock as well as all
	internal locks. Adds GS_MUTEX_*() macros in GSPThread.h, that are being
	used for all internal locking instead of pthread APIs.
	Also adds support for thread priorities on Windows, fixes method
	signature of +[NSThread setThreadPriority:] to match Apple platforms,
	and adds error handling in same method.

2021-07-16 Frederik Seiffert <frederik@algoriddim.com>

	* Source/GSICUString.h:
	* Source/GSICUString.m:
	Fix possible memory corruption in string handling that occured
	primarily when using NSRegularExpression with strings longer than
	16 characters.

2021-07-02 Frederik Seiffert <frederik@algoriddim.com>

	* Source/Additions/Unicode.m:
	Fix possible heap corruption when converting to
	NSNonLossyASCIIStringEncoding.

2021-06-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/Port.h:
	* Source/NSSocketPort.m:
	Extend the API for TLS support in Distributed Objects so that we have
	separate settings for whether the port is acting as a client or
	server.

2021-06-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m:
	* Source/NSSocketPort.m:
	Improve reporting of TLS handshake errors, fix a few leaks and
	generally make encryption of DO connections better.

2021-06-17 Frederik Seiffert <frederik@algoriddim.com>

	* Source/Additions/Unicode.m:
	Fix lookup of string encodings with high numeric values in
	encoding table when they are interpreted as negative numbers
	for some platforms/compilers (pertains
	NSUTF16*EndianStringEncoding and NSUTF32*StringEncoding).

2021-06-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSTLS.h: New session ivar for I/O handle.
	* Source/GSTLS.m: Report the I/O handle in debug logs so we can
	more easily track which logs refer apply to the objects using a
	session.
	* Source/NSSocketPort.m: debug improvements plus fixes to the code
	for initiating connections so that the initial port information is
	reliably written to the handle.

2021-06-02 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/Foundation.h: Add missing import for
        NSByteCountFormatter.

2021-05-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSTLS.h: ([GSTLSCredentials selfSigned:])
	* Source/GSTLS.m: Add new method to use certtool to generate a
	key and a self-signed certificate.  Use the new method to set up
	server sessions if no certificate/key is configured.
	* Headers/Foundation/NSPort.h: ([NSSocketPost setOptionsForTLS:])
	* Source/NSSocketPort.m: New methods to configure socket ports to
	use TLS so that inter-host distributed object connections can be
	securely encrypted.  The class method should turn on encryption
	for all subsequent connections using socket ports (the instance
	method can be used to override the effects of the class method
	for an individual instance).

2021-05-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m:
	When we get an event saying that there is space available, we should
	change the stream status from writing to open (because the write
	operation completed).  This makes the -hasSpaceAvailable method return
	the correct value when a callback routine is checking to see if it
	can write.

2021-05-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandle.m:
	Fixed bug preventing write of long data (failing to watch for write
	completion when only part of the data is written).  Added some debug

2021-05-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	* Source/win32/GSFileHandle.m:
	When we receive an event telling us the handle is writable, repeatedly
	write until either all the data we have is written or until the write
	attempt doesn't write anything.  On mswindows this copes with the case
	of the gnutls write only writing 16KB chunks at a time.

2021-05-05 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for declaration of CURLOPT_MAXAGE_CONN
	* configure: regenerate
	* Headers/GNUstepBase/config.h.in: regenerate
	* Source/NSURLSession.m: Use HAVE_DECL_CURLOPT_MAXAGE_CONN to tell
	whether -setHTTPMaximumConnectionLifetime: can be implemented. This
	fixes a bug where the method was not implemented even though the
	version of Curl available supported it.
	* Tests/base/NSURLSession/test02.m: Add a testcase (hope) to see if
	-setHTTPMaximumConnectionLifetime: is supported.

2021-04-26 Ivan Vucica <ivan@vucica.net>

	* ChangeLog:
	Update ChangeLog to release 1.28.0.

2021-04-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/DocMakefile:
	Ignore GS_EXPORT_CLASS when generating documentation for
	base/additions.

2021-04-22 Ivan Vucica <ivan@vucica.net>

	* ChangeLog:
	Formatting and email address fixes.
	* ANNOUNCE:
	* NEWS:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/news.texi:
	Update release notes for a future 1.28.0 release.
	* Version:
	Bump version to 1.28.0.

2021-04-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h:
	* Source/NSString.m:
	* Source/NSString.m:
	Fixes for BOM insertion when generating data from a string using one
	of the unicode encodings.  The BOM is inserted in the case where the
	byte order is important in the specified encoding, but the encoding
	does not specify which byte order is used.  This is the case for
	NSUnicodeStringEncoding, NSUTF16StringEncoding (which is a synonym
	for NSUnicodeStringEncoding), and NSUTF32StringEncoding.
	The bit of this that might impact existing code is that the BOM is
	now placed at the start of the data even in the string is empty (as
	on OSX).

2021-03-27 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/GNUstepBase/GSVersionMacros.h:
	Add GS_IMPORT macro resolving to dllimport annonation on Windows.
	* Source/NSObject.m:
	Add support for libobjc2 runtime on Windows.

2021-03-27 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSConnection.h:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSDebug+GNUstepBase.m:
	* Source/Additions/NSStream+GNUstepBase.m:
	* Source/GSPrivate.h:
	* Source/GSTLS.m:
	* Source/NSArchiver.m:
	* Source/NSBundle.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSConnection.m:
	* Source/NSDate.m:
	* Source/NSDecimal.m:
	* Source/NSError.m:
	* Source/NSExtensionContext.m:
	* Source/NSExtensionItem.m:
	* Source/NSFileHandle.m:
	* Source/NSFileManager.m:
	* Source/NSHFSFileTypes.m:
	* Source/NSHTTPCookie.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSInvocationOperation.m:
	* Source/NSItemProvider.m:
	* Source/NSKeyValueCoding.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSLocale.m:
	* Source/NSMetadata.m:
	* Source/NSMetadataAttributes.m:
	* Source/NSNetServices.m:
	* Source/NSObjCRuntime.m:
	* Source/NSObject.m:
	* Source/NSPathUtilities.m:
	* Source/NSPersonNameComponentsFormatter.m:
	* Source/NSPort.m:
	* Source/NSSpellServer.m:
	* Source/NSTimeZone.m:
	* Source/NSURL.m:
	* Source/NSURLCredentialStorage.m:
	* Source/NSURLHandle.m:
	* Source/NSURLProtectionSpace.m:
	* Source/NSUserNotification.m:
	* Source/NSXMLParser.m:
	* Source/NSZone.m:
	* Source/externs.m:
	Export string constants and annotate exported function implementations.
	Moves scattered string constants to externs.m, and removes obsolete
	code replacing constant strings.

2021-03-12 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSFileManager.m:
	* Source/NSProcessInfo.m:
	* Source/win32/dirent.h:
	Add NSFileManager support on Windows MSVC using dirent.h from:
	https://github.com/tronkko/dirent/blob/master/include/dirent.h
	Also unifies _CHAR in NSFileManager with GSNativeChar, as they are
	internally required to be the same.

2021-03-09 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSRunLoop.m:
	Fix libdispatch integration compilation error on Windows.

2021-03-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	Rewrite handling of tls handshake to operate asynchronously,
	attempting continuation of the handshake when the socket becomes
	readable.  The point of this is to prevent recursive entry into the
	runloop (and possible stack overflow) if the remote end fails to send
	anything for a while.

2021-03-03 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSTimer.h:
	* Source/NSTimer.m: add unscheduled NSTimer block initializer

2021-02-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m:
        Fix potential deadlock found by Wolfgang

2021-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m:
        Initialise XMLParser in main thread

2021-02-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	* Source/GSTLS.m:
	* Source/NSFileHandle.m:
        Fixes for SSL/TLS support using GNUTLS under MinGW.
	Use send/recv rather than read/write in TLS push/pull functions
	(works with winsock and unix) and perform mappings between winsock
	error codes and unix/gnutls error codes so that we correctly repeat
	operations whe they fail in non-blocking mode.

2021-02-12 Frederik Seiffert <frederik@algoriddim.com>

  	* Headers/Foundation/NSNull.h: Add missing GS_EXPORT_CLASS.
  	* Tests/base/Functions/NSByteSwapping.m: Define M_PI if needed.
  	* configure:
  	* configure.ac: Add support for pthreadVC2 library variant and
  	tweak host OS check for Windows to be more specific.

2021-02-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m:
        Fix failure to send large requests, when the write operation succeeds
	but we have not written all the data we need to, we should write more
	as long as the stream has space available.

2021-02-05 Fred Kiefer <fredkiefer@gmx.de>

        * Tools/make_strings/StringsFile.m: Write the file in UTF8 format
	if the string contains any non ASCII character.

2021-02-03 Frederik Seiffert <frederik@algoriddim.com>

	* Tools/GNUmakefile: disable gdomap on Android (unsupported).

2021-02-02 Riccardo Mottola <rm@gnu.org>

	* configure
	* configure.ac
	Add check for statbuf.st_mtim if available

	* Source/NSFileManager.m
	Use statbuf.st_mtim to get nanosecond precision in modification
	date, also fix conversion of nanoseconds in creation date.

2021-01-29 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSAffineTransform.h:
	* Headers/Foundation/NSAppleEventDescriptor.h:
	* Headers/Foundation/NSAppleEventManager.h:
	* Headers/Foundation/NSAppleScript.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSBackgroundActivityScheduler.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSByteCountFormatter.h:
	* Headers/Foundation/NSCache.h:
	* Headers/Foundation/NSCalendar.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSCharacterSet.h:
	* Headers/Foundation/NSClassDescription.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSDateComponentsFormatter.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSDateInterval.h:
	* Headers/Foundation/NSDateIntervalFormatter.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSDistantObject.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSEnergyFormatter.h:
	* Headers/Foundation/NSEnumerator.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/NSExtensionContext.h:
	* Headers/Foundation/NSExtensionItem.h:
	* Headers/Foundation/NSFileCoordinator.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSFileVersion.h:
	* Headers/Foundation/NSFileWrapper.h:
	* Headers/Foundation/NSGarbageCollector.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSISO8601DateFormatter.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSInvocationOperation.h:
	* Headers/Foundation/NSItemProvider.h:
	* Headers/Foundation/NSItemProviderReadingWriting.h:
	* Headers/Foundation/NSJSONSerialization.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSLengthFormatter.h:
	* Headers/Foundation/NSLinguisticTagger.h:
	* Headers/Foundation/NSLocale.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSMapTable.h:
	* Headers/Foundation/NSMassFormatter.h:
	* Headers/Foundation/NSMeasurement.h:
	* Headers/Foundation/NSMeasurementFormatter.h:
	* Headers/Foundation/NSMetadata.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSNetServices.h:
	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSNotificationQueue.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSObjectScripting.h:
	* Headers/Foundation/NSOperation.h:
	* Headers/Foundation/NSOrderedSet.h:
	* Headers/Foundation/NSOrthography.h:
	* Headers/Foundation/NSPersonNameComponents.h:
	* Headers/Foundation/NSPersonNameComponentsFormatter.h:
	* Headers/Foundation/NSPointerArray.h:
	* Headers/Foundation/NSPointerFunctions.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSPredicate.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSProgress.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSRegularExpression.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSScriptClassDescription.h:
	* Headers/Foundation/NSScriptCoercionHandler.h:
	* Headers/Foundation/NSScriptCommand.h:
	* Headers/Foundation/NSScriptCommandDescription.h:
	* Headers/Foundation/NSScriptExecutionContext.h:
	* Headers/Foundation/NSScriptKeyValueCoding.h:
	* Headers/Foundation/NSScriptObjectSpecifiers.h:
	* Headers/Foundation/NSScriptStandardSuiteCommands.h:
	* Headers/Foundation/NSScriptSuiteRegistry.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSTextCheckingResult.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSURLSession.h:
	* Headers/Foundation/NSUUID.h:
	* Headers/Foundation/NSUbiquitousKeyValueStore.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSUnit.h:
	* Headers/Foundation/NSUserActivity.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSUserNotification.h:
	* Headers/Foundation/NSUserScriptTask.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSValueTransformer.h:
	* Headers/Foundation/NSXMLDTD.h:
	* Headers/Foundation/NSXMLDTDNode.h:
	* Headers/Foundation/NSXMLDocument.h:
	* Headers/Foundation/NSXMLElement.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSXPCConnection.h:
	* Headers/GNUstepBase/CXXException.h:
	* Headers/GNUstepBase/GCObject.h:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Headers/GNUstepBase/GSMime.h:
	* Headers/GNUstepBase/GSTLS.h:
	* Headers/GNUstepBase/GSVersionMacros.h:
	* Headers/GNUstepBase/GSXML.h:
	* Headers/GNUstepBase/NSStream+GNUstepBase.h:
	* Source/Additions/GSXML.m:
	* Source/Additions/Makefile.preamble:
	* Source/CXXException.m:
	* Source/GNUmakefile:
	* Source/NSException.m:
	* Source/NSFileManager.m:
	* Source/NSPropertyList.m:
	* Source/NSSocketPort.m:
	* Source/ObjectiveC2/Makefile.preamble:
	* Source/common.h:
	* Source/externs.m:
	* Source/inet_ntop.m:
	* Source/inet_pton.m:
	* Source/libgnustep-base-entry.m:
	* Source/unix/Makefile.preamble:
	* Source/win32/GSFileHandle.m:
	* Source/win32/Makefile.preamble:
	* Tools/GNUmakefile:
	* Tools/Makefile.preamble:
	* Tools/gdnc.m:
	* Tools/make_strings/make_strings.m:
	* Tools/pl2link.m:
	* Tools/plutil.m:
	* config/config.initialize.m:
	* configure:
	* configure.ac:
	Added support for building on Windows with Clang MSVC target and
	libobjc2. This requires using a standard (non-MinGW) Clang build that
	e.g. comes with Visual Studio or is available as pre-built binary from
	the LLVM website, and requires passing a host to configure like
	--host=x86_64-pc-windows.
	The build is best done in an MSYS2 shell that does not have any
	additional *-devel packages installed that might get picked up by
	configure. Alternatively --disable-xxx flags can be used to prevent
	these dependencies to be picked up.
	Annotates all ObjC class interfaces with GS_EXPORT_CLASS for DLL
	export/import declarations, and adds missing GS_DECLARE annotations
	in externs.m, in order for these symbols to be correctly exported
	in the DLL.

2021-01-21 Fred Kiefer <fredkiefer@gmx.de>

	* Tools/pl2link.m (main): Set key StartupWMClass and allow file
	parameters of the Exec key.
	Idea by: Josh Freeman <gnustep_lists@twilightedge.com>

2021-01-21 Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSScanner.m: Fix scanning of zero values.
	Was checking incorrect variable to avoid assignment to nul pointer.

2021-01-19 Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSKeyValueObserving.m: Fix leak of set
        * Source/NSPredicate.m: Fix leak evaluating a cast
        * Source/NSUnit.m: Fix memory leaks
	* Source/NSData.m: Use NSZoneMalloc and NSZoneRealloc for memory
	to ensure it is in the correct zone for the instance (and to avoid
	complaints from static analyser).

2021-01-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
        Remove stream from handler upon deallocation, to avoid handler
	sending messages to deallocated stream.

2020-12-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m:
        Fix failure to re-set flag to say whether a string is unicode

2020-12-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m:
        Fix potential problem with new optimisation for direct access to
	contents of 8bit strings ... when the decimal separator is not an
	ascii character we may need to convert the 8bit value to unicode.

2020-12-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m:
	* Source/NSString.m:
        Use new private method to scan double values.

2020-12-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m:
        Remove internal GSScanInt and GSScanDouble functions after moving
	functionality into the -scanDouble: method.  Add private class
	method to support scanning a string for a double without having
	to create a new scanner each time (use a shared lock-protected,
	instance with resetting of the string being scanned).

2020-12-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m:
        Remove unused header import

2020-12-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
        Use superclass implementation of -doubleValue and -floatValue

2020-12-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m:
        Change -scanDouble: to call GSScanDouble() to perform conversion.
	Fix GSScanDouble to cope with leading zeros.

2020-12-15 Frederik Seiffert <frederik@algoriddim.com>

	* configure:
	* configure.ac:
        Disable libcurl support when headers are not found

2020-12-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GNUstep.h:
	* Headers/GNUstepBase/GSBlocks.h:
	* Headers/ObjectiveC2/objc/blocks_runtime.h:
	* Source/GSString.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSConnection.m:
	* Source/NSDistantObject.m:
	* Source/NSMethodSignature.m:
	* Source/NSNumberMethods.h:
	* Tools/gdomap.c:
        Consistently use __typeof__() rather than typeof() or __typeof()
	for compatibility (GCC and clang and, perhaps, other future
	compilers) irrespective of -std= compilation options.

2020-12-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSUUID/basic.m:
        Fix stupid mistake  using wrong string value

2020-12-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUUID.m:
	* Tests/base/NSUUID/basic.m:
        Fix initialisation of NSUUID from string (permit mixed case hex digits)

2020-12-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m:
        Fixup incorrect commit

2020-12-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.h:
	* Source/GSStream.m:
        Improve diagnostic logging

2020-12-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c:
        Use correct definition for integer type in windows

2020-12-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
        Fix unused variable on windows

2020-12-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m:
        Add fake interface for NSUserDefaultsWin32 to avoid compiler warning

2020-12-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m:
        Only declare variables for systems which use them.

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUUID.m:
        Fix typo in comment (incorrect RFC number)

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileCoordinator.m:
	* Source/NSItemProvider.m:
	* Source/NSSortDescriptor.m:
	* Source/NSTimer.m:
        Avoid compiler warnings when we do not have real blocks

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GNUstep.h:
        Use casts to prevent many compiler warnings when using pseudo-blocks

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBackgroundActivityScheduler.m:
        Fixup to import local headers rather than installed versions

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
        Avoid compiler warnings on system with pseudo-blocks

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
        Fix format string error in -description

2020-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
	* Source/GSStream.m:
        Improve diagnostic output

2020-12-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
        An error in a socketpair only applies to the other socket
	if still opening

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSOrderedSet.m:
        Use unsigned long for fast enumeration version counter

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSCountedSet.m:
        fix typo

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSSet.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSUnarchiver.m:
        Fix to make value pointed to by mutationsPtr be unsigned long.

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
        Fix range check for decoded 32bit integer

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
        Suppress warnings about use of 'private' functions from libdispatch

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/blocks_runtime.m:
        Declare external block as const void rather than void for
	consistency and to avoid compiler warning

2020-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFastEnumeration.h:
        Suppress dll import warnings for objc_enumerationMutation() on mingw

2020-12-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSValue.m:
	* Source/NSBackgroundActivityScheduler.m:
        Avoid compiler warning

2020-12-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
	* Source/NSData.m:
	* Source/NSUUID.m:
        Use memcpy rather than strncpy/strncat to avoid compiler warnings

2020-12-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/NSPropertyList+PLUtil.m:
        Import missing NSError header

2020-12-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
        Use memcpy rather than strncpy to avoid compiler warnings

2020-12-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m:
        Tweaks to avoid compiler warnings

2020-12-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSJSONSerialization/tests00.m:
        Create temporary file in current directory and delete it when done.
	This fixes testcase to work on windows.

2020-11-27 Frederik Seiffert <frederik@algoriddim.com>

	* configure:
	* configure.ac:
        Detect objc.lib and add libdir to path on Windows.

2020-11-27 Frederik Seiffert <frederik@algoriddim.com>

	* configure:
	* configure.ac:
        Prefer dispatch/dispatch.h over dispatch.h.

2020-11-29 Richard Frith-Macdonald <rfm@gnu.org>

	* .travis.yml:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSURLSession.h:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Headers/GNUstepBase/config.h.in:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/Makefile.preamble:
	* Source/GNUmakefile:
	* Source/GSEasyHandle.h:
	* Source/GSEasyHandle.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSHTTPURLProtocol.h:
	* Source/GSHTTPURLProtocol.m:
	* Source/GSMultiHandle.h:
	* Source/GSMultiHandle.m:
	* Source/GSNativeProtocol.h:
	* Source/GSNativeProtocol.m:
	* Source/GSTLS.m:
	* Source/GSTaskRegistry.h:
	* Source/GSTaskRegistry.m:
	* Source/GSTimeoutSource.h:
	* Source/GSTimeoutSource.m:
	* Source/GSTransferState.h:
	* Source/GSTransferState.m:
	* Source/GSURLPrivate.h:
	* Source/GSURLSessionTaskBody.h:
	* Source/GSURLSessionTaskBody.m:
	* Source/GSURLSessionTaskBodySource.h:
	* Source/GSURLSessionTaskBodySource.m:
	* Source/NSConcretePointerFunctions.m:
	* Source/NSException.m:
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSURLCache.m:
	* Source/NSURLConnection.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLRequest.m:
	* Source/NSURLResponse.m:
	* Source/NSURLSession.m:
	* Source/NSXPCConnection.m:
	* Tests/base/NSURL/Helpers/keepalive.m:
	* Tests/base/NSURL/test00.m:
	* Tests/base/NSURLConnection/Helpers/NSURLConnectionTest.h:
	* Tests/base/NSURLConnection/Helpers/NSURLConnectionTest.m:
	* Tests/base/NSURLConnection/Helpers/TestCase.m:
	* Tests/base/NSURLConnection/Helpers/TestWebServer.h:
	* Tests/base/NSURLConnection/Helpers/TestWebServer.m:
	* Tests/base/NSURLConnection/Helpers/testTestWebServer.m:
	* Tests/base/NSURLConnection/test01.m:
	* Tests/base/NSURLConnection/test02.m:
	* Tests/base/NSURLConnection/test03.m:
	* Tests/base/NSURLConnection/test04.m:
	* Tests/base/NSURLConnection/test05.m:
	* Tests/base/NSURLConnection/test06.m:
	* Tests/base/NSURLConnection/test07.m:
	* Tests/base/NSURLSession/GNUmakefile.preamble:
	* Tests/base/NSURLSession/TestInfo:
	* Tests/base/NSURLSession/delegate.g:
	* Tests/base/NSURLSession/gdbinit:
	* Tests/base/NSURLSession/test01.m:
	* Tests/base/NSURLSession/test02.m:
	* base.make.in:
	* config.mak.in:
	* config/addlibrarypath.m4:
	* configure:
	* configure.ac:
        Merge changes for NSURLSession from EngageHub (formerly Brainstorm).
	NB. NSURLSession is the third generation URL management API in OSX,
	but the previous two generations still exist and are good for much
	web-based programming.  The NSURLSession code has more deependencies
	on recent versions of external libraries (libcurl, http/2 support,
	libdispatch) as well as the latest objective-c runtime and the use
	of blocks (only available when built using clang and the ng runtime).

2020-11-28 Richard Frith-Macdonald <rfm@gnu.org>

	* configure:
	* configure.ac:
        Remove obsolete checks for garbage collecting runtime
	(no longer supported)

2020-11-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSMutableString+GNUstepBase.m:
	* Source/GSString.m:
        Add optimisation for the use of GSImmutableString so that it
	can make use of the layout of the underlying mutable string
	that the GSImmutableString is a proxy for.

2020-11-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
        Rewrite -replaceCharactersInRange:withString: to cope with the
	case where the string argument is the receiver (or some proxy
	to the receiver etc).

2020-11-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSMutableString+GNUstepBase.m:
        Report YES for GSImmutableString being a proxy

2020-11-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
        Fix for text storage objects setting their content to their
	own immutable proxy.

2020-11-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
        Add casts to avoid compiler warnings

2020-11-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
        Minor tidyup for clearer indentation

2020-11-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
        Correct checks for validity of the second UTF16 value
	in a surrogate pair

2020-11-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSFileHandle.h:
        Declare NSURL before using it.

2020-11-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDictionary.m:
        Be defensive about checking for key beginning with @

2020-11-17 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSFileHandle.h:
	* MISSING:
	* Source/NSFileHandle.m:
        Add NSFileHandle URL initializers.
        Also use "instancetype" for all initializers.

2020-11-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSMime.h:
	* Source/Additions/GSMime.m:
        Add methods to control size of in-memory queue os emails

2020-11-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m:
        Fix bug in offset

2020-06-11 Frederik Seiffert <frederik@algoriddim.com>

	* .travis.yml:
        Output config.log if build fails on CI.

2020-11-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSOperation/threads.m:
        Allow more time for operations thread to exit on slow machines

2020-11-12 Frederik Seiffert <frederik@algoriddim.com>

	* Source/GSICUString.h:
        Fix compilation with ICU 68.

2020-11-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/plutil.m:
        Allow synonyms for help and print same message as OSX for
	unrecognised options.

2020-11-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/plutil.m:
        Fix missing semicolon

2020-11-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
        Avoid building unused functions when new string API is used.

2020-11-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/NSPropertyList+PLUtil.h:
	* Tools/NSPropertyList+PLUtil.m:
        Trivial format fixes

2020-11-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/NSPropertyList+PLUtil.m:
	* Tools/plutil.m:
        Fix a check for a null pointer and add various whitespace/indentation
	tidyups.

2020-11-07 Mingye Wang <arthur2e5@aosc.io>

	* Tools/plutil.1:
	* Tools/plutil.m:
        plutil: Some documentation

2020-11-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/plutil.m:
        Fixups for format and compilation

2020-10-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationCenter.m:
        Improve logging of an exception when posting a notification so that,
	if possible, we include the details of the notification being posted.

2020-10-27 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSRunLoop.h:
	* Source/NSRunLoop.m:
        fix for compilation error

2020-10-27 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSURLConnection.h:
        Add guards for API version

2020-10-26 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSURLConnection.h:
	* Source/NSRunLoop.m:
	* Source/NSURLConnection.m:
        Add methods for 10.5

2020-10-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDebug.m:
        Fix use of potentially invalid value from heap

2020-10-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GNUstep.h:
        Change the behavior of ENTER_POOL/LEAVE_POOL so that it no longer
	wraps the enclosed section of code in a loop (this was causing
	errors when people used the macros inside loops which contained
	pre-existing break/continue/return statements). You should not break,
	continue, or return from such a block of code (to do so could leak
	an autorelease pool and give objects a longer lifetime than they
	ought to have.  If you wish to leave the block of code early,
	you should ensure that doing so causes the autorelease pool outside
	the block to be released promptly (since that will implicitly
	release the pool created at the start of the block too).

2020-10-12 Adam Fox <adam.fox@eggplant.io>

	* Headers/Foundation/NSData.h:
	* Source/NSData.m:
	* Tests/base/NSData/search.m:
        Implementation of [NSData rangeOfData:options:range],
	adapted from [NSString rangeOfString:options:range].

2020-10-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.m:
        Remove break whose use depends on ENTER_POOL/LEAVE_POOL behavior

2020-10-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
        Fix retain/release error

2020-10-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m:
        Improve comments

2020-09-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
        Remove unnecessary retain/release

2020-09-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
        Added autorelease pool around each operation to catch any
	autoreleased objects produced by the operation being executed.
	This should prevent objects living until the end of the thread.

2020-09-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSInvocationOperation.m:
        Tidied indentation in code

2020-09-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSOperation.h:
        whitespace tidyups

2020-09-23 Mingye Wang <arthur200126@gmail.com>:

	* Tools/NSPropertyList+PLUtil.m:
	* Tools/plutil.m:
        plutil: Add plutil utility.

2020-09-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSDictionary/general.m:
        Add test for array as key

2020-09-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
        Tidied some whitespace/indentation and removed obsolete comment

2020-09-18 Riccardo Mottola <rm@gnu.org>

	* .travis.yml:
        fix typo

2020-09-17 Riccardo Mottola <rm@gnu.org>

	* Source/NSObject.m:
        Windows linker doesn't really support WEAK symbols, not even
	with gcc10. binutils 2.3.5 fails to link because not all
	symbols were exported

2020-09-17 Riccardo Mottola <rm@gnu.org>

	* .travis.yml:
        Use new option to disable unwind options in Travis build,
	patch by Frederik Seiffert

2020-09-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/GSDictionary.m:
        Implement fast enumeration for insensitive dictionary

2020-09-05 Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSPersonNameComponentsFormatter.m:
        Add missing break

2020-08-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c:
        Avoid coverity warning by using memmove rather than strcpy

2020-08-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSData+GNUstepBase.m:
	* Source/Additions/GSXML.m:
        Avoid coverity warning

2020-08-30 Fred Kiefer <fredkiefer@gmx.de>

        * Source/NSDateComponentsFormatter.m: Fix use of wrong operator.

2020-08-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
        Improve -contentFile to check the content-type header
	before content-disposition

2020-08-03 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSURL.h:
	* MISSING:
	* Source/NSURL.m:
        Add NSURL methods:

2020-08-02 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSNotification.h:
        Add NSNotificationName typedef

2020-08-02 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSAttributedString.h:
        Add NSAttributedStringKey typedef

2020-07-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
        Fix calls to utimensat() which were passing the wrong value
	for the first argument, which needs to be the file descriptor
	of the directory containing the file, or AT_FDCWD to use the
	current directory.

2020-07-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
        Set dates on copy ... it turns our OSX does not behave like Posix

2020-07-31 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSFileManager/general.m:
        Add checks for rewriting a file

2020-07-31 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

        Add check for timestamp behavior when writing via NSData method
	* Tests/base/NSFileManager/general.m:

2020-07-31 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSFileManager/general.m:
        Add delay to be clear file date is in past before we copy it

2020-07-30 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSFileManager/general.m:
        OSX, unlike Posix, sets the modification and creation dates of
	a copy to be the same as the original (within floating point limits).

2020-07-29 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSFileManager/general.m:
        Add test that creation/modification dates of copy differ from original

2020-07-28 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/config.h.in:
	* Source/NSException.m:
	* configure:
	* configure.ac:
        Explicitely allow disabling unwind, test for header and function too

2020-07-13 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSURLRequest.h:
	* Source/NSURLRequest.m:
        Update NSURLRequest header to use "instancetype".

2020-07-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m:
        Move deallocation of zombie map outside lock protected section
	so that any exception while deallocating will not cause
	unbalanced lock/unlock

2020-07-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
        When copying objects we should not be attempting to set the
	creation/modification date of the copy to that of the original.

2020-07-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLog.m:
        Add casts to prevent compiler warnings, and comment to explain
	the new change for android where there is no thread ID available
	from the operating system.

2020-07-08 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSLog.m:
       	Don't log current thread if its identical to private thread ID.
        This makes the log more succinct when GSLogThread is enabled and the
        system doesn't provide an OS-level thread ID (i.e. GSPrivateThreadID()
        returns GSCurrentThread()), which would previously cause the NSThread
        pointer to be logged twice.


2020-07-08 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSLog.m:
	* Source/NSProcessInfo.m:
	Improve NSLog output on Android.
        We now always set -GSLogSyslog, as stdout/stderr is not available on
        Android. Also fixes log output containing extraneous date/time.


2020-07-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m:
        We only need to set the ownership of a newly created file on
	unix-like systems where the effective user ID may be different
	from the real user ID.

2020-07-06 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSThread.m:
        Fix possible deadlock when becoming multi-threaded.

2020-06-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
        Replace temporary hack with a rewrite of whitespace checking to
	use our own characterset data (derived from unicode data) on
	which characters are counted as whitespace for the purpose of
	capitalising strings.

2020-06-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m:
        When overwriting a file, do not attempt to set creation date.
	When creating a file, try to use the real uid when effective uid
	is that of root.

2020-06-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
        Simple fix to check for whitespace characters using strchr since
	the old mechanism using characterset bitmap representations was
	broken by the change to reduce waste in bitmaps (the code assumed
	the bitmap was bigger than it really is).

2020-06-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSString/NSString_tests.h:
        Add a few tests for capitalisation

2020-06-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
	* Source/NSString.m:
        Check for nil arugment to -isEqualToString:

2020-06-23 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSString/basic.m:
        an empty string is not equal to nil

2020-06-19 Riccardo Mottola <rm@gnu.org>

	* Source/inet_ntop.m:
	* Source/inet_pton.m:
        define WSAAPI to empty if it is undefined, just for safety

2020-06-15 Riccardo Mottola <rm@gnu.org>

	* Source/GSSocketStream.m:
	* Source/NSHost.m:
	* Source/inet_ntop.m:
	* Source/inet_pton.m:
        specify WSAAPI as return type too, needed for MSYS2-32bit

2020-06-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/GSTLS/basic.m:
        Fix by Yavor Doganiv ... disable certificate expiry test except
	on 64bit systems, because old 32bit systems can't cope with the
	test certificate end date.

2020-06-11 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSValueTransformer.m:
        Fix recursive creation of value transformers.

2020-06-11 Frederik Seiffert <frederik@algoriddim.com>

	* Tests/base/NSValueTransformer/TestInfo:
	* Tests/base/NSValueTransformer/basic.m:
        Add tests for NSValueTransformer.

2020-06-10 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSBundle.m:
        Fix Android assets support for bundle directories

2020-06-09 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/config.h.in:
	* Source/GSSocketStream.m:
	* Source/NSHost.m:
	* configure:
	* configure.ac:
        Explicitely test for ws2tcpip.h header, fix library detection
	on windows for inet_ntop with corrent library, guard includes
	and definitions with configure results, cleanup header inclusion

2020-06-09 Riccardo Mottola <rm@gnu.org>

	* Tools/gdomap.c:
        Minor type cast to fix output for platforms where socket is unsigned

2020-06-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m:
        Do not attempt to alter creation date of newly created file.

2020-06-03 Frederik Seiffert <frederik@algoriddim.com>

	* configure:
	* configure.ac:
        Fix finding libiconv via cross.config.

2020-06-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
        Fix leak of new operation in -blockOperationWithBlock: method.
	Make -addExecutionBlock: ensure it works with an on-heap copy
	of its argument.  Tidy code to have NSBlockOperation methods
	with normal formatting and alphabetical order.  Tidy code to
	use standard macros for memory management.

2020-06-05 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/GSConfig.h.in:
        MSYS and MSYS2 differ in the tricks to include both windows.h
	and winsock2.h, use  __MINGW32_VERSION to differentiate them

2020-06-05 Riccardo Mottola <rm@gnu.org>

	* Source/win32/GSFileHandle.m:
        Remove unneeded window headers include, since common.h will
	include GSConfig.h

2020-06-05 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSConcreteMapTable.m:
        Fix replacing an existing value in a weak objects map table.

2020-06-05 Frederik Seiffert <frederik@algoriddim.com>

	* Tests/base/NSMapTable/weakObjects.m:
        Test replacing a weak value in NSMapTable.

2020-06-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m:
        Change -objectForKey: method to get the contents into a buffer (on
	the stack) and iterate through them rather than creating an
	autoreleased enumerator.
	This avoids allocation/autorelease/deallocation of the enumerator
	(as well as retain/release of the search list by the enumerator)
	which should give better performance generally and avoid excess
	object creation when lots of defaults lookups are done in an
	autorelease pool.

2020-05-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m:
        Wrap code for posting of notifications (for becoming multithreaded
	and for a thread being about to exit) in an autorelease pool.
	This should avoid possible leakage of objects and warnings during
	the notification process.

2020-05-29 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSThread/late_unregister.m:
        tidy whitespace

2020-05-23 Frederik Seiffert <frederik@algoriddim.com>

	* ChangeLog:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Source/GSNetwork.h:
	* Source/win32/GSFileHandle.m:
	* config/config.reuseaddr.c:
        Include winsock2.h before windows.h, as required by MSYS2/MinGW-w64.

2020-05-23 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSException.h:
        Fix warning "setjmp" redefined on Windows.

2020-05-15 Frederik Seiffert <frederik@algoriddim.com>

	* .travis.yml:
	* travis-deps.sh:
        Set up CI for Windows using MSYS2/MinGW-w64 and GCC.

2020-05-27 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSFilePresenter.h:
        Fix optional NSFilePresenter methods not being declared as optional.

2020-05-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m:
        On thread exit we must post the notification that it *will* exit
	before setting the instance variable to say that it has finished.
	This is tested as the order OSX does it, and makes sense to ensure
	that, when -isFinished returns YES we can be sure the thread will
	not do anything else.

2020-05-26 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSThread/late_unregister.m:
        Add tests for exactly when notification of thread exit occurs

2020-05-26 Frederik Seiffert <frederik@algoriddim.com>

	* Tests/base/NSUserDefaults/general.m:
        Extended general tests for NSUserDefaults.

2020-05-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/NSUnarchiver.m:
        Remove excess whitespace and copy trick to NSPortCoder

2020-05-25 Riccardo Mottola <rm@gnu.org>

	* Source/NSUnarchiver.m:
        Rewrite lower negative bounds to avoid integer constants underflow
	of literals

2020-05-25 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSUserDefaults.m:
        Store NSNumber instead of NSString for NSUserDefaults -setBool:forKey:.

2020-05-19 Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSBundle.m:
	* Source/NSFileManager.m:
        Android assets improvements to support directories

2020-05-15 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSKeyedArchiver.h:
	* Source/NSKeyedUnarchiver.m:
        Add set/get for requiresSecureCoding

2020-05-14 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSException.h:
        Fix BASE_NATIVE_OBJC_EXCEPTIONS check with OBJC_ZEROCOST_EXCEPTIONS.

2020-05-13 Frederik Seiffert <frederik@algoriddim.com>

	* Source/win32/GSFileHandle.m:
	* Source/win32/NSMessagePort.m:
        Fix building Win32 classes with nonfragile ABI.

2020-05-13 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSKeyedArchiver.h:
	* Source/NSKeyedArchiver.m:
        Add set/get method for requiresSecureCoding

2020-05-12 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSKeyedArchiver.h:
	* Source/NSKeyedArchiver.m:
        Fix fred's suggestions.  Put guard and make more general method
	the one which is called.

2020-05-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendar.m:
        Casts to fix systems where the UCalendarDateFields enumeration
	is unsigned.

2020-05-11 Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSKeyedArchiver.m:
        Send error back

2020-05-11 niwatako <1546218+niwatako@users.noreply.github.com>

	* Source/NSJSONSerialization.m:
        Fix exponent validation

2020-05-10 Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSISO8601DateFormatter.m:
	* Source/NSOrthography.m:
        Clean up some compiler warnings.

2020-05-09 Fred Kiefer <fredkiefer@gmx.de>

	* Tests/base/NSLocale/general.m:
        Mark more tests that depend on locale setting as hopes.
	* Tests/base/NSURL/basic.m: Use PASS_EQUAL in the downlaod test
	to get the actual http status reported.
	* Tests/base/NSXMLParser/parse.m: Mark stream test as hopeful
	as this isn't implemented at the moment.

2020-05-08 Fred Kiefer <fredkiefer@gmx.de>

        * Source/NSXMLParser.m: Fix small bug in last commit that broke
	all gui applications when there was a commented out section in
	the user default XML file.

2020-05-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m:
        Use RELEASE macro for memory management

2020-05-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m:
        Convert to using indexes into a buffer

2020-05-07 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSLocale.h:
	* Source/NSLocale.m:
        NSLocale improvements

2020-05-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m:
        Reorganise to make the separation of the two parsers clearer.
	NSXMLParser is the sloppy parser and can be selected using the
	dummy subclass GSSloppyXMLParser while, if we have libxml2,
	we can specifically select the strict parser using the
	GSStrictXMLParser class.

2020-05-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSXMLParser/basic.m:
	* Tests/base/NSXMLParser/parse.m:
        Update testcases to cover both parsers

2020-05-05 Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSXMLParser.h:
	* Headers/GNUstepBase/GSXML.h:
	* MISSING:
	* Source/Additions/GSXML.m:
	* Source/NSXMLParser.m:
	* Tests/base/NSXMLParser/parse.m:
        Implement -[NSXMLParser initWithStream:].

2020-05-05 Frederik Seiffert <frederik@algoriddim.com>

	* Source/unix/NSStream.m:
        Add NSInputStream support for reading Android assets from main bundle.

2020-05-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSet.m:
	* Tests/base/NSCharacterSet/general.m:
        Fix -[NSCharacterSet invertedSet] to work by calling -invert
	on a mutable copy

2020-05-04 Riccardo Mottola <rm@gnu.org>

	* Source/NSFileManager.m:
        In changeFileAttributes implement setting of creation date also
	for Unix, which needs to be done before setting the modification date.
	Also, implement reading the creation (birth time) date if a supported
	method was detected.

2020-05-04 alotorev <artem@lotoriev.com>

	* Source/NSURL.m:
	* Tests/base/NSURL/basic.m:
        Improvements  suggested by Fred Kiefer for the current pull request

2020-05-04 alotorev <artem@lotoriev.com>

	* Source/NSURL.m:
        OSX like behaviour for NSURLQueryItem initialisers
	Fixed bugs leading to leaks,  no autorelease in NSURLComponents
	factory methods.

2020-05-04 alotorev <artem@lotoriev.com>

	* Source/NSURL.m:
        Fixed initialization NSURLComponents with NSURL, should treat
	a query from NSURL as a percent-encoded string.

2020-05-04 alotorev <artem@lotoriev.com>

	* Tests/base/NSURL/basic.m:
	* Tests/base/NSURL/components.m:
        Added tests to highlight some problems of the current
	implementation of NSURLQueryItems and NSURLComponent.
	The tests passed on OSX.

2020-05-01 niwatako <1546218+niwatako@users.noreply.github.com>

	* Source/NSJSONSerialization.m:
        Fix loss of buffer in NSJSONSerialization.

2020-05-01 Riccardo Mottola <rm@gnu.org>

	* Source/NSFileManager.m:
        fix log info

2020-05-01 Riccardo Mottola <rm@gnu.org>

	* ChangeLog:
	* Headers/GNUstepBase/config.h.in:
	* Source/NSFileManager.m:
	* configure:
	* configure.ac:
        Use utimensat() to set file modification date, if available.

2020-04-30 Artem Lotorev <artem@lotoriev.com>

	* .gitignore:
	* Tests/GNUmakefile:
        Added param to run a test on a separate object or test file.
	Added .DS_Store to .gitignore

2020-04-28 Artem Lotorev <artem@lotoriev.com>

	* Tests/base/NSString/test09.m:
        Fixed build issue due to wrong argument in the macro

2020-04-28 Artem Lotorev <artem@lotoriev.com>

	* Tests/base/NSString/test09.m:
        Added helper method for percent decoding/encoding tests

2020-04-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
        Fixup -stringByAddingPercentEncodingWithAllowedCharacters:
	to ignore membership of the supplied set if the character
	is not in the ASCII range.

2020-04-27 Artem Lotorev <artem@lotoriev.com>

	* Tests/base/NSString/test09.m:
        Added test for [NSString stringByRemovingPercentEncoding],
	updated percent-encoding tests with PASS_EQUAL

2020-04-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
        Fix typo spotted by 'alotrev'

2020-04-26 Fred Kiefer <fredkiefer@gmx.de>

        * Source/NSLocale.m: Respect NSLocaleCalendarIdentifier if
        NSLocaleCalendar isn't set.
        * Headers/Foundation/NSCalendar.h,
        * Source/NSCalendar.m: Add newer features for NSDateComponents and
        started to clean up NSCalendar implementation.
        * Tests/base/NSCalendar/features-10-7.m: Add test for different
        time zone.

2020-04-25 Fred Kiefer <fredkiefer@gmx.de>

	* Headers/Foundation/NSCalendar.h:
	* Source/NSCalendar.m:
        Add missing NSDateComponents methods.

2020-04-24 Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSKeyedArchiver.h:
	* Source/NSKeyedArchiver.m:
        Start implementing some secure coding methods.

2020-04-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotification.m:
	* Tests/base/NSNotification/basic.m:
        Override -hash and -isEqual: so that notifications with the same name,
	object, and userInfo are considered equal. This is the OSX behavior.
        Add tests for notification equality

2020-04-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLResponse.m:
        Fix for NSURLResponse does not allow for multiple Set-Cookie
	headers in the same response #85 ... combine multiple header
	values as a comma separated list.

2020-04-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
        Fix for Deadlock in NSOperationQueue #49:
	If an exception occurs when trying to detach thread,
	catch it and log it so that locking is not broken by
	the exception breaking out of the lock protected region.

2020-04-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHTTPCookie.m:
	* Tests/base/NSHTTPCookie/basic.m:
        Add testcase for multiple cookies in a header.
	Fix error parsing a literal string (writing nul terminator
	to read only memory)

2020-04-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHTTPCookie.m:
        Rewrite code for separating individual cookies from a
	comma separated header so it better matches what OSX does
	(and is hopefully a bit simpler).

2020-04-16 Richard Frith-Macdonald <rfm@gnu.org>

	* configure:
	* configure.ac:
        Fix use of OBJC_RUNTIME_LIB before it was initialised.
	Thanks to johannes@brakensiek.info for spotting this.

2020-04-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSProcessInfo+GNUstepBase.m:
        Add casts to avoid compiler warnings about types of method

2020-04-15 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSArray+GNUstepBase.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/Additions/NSProcessInfo+GNUstepBase.m:
	* Source/Additions/NSPropertyList+GNUstepBase.m:
        Fully type method implementation pointers to improve compile time
	type checking.

2020-04-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSObject+GNUstepBase.m:
        When building outside GNUstep (additions for apple), include the
	runtime declarations and fix error in casting self.

2020-04-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSConfig.h.in:
	* Headers/GNUstepBase/GSVersionMacros.h:
	* configure:
	* configure.ac:
        Remove last vestiges of MIXED ABI support (it didn't really work), and
        change code to assume that use of the apple runtime means we have the
        nonfragile ABI (true for modern apple systems we may be interested in
        using). Regenerate configure script.

2020-04-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m:
        Fix line somehow missed from last commit

2020-04-13 Ivan Vučica <ivan@vucica.net>

	* ANNOUNCE:
	* Documentation/announce.texi:
        Normalize the accompanying text for the release announcement across
        core packages: standardize chapter name and GPG information.

2020-04-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m:
        Remove custom code for percent escaping and replace it with
	standard code using custom charactersets.

2020-04-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSURL/charsets.m:
        test the URL component character sets

2020-04-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURLProtocol.h:
	* Source/NSURLProtocol.m:
        Fix [NSURLProtocol -initWithRequest:cachedResponse:client:] to retain
        the client (up until the last message is sent to it) as OSX does.

2020-04-12 Richard Frith-Macdonald <rfm@gnu.org>

	* CharSets/URLFragmentAllowedCharSet.h:
	* CharSets/URLHostAllowedCharSet.h:
	* CharSets/URLPasswordAllowedCharSet.h:
	* CharSets/URLPathAllowedCharSet.h:
	* CharSets/URLQueryAllowedCharSet.h:
	* CharSets/URLUserAllowedCharSet.h:
	Removed character set data headers from non-standard location.
	* NSCharacterSet.m:
	Fixed to load URL characterset data from standard file.
	Changed bitmap representation to use much less space for charsets
	residing wholly in the base plane (in particular the URL charsets
	which are purely ASCII characters).
	* NSCharacterSetData.h:
	Regenerated to contain the URL charactersets and to contain the
	latest Unicode data (3rd Oct 2019).


2020-04-10 Richard Frith-Macdonald <richard@frithmacdonald.me.uk>

	* Tests/base/NSURL/basic.m:
        Use PASS_EQUAL for better diagnostics

2020-04-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GNUstep.h:
        Add ASSIGNMUTABLECOPY() macro for consistency with ASSIGNCOPY()
        Wolfgang pointed out that the lack of this macro was uninutitive.


2020-04-09 Riccardo Mottola <rm@gnu.org>

	* Source/NSFileManager.m:
        Implement read and set of File Creation Date attribute on Windows.

2020-04-09 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/config.h.in:
	* configure:
	* configure.ac:
        Add tests for non-POSIX lstat() struct members

2020-04-07  Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSOperation.m: Fix completion block memory management.

2020-04-05  Ivan Vucica <ivan@vucica.net>

	* ANNOUNCE:
	* NEWS:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/news.texi:
	Update release notes for 1.27.0.

2020-03-29  Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSThread.m: Use pthread_setname_np result instead of errno,
	which fixes setting thread name on platforms where errno is not set.

2020-03-29  Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSURLResponse.m: Fix parsing of NSURLResponse content type
	header.

2020-03-29  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSString.m: Attempt to make calls to GSICUCollatorOpen()
	more consistent and correct for ICU 65.

2020-03-26  Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSError.h:
	* Source/NSError.m: Added NSErrorDomain typedef.

2020-03-12  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSURL.m: Fix compiler warnings.
	* Headers/Foundation/NSLocale.h:
	* Source/NSLocale.m: Add a few convenience methods from MacOS 10.12.

2020-03-10  Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSURL.m: fix –[NSURLComponents setURL:] throwing
	exception for URLs that don't have all parts.

2020-03-01  Fred Kiefer <fredkiefer@gmx.de>

	* Tests/base/NSBundle/TestInfo,
	* Tests/base/NSBundle/GNUmakefile.preamble,
	* Tests/base/NSBundle/resources2.m: Extend test to check for
	framework resource loading.

2020-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Resources/Languages/Locale.canonical:
	Backward compatibility fix for ICU 65 by Fred Kiefer
	* Resources/Languages/README: Fix trivial typo

2020-02-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/objc-load.m: update GSPrivateSymbolPath() so that, on the
	path where LINKER_GETSYMBOL is not available, we attempt to lookup
	classes using the prefix ._OBJC_CLASS_ for the 2.0 ABI (earlier
	ABIs use a prefix of __objc_class_name_ for the class definition.

2020-02-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: When building the list of hosts to be probed to see
	if they have gdomap servers, fix code to include those explicitly
	defined in the config file.  Add -S option to list the addresses of
	the known gdomap servers.
	* Tools/gdomap.8: Document the new command line option.

2020-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSXPCConnection.h: remove unistd.h since
	workaround broke blocks code.  I guess we have to hope that
	sys/types.h has gid_t, pid_t, and uid_t on all systems we target.

2020-02-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Examples/dictionary.m:
	* Examples/nsconnection_client.m:
	* Headers/GNUstepBase/GNUstep.h:
	* Source/Additions/GSMime.m:
	* Source/NSConnection.m:
	* Source/NSDictionary.m:
	* Source/NSException.m:
	* Source/NSFileManager.m:
	* Source/NSFileWrapper.m:
	* Source/NSTask.m:
	* Source/NSUserDefaults.m:
	* Tools/AGSIndex.m:
	* Tools/AGSOutput.m:
	* Tools/cvtenc.m:
	Switch various places away from deprecated CREATE_AUTORELEASE_POOL()
	to use the ARC-compatible ENTER_POOL and LEAVE_POOL macros.

2020-02-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSXPCConnection.h: Workaround for clash between
	unistd.h and clang's reserved word __block

2020-02-05  Fred Kiefer <fredkiefer@gmx.de>

	* configure.ac: Use pkg-config to check for libxml.
	* configure: regenerate

2020-01-23  Fred Kiefer <fredkiefer@gmx.de>

	* Source/Additions/NSURL+GNUstepBase.m: Handle case where scheme
	is missing from the URL.

2020-01-20  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSPredicate.m: Allow simple predicates on NSDate.

2020-01-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: remove certificate key password from hash key of
	credentials since it's unnecessary there and we don't want it to be
	logged when debug is on (for security, passwords shouldn't appear
	in logs).

2020-01-12  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSPredicate.m: Add support for NSDate constants.

2020-01-12  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSKeyValueObserving.m: Implement two missing KVO methods
	on NSArray.

2019-12-15  Fred Kiefer <fredkiefer@gmx.de>

	* Headers/GNUstepBase/GSIMap.h: Use GSI_MAP_NODE_IS_EMPTY macros
	when checking in enumerator.
	* Source/NSConcreteHashTable.m,
	* Source/NSConcreteMapTable.m: Revert part of the weak pointer change.

2019-10-17  Frederik Seiffert <frederik@algoriddim.com>

	* Tests/base/NSHashTable/weakObjects.m:
	* Tests/base/NSMapTable/weakObjects.m:
	Added tests for [NSHashTable weakObjectsHashTable] and
	[NSMapTable strongToWeakObjectsMapTable].

2019-11-26  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSRunLoop.m:
	* Tests/base/NSRunLoop/dispatch.m:
	Fix runloop integration for libdispatch from swift-corelibs
	* .travis.yml:
	* travis-deps.yml:
	Fix CI related to libdispatch.

2019-11-15  Frederik Seiffert <frederik@algoriddim.com>

	* configure.ac: check for unwind.h
	* configure: regenerate
	* Source/NSException.m: Added support for backtrace symbolication
	using libunwind, which will be used when backtrace() is unavailable.

2019-11-14  Fred Kiefer <fredkiefer@gmx.de>

	* Headers/Foundation/NSXPCConnection.h,
	* Source/NSXPCConnection.m: Fix broken compilation on gcc.

2019-11-12  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: updated to latest info

2019-11-05  Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSProcessInfo.h:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	Added support for NSTemporaryDirectory() on Android using subfolder
	in folder returned by Context.getCacheDir(), as there is no official
	temp dir prior to API level 26. Clean up temp dir on launch in
	GSInitializeProcessAndroid(). Also use Context.getCacheDir()
	as NSCachesDirectory (with NSUserDomainMask) on Android.

2019-10-27  Fred Kiefer <fredkiefer@gmx.de>

	* Headers/Foundation/NSUnit.h,
	* Headers/Foundation/NSMeasurement.h,
	* Headers/Foundation/NSMeasurementFormatter.h,
	* Headers/Foundation/NSEnergyFormatter.h,
	* Headers/Foundation/NSLengthFormatter.h,
	* Headers/Foundation/NSMassFormatter.h,
	* Source/NSUnit.m,
	* Source/NSMeasurement.m,
	* Source/NSMeasurementFormatter.m,
	* Source/NSEnergyFormatter.m,
	* Source/NSLengthFormatter.m,
	* Source/NSMassFormatter.m,
	* Source/NSUnit.m: More cleanup on the measurement code.

2019-10-29  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSStream.h,
	* Source/GSStream.m,
	* Source/GSSocketStream.m:
	Use a more sane implementation to redirect event handling to the
	TLS handler while in a handshake.

	* Source/GSTLS.m:
	Fall back to a sane default if the TLS priority setting is invalid.

2019-10-28  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSSocketStream.m:
	Prevent premature deallocation when a socket is closed while in a
	TLS handshake.

2019-10-27  Fred Kiefer <fredkiefer@gmx.de>

	* Headers/Foundation/NSUnit.h,
	* Source/NSUnit.m: Clean up code and fix bugs.

2019-10-17  Frederik Seiffert <frederik@algoriddim.com>

	* Source/GSDispatch.h:
	* Source/NSArray.m:
	* Source/NSDictionary.m:
	* Source/NSIndexSet.m:
	* Source/NSOrderedSet.m:
	* Source/NSSet.m:
	Perform non-concurrent block enumeration calls in place instead
	of using serial queue to match Apple platforms.

2019-10-25  Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSMapTable.h:
	* Headers/Foundation/NSHashTable.h:
	Added generics support to NSMapTable and updated NSMapTable and
	NSHashTable to use "instancetype".

2019-10-02  Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSDictionary.m: fixed mutable dictionary keyed subscript
	behavior: assigning nil value via keyed subscript now correctly
	removes object for key.

2019-09-25  Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSProcessInfo.h:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	Added support for data directory on Android. This makes GNUstep use
	the path returned by Context.getFilesDir() as the basis for storing
	data (e.g. NSUserDefaults) and when querying system directory paths
	(NSLibraryDirectory, NSApplicationSupportDirectory, etc.). Requires
	calling a new GSInitializeProcessAndroid() initialization function.

2019-09-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: [-removeObjectsInArray:] add checks to prevent
	possible crashes, particulary if the method argument is the receiver;
	crash seen by Wolfgang.
	* Source/GSSocketStream.m: Fix incorrect key when setting old security
	level.  Change internal API name to avoid confusion.

2019-09-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: Re-order code to avoid setting session priority
	twice.
	* Source/NSFileHandle.m: Fix so that setting certificate information
	does not discard any other options already set.

2019-09-16  Alan Jenkins <alan.christopher.jenkins@gmail.com>

	* Tools/gdomap.c:
	A couple of is_local_net() tests were wrong: they used "&&"
	with masks, but that is the logical shortcut operator.
	The correct bitwise operator is "&".  The result was that
	is_local_net() was always returning true!
	Only allow local processes to send GDO_SERVERS requests.
 	This request is only useful locally.  Do not allow remote
	requests for the server list.  Our response can be large,
	so it would make a great UDP amplification attack.

2019-08-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: Fix for hang when writing large https
	requests.
	* Source/GSStream.h: improve diagnostics
	* Source/GSStream.m: improve diagnostics
	* Source/NSURLProtocol.m: improve diagnostics
	* Tests/base/NSURLConnection/Helpers/NSURLConnectionTest.m:
	* Tests/base/NSURLConnection/test05.m:
	Bugfix and new testcase for https request with large (over 64KB) body.

2019-08-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/NSThread.m:
	Improve reporting of excess performers so that, when one thread
	performs selectors in another, you can see the class of the receiver
	and the selector involved.

2019-08-08  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: check for malloc_usable_sizer()
	* configure: regenerate
	* Headers/GNUstepBase/config.h.in: regenerate
	* Headers/Foundation/NSDebug.h: Add GSMemoryBytes()
	* Headers/GNUstepBase/NSObject+GNUstepBase.h: Rework memory usage
	reporting extensions API.
	* Source/Additions/NSMutableString+GNUstepBase.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSData.m:
	* Source/NSDebug.m:
	* Source/NSDistantObject.m:
	* Source/NSObject.m:
	* Source/NSProxy.m:
	* Source/NSRunLoop.m:
	Updates for new memory reporting extensions API.  The parts of this
	dealing with the size of the contents of an object are now off by
	default (trying to calculate the size of an object is problematic if
	it is mutated while you are doing it) but classes can implement
	-sizeOfContentExcluding: to turn it on if they are thread-safe.
	Implementations provided for immutable container objects and for all
	strings.

2019-08-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Implement
	[NSMutableData+dataWithBytesNoCopy:length:freeWhenDone]

2019-07-28  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSByteCountFormatter.m: Fix to work in non fragile settings.

2019-07-19  Gregory Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSByteCountFormatter.h
	* Source/NSByteCountFormatter.m
	Implementation of NSByteCountFormatter as documented.
	* Tests/base/NSByteCountFormatter
	Add test for this class.

2019-07-10  Frederik Seiffert <frederik@algoriddim.com>

	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSOrderedSet.h:
	Fix generics definition of NSMutableArray and NSMutableOrderedSet.
	Fix NSArray and NSOrderedSet KVC method types to not use generic type.

2019-07-14  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSUbiquitousKeyValueStore.m: Change to use GNUstep
	formatting. Move simple methods into base class. Correct the usage
	of long long NSNumber.

2019-07-10  Gregory Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSUbiquitousKeyValueStore.h
	* Source/NSUbiquitousKeyValueStore.m: Implementation of
	skeletal version of this class for compilation.  Also put in
	place a way to make concrete subclasses for various services.

2019-07-02  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tests/base/GSTLS/basic.m: Use fixed time zone.

2019-07-02  Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSOrderedSet.h: Added header for class cluster
	implementation of NSOrderedSet.
	* Source/NSOrderedSet.m: Implementation of NSOrderedSet and NSMutableOrderedSet
	* Source/GSOrderedSet.m: Implementation of concrete class.

2019-07-01  Fred Kiefer <fredkiefer@gmx.de>

	* Source/GSXML.m (fatalErrorFunction): Use correct function to get
	line number.
	* Source/NSOperation.m (_execute): Surround with NS_DURING to free
	lock on error.

2019-06-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIArray.h:
	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSSet.m:
	* Source/NSArray.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSData.m:
	* Source/NSDictionary.m:
	* Source/NSDistantObject.m:
	* Source/NSObject.m:
	* Source/NSProxy.m:
	* Source/NSSet.m:
	* Source/NSString.m:
	Revise mechanism for extention to report memory usage of individual
	objects. This makes the inclusion of size of objects in ivars a
	default, while allowing easy extension to include other heap memory.
	API change not final.

2019-05-23  Frederik Seiffert <frederik@algoriddim.com>

	* configure:
	* configure.ac:
	Link against libandroid on Android.
	* Headers/Foundation/NSBundle.h:
	* Source/NSBundle.m:
	Added methods for passing Android asset manager from Java to GNUstep
	and for getting AAsset/AAssetDir for given path in main bundle.
	Skip app bundle suffix check on Android. Extended bundle resource
	paths backbone to check for known paths directly on Android as we
	can't enumerate directories.
	Extended -localizations method to check for known localizations
	directly (requires setting userLanguages in NSUserDefaults).
	Extracted path cache cleaning into separate method.
	* Source/GSFileHandle.h:
	* Source/GSFileHandle.m:
	Added file handle support for reading Android assets from main bundle.
	* Source/NSData.m:
	Added support for reading Android assets from main bundle in
	readContentsOfFile(). This is also used by all other
	-initWithContentsOfFile: and related methods from other classes.
	* Source/NSFileManager.m:
	Added support for Android assets from main bundle in
	fileExistsAtPath:isDirectory:, isReadableFileAtPath:,
	NSDirectoryEnumerator, and copying from assets. Extended
	GSAttrDictionary with basic support for Android assets.
	* Source/NSProcessInfo.m:
	Added +initialize method to auto-initialize NSProcessInfo on Android
	using fake executable path "/data/data/<app identifier>/exe" (Android
	apps don't have a real executable path).

2019-05-20  Frederik Seiffert <frederik@algoriddim.com>

	* Source/NSLog.m: Have all logs go to syslog on android.
	* Source/NSThread.m: Spinlock implementation using builtins as
	implemented by David in libobjc2
	* Source/NSRunLoop.m
	* Headers/GNUstepBase/config.h.in:
	* configure.ac:
	This updates the libdispatch runloop integration to be compatible with
	the Swift corelibs libdispatch release at
	(https://github.com/apple/swift-corelibs-libdispatch).

	In that release, the main queue handle and drain functions have been
	renamed with a "_4CF" (for CoreFoundation) suffix and have moved to
	private.h, so we now check for the existance of this header and
	function names.

	Note that libdispatch must be compiled with
	INSTALL_PRIVATE_HEADERS=YES.

	Also fixes the checks for the HAVE_LIBDISPATCH_RUNLOOP define (was
	inverted) and ensures that both the handle and drain functions are
	available.

2019-04-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Removed public functions which could conflict
	with application code.  Rewrote percent unescaping to avoid possible
	buffer overruns.
	* Tests/base/NSString/test09.m: avoid excess logging (for readability
	of test output).

2019-04-12 Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSCharacterSet.m: Added declarations/implementations for
	URL*AllowedCharacterSet.
	* Headers/NSCharacterSet.h: Added declarations here for
	URL*AllowedCharacterSet
	* Source/CharSets/*: Added headers to define new charactersets.
	* Source/NSString.m: Added methods stringByRemovingPercentEncoding/
	stringByAddingPercentEncodingWithAllowedCharacterSet:
	* Header/NSString.h: Added declrations for methods mentioned above.

2019-03-29 Igor Zhukov <fsb4000@yandex.ru>

	* Source/NSDateFormatter.m:
	* configure:
	* configure.ac:
	Decrease ICU version requirements to 49 to support Windows 2000.

2019-03-25  Sergii Stoian  <stoyan255@gmail.com>

	* Resources/Lanuages/Ukrainian:
	Fix wrong \U sequence for letter 'i' and short weekdays.

2019-03-18  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tools/gdomap.c:
	Fix crash in donames() when getaddrinfo returns an error.

2019-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unidoce.m: comment-out left-over debug logging.
	* Source/NSJSONSerialization.m: escape characters with codepoint
	greater than 0x7f.

2019-02-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSMime.m: When encoding quoted words in a header, ensure
	we don't split multibyte utf-8 characters into separate words.
	* Tests/base/GSMime/general.m: Add test for encode/decode folded
	subject line wit a euro symbol at the fold point.

2019-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/objc-load.m:
	GSPrivateSymbolPath() simplified by removing the unused argument
	and consolidated code so that, if the class lookup via dladdr()
	fails, we fall back to use __objc_dynamic_get_symbol_path().

2019-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix encoded word encoding specifier
	 to be uppercase ('B' or 'Q') as pere strict RFC specification.
	* Tests/base/GSMime/build.m: Add testcase for correct encoding.

2019-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/GSTLS/basic.m: Update testcase to use correct guard.

2019-02-12  Ivan Vucica <ivan@vucica.net>

	* Headers/GNUstepBase/GSTLS.h: Change guard to check for value of
	GS_USE_GNUTLS and not for its defined state. This preprocessor
	constant might be defined with a zero value indicating desire not to
	use GnuTLS, which would still pass the old check.

2019-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Improve thread safety with NSZombie particularly
	on startup/shutdown; be more careful about locking access to the
	zombieMap and also ensuring we don't raise an exception inside the
	locked sections (by passing a nil map to the functions).

2019-01-06  Armando Pesenti Gritti <armando.pesentigritti@theengagehub.com>

	* Headers/GNUstepBase/GSTLS.h: Header moved to provide public
	exposure of TLS classes giving ObjC interface to GNU TLS.
	* Source/GSTLS.m: New methods to provide certificate expiry times.
	* Source/DocMakefile: Make documentation from GSTLS.h
	* Source/GNUmakefile: Install GSTLS.h
	* Source/GSHTTPURLHandle.m: Adjust location of GSTLS header
	* Source/GSSocketStream.m: Adjust location of GSTLS header
	* Source/NSFileHandle.m: Adjust location of GSTLS header
	* Source/NSURLProtocol.m: Adjust location of GSTLS header
	* Tests/base/GSTLS: Add tests for certificate expiry
	Patch by Armando, adjusted  by RFM.

2019-01-06  Fred Kiefer <fredkiefer@gmx.de>

	* Source/Additions/Unicode.m: Move variable u to the correct scope
	and initialize it.

2019-01-06  Ivan Vucica <ivan@vucica.net>

	* ANNOUNCE:
	* NEWS:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/news.texi:
	Update release notes for 1.26.0.
	* Version:
	Bump version to 1.26.0.

2019-01-06  Ivan Vucica <ivan@vucica.net>

	* Tests/base/NSBundle/resources.m:
	Fixed change in 2107c82ca4778e4cf9b8624d1bd1fd60fe104373 which made
	NSArray *arr become invisible to the "NSBundle GNUstep resources"
	test set.

2019-01-06  Ivan Vucica <ivan@vucica.net>

	* config/icu.m4:
	* configure.ac:
	Merge the change to use pkg-config to detect ICU. Patch by Hugh
	McMaster <hugh.mcmaster@outlook.com>.
	Update PR #32 to require ICU 5.0+ and not 4.6+.
	* configure:
	Regenerated to incorporate the changes from PR #32. Regenerated with
	autoconf 2.69.

2019-01-06  Fred Kiefer <fredkiefer@gmx.de>

	* Documentation/news.texi: Update release notes for 1.26.0.
	* ChangeLog: Fix typos in this document.

2019-01-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.h:
	* Source/GSTLS.m:
	* Source/NSFileHandle.m:
	Track the age of TLS sessions for server connections and, when
	accepting an incoming connection, replace the current server
	connection (if the existing one is more than 5 minutes old) so
	that cached certificate information will be updated from file
	(eg if a certificate needs to be updated while a server is running).

2018-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/Foundation/NSObject.h:
	Remove reference to the copyWithZone: implementation of NSObject,
	which was removed ages ago.

2018-12-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURLHandle.h:
	* Source/NSURLHandle.m:
	* Source/GSHTTPURLHandle.m:
	Expose GNUstep specific methods for old code that depends on them.
	Newer code should use the newer HTTP/HTTPS APIs

2018-12-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/NSURL+GNUstepBase.h:
	* Source/NSURL.m:
	Add [-cacheKey] method to return a key usable for caching HTTP URL
	connections that go to the same scheme, host and port.
	* Source/GSHTTPURLHandle.m:
	New [-setURL:] method to change the URL used by a handle so that
	a networek connection used by a handle can be re-used if possible
	(ie if the scheme, host and port parts are unchanged).

2018-08-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: Fixup for last modification ... still verify the
	certificate (so we can find out who issued/owns it) even if we do
	not have verification turned on ... the verification setting controls
	whether we reject the connection.  Also fixed off by one bug in
	getting the issuer and owner distinguished names.

2018-08-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: Change behavior so that when acting as a server we
	always request that the client sends us a certificate (if it doesn't
	have one, it should ignore the request). The 'verify' setting should
	control only whether a request without a certificate is rejected.

2018-08-08 Riccardo Mottola <rm@gnu.org>

	* configure.ac
	* configure:
	When checking for pthread_np.h include pthread.h if available or
	it may fail (e.g. OpenBSD).

2018-08-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Update the cache on change of volatile
	domain or search list, not just when perstistent domain values
	change.

2018-07-19  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: Updated zone info and corrected preferred
	abbreviation mappings to match OSX.

2018-07-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: improve utf8 validity checks,
	switch to state machine based utf8 parsing for better performance.
	* Tests/base/NSString/utf8.m: add a few tests for utf8 parsing.

2018-07-10  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* configure:
	When using clang, we now supply -fobjc-runtime=gcc to target the
	gnu/gcc runtime ABI.

2018-07-07  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSString.m: Add primitive implementation for
	rangeOfComposedCharacterSequencesForRange:.

2018-07-06  Fred Kiefer <fredkiefer@gmx.de>

	* Source/GSString.m: Remove GSString copyWithZone:.
	* Source/NSString.m: Raise exception when no data is provided for the
	string. This brings our implementation closer to the Cocoa one.
	* Source/GSString.m: Add similar exceptions.

2018-07-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base/NSString/test00.m: : Move _unicodeString from here...
	* Source/GSString.m: ... to here.
	In order to reliably test the internal 16bit unicode implementation
	we must have a method guaranteed to produce an instance of the correct
	class.

2018-07-01  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSString.m: Small cleanup for printf registration.
	* Tests/base/NSString/test00.m: Add David Chisnall's test from
	newapi branch slightly reformatted.
	* Source/GSString.m: Remove code that was identical to super class.
	* Source/GSString.m: Move the method _unicodeString from here...
	* Tests/base/NSString/test00.m: ...to here.

2018-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: Fix conversion of numeric entities with large
	values into UTF-16 surrogate pairs before returning them as string.

2018-06-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/Base.gsdoc:
	* Source/GSPrivate.h:
	* Source/NSException.m:
	* Source/NSUserDefaults.m:
	Add boolean GSExceptionStackTrace user default to turn on inclusion
	of stack trace information in the -description of an exception
	(like the GNUSTEP_STACK_TRACE environment variable). Useful for
	diagnostic logs of a long running server process.

2018-04-30  Graham Lee  <graham@iamleeg.com>

	* Source/NSCalendar.m (calendarWithIdentifier:):
	New convenience method implemented by Cocoa.

2018-05-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: avoid static initialisation macro for allocation
	locks in case some systems implement it in a way that doesn't work
	after static initialisation takes place.

2018-05-27  Fred Kiefer <fredkiefer@gmx.de>

	* Tests/base/NSProcessInfo/general.m: Mark test for -systemUptime
	as hopeful as it may fail in GNU Hurd.
	Fixes bug #53941.
	Based on idea by Yavor Doganov  <yavor@gnu.org>

2018-05-21  Fred Kiefer <fredkiefer@gmx.de>

	* Source/GSConcreteValueTemplate.m: Add hack to make point and
	size subclasses for NSValue interchangable.

2018-05-20  Ivan Vucica <ivan@vucica.net>

	* Source/NSThread.m:
	Fix typo in code branch for platforms without pthread_spin_lock().
	Check for value of HAVE_PTHREAD_SPIN_LOCK instead of whether the
	macro is defined.

2018-05-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdnc.m: Remove a little unused code
	* Headers/Foundation/NSFileHandle.h:
	* Source/GSHTTPURLHandle.m:
	* Source/GSSocketStream.m:
	* Source/GSTLS.h:
	* Source/GSTLS.m:
	* Source/NSURLProtocol.m:
	Add support for TLS SNI (Server Name Indication) and a new option
	(GSTLSServerName) to control what name (if any) is passed in the TLS
	handshake.

2018-05-17  Yavor Doganov  <yavor@gnu.org>

	* Tests/base/NSNumberFormatter/basic10_4.m: Avoid test failure on
	big-endian platforms by converting unichar to an NSString.

2018-05-10  Fred Kiefer <fredkiefer@gmx.de>

	* Tools/pl2link.m (main): Don't write deprecated fields to desktop
	link file.
	Patch by: Josh Freeman <gnustep_lists@twilightedge.com>

2018-04-24  Richard Frith-Macdonald <rfm@gnu.org>

	* configure: regenerate
	* NSObject.m: tiny cosmetic whitespace tidyup
	* NSThread.m: move declarations to avoid compiler warning

2018-04-23  Riccardo Mottola <rm@gnu.org>

	* Source/NSThread.m:
	Detect if platform is missing spin locks and provide an dummy
	implementation. Emit warning during compilation and runtime (in debug).

2018-04-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: ensure that the thread specific memory key is
	initialised before use.

2018-04-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Improve -symbold method on platforms without
	backtrace support (list addresses with a message to say the symbols
	are not available).

2018-04-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Using class_createInstance() to allocate locks
	seems to be causing memory issues and crashes somehow.  Temporarily
	comment out that code to try to get things working again.

2018-04-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
	* Source/NSArray.m:
	* Source/NSCharacterSet.m:
	* Source/NSString.m:
	Use pthread mutex directly to try to avoid initialising NSLock too
	early on during process startup.

2018-04-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Don't set the name of the global lock until
	after we have make sure that strings and autorelease are set up.

2018-04-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
	* Source/GSHTTPAuthentication.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSMDNSNetServices.m:
	* Source/GSURLPrivate.h:
	* Source/NSCalendar.m:
	* Source/NSCharacterSet.m:
	* Source/NSConnection.m:
	* Source/NSCountedSet.m:
	* Source/NSIndexPath.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSLocale.m:
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSUserDefaults.m:
	* Source/NSValueTransformer.m:
	Replace the obsolete GSLazyLock code with standard NSLocks now that
	almost all significant software is multithreaded.

2018-04-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: When adding a new thread, set the thread specific
	memory to point to the object before doing anything else which might
	attempt to access the thread (causing recursive registration).

2018-04-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/unicode/cop.h: Add comment/fixme
	* Source/Additions/Unicode.m:
	* Source/NSString.m:
	Move uni_isnonsp() to NSString.m and make it use nonBaseCharacterSet
	so that it correctly copes with both surrogate pairs and traditional
	composed character sequences.  NB. David points out that this is not
	full/correct unicode grapheme cluster handling (it's the main part
	of the handling for 'legacy' grapheme clusters).

2018-04-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSThread.h:
	* Source/GSPrivate.h:
	* Source/NSException.m:
	* Source/NSLock.m:
	* Source/NSThread.m:
	Revised code for efficient stack traces and for tracking the use of
	locks and detecting deadlocks.

2018-03-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Fix second argument to backtrace()

2018-03-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Use pthread mutexes directly to avoid
	recursive interactions with tracking NSL:ock activity.

2018-03-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/NSDebug.m:
	* Source/NSException.m:
	* Source/NSThread.m:
	* Headers/Foundation/NSThread.h:
	Move stack info code from NSDebug to NSException so its all in one
	place and.  Make thread call stack addresses method use windows code
	as well as libbacktrace.  Remove unused method.
	* Source/NSTimeZone.m:
	Simplify and optimise locking by using pthread_mutex functions
	directly.

2018-03-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSDebug.m:
	Avoid recursion in lock tracing when using memory allocation stats.
	* Source/NSObject.m:
	Make gnustep_global_lock an untraced lock to avoid recursion issues
	when tracing.

2018-03-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSLock.h:
        * Headers/Foundation/NSThread.h:
        * Source/GSPrivate.h:
        * Source/NSLock.m:
        * Source/NSThread.m:
	Experimental code to add support for tracing locks held by different
	threads and to report deadlock situations where threads have
	obtained locks in the wrong order and can never proceed.

2018-03-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	* Source/NSOperation.m:
	Give locks names to ease debugging

	* Source/NSObject.m:
	* Source/NSZone.m:
	Updates to use pthread mutexes directly rather than NSLock objects
	in key places for performance.

2018-03-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPThread.h:
	* Source/GSException.m:
	Optimise generation of stack traces to store them in a single simple
	malloced buffer and only generate an NSArray of return addresses if
	actually requested.  Also adjust output of stack trace to exclude the
	top few frames involved in generation of the trace, so we see only
	the frames of interest.

2018-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSLock.h: Expose pointer to function handling
	logging of deadlocks.
	* Source/NSLock.m: Indirect via pointer so apps can intercept the
	logging of deadlocks.
	* Source/GSHTTPURLHandle.m: Provide more detailed debug logging.
	* Source/NSURLProtocol.m: Provide more detailed debug logs.

2018-02-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSeq.h: Fixup error in last modification.
	* Source/GSString.m: Add method to reliably get a GSUnicodeString
	* Tests/base/NSString/test00.m: Fix tests to properly check range
	searches using all combinations of 8bit and 16bit representation
	strings.

2018-02-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSeq.h: Fix boundary checks searching for unicode strings.

2018-02-16  Yavor Doganov  <yavor@gnu.org>

	* Tests/base/NSNumberFormatter/basic10_4.m: Extend test expression
	to fix test failure with ICU 60.2.

2018-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Fix strncat length limits.

2018-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: fix missing fieldwidth specified in fscanf call

2018-02-09  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSXMLElement.m(-addAttribute:): Correct linear list code
	for name spaces. This fixes the last remaining Coverity issue.

2018-02-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.h
	* Source/NSUnarchiver.h
	Improve checks for loss of data converting sizes of scalar types.

2018-02-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSAttributedString.m: remove a little dead code
	* Tests/base/NSMutableAttributedString/test00.m: add sanity checks
	* Tests/base/NSMutableAttributedString/test01.m: add sanity checks
	* Source/GSString.m: raise exception on character conversion failure
	* Source/NSNumberFormatter.m: remove dead code
	* Source/NSPropertyList.m: avoid warnings using cast to void
	* Source/NSMessagePortNameServer.m: added security checks
	* Source/NSDecimal.m: tweak underflow setting for negative numbers
	* Tools/AGSHtml.m: remove useless test

2018-02-07  Yavor Doganov  <yavor@gnu.org>

	* Source/NSPortMessage.m (sendBeforeDate:): Invoke
	-sendBeforeDate:msgid:components:from:reserved: so that the value
	of _msgid is taken into account.
	(initWithSendPort:receivePort:components:): Set _msgid to 0.

2018-02-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSException.h:
	* Source/NSAssertionHandler.m:
	* Documentation/manual/ExceptionHandling.texi:
	Update NSAssert() and NSCAssert() to handle variable arguments
	(as OSX has done) and mark the numbered macros as obsolete.
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m: Log if we fail to turn on keepalive
	* Source/NSURL.m: fix possible nul pointer dereference
	* Source/NSPropertyList.m: check step before use
	* Source/NSDate.m: add comment that we are ignoring non-digits
	* Source/NSCache.m: use double division for calcualting averrage
	* Source/NSPredicate.m: check for termination of quoted strings

2018-02-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m: Remove redundant (always true) conditional.
	Use cast to mask 64bit values.
	* Source/NSUnarchiver.m: Remove redundant (always true) conditional.
	* Source/NSPropertyList.m: Remove dead code
	* Source/NSDecimal.m: Remove dead code, tweak underflow setting for
	negated numbbers.
	* Tools/gdnc.m: Remove dead code

2018-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m: keep checker happy by using return value of
	setsockopt.
	* Source/Additions/Unicode.m: ensure iconv handle is closed
	* Source/NSLocale.m: localeIdentifierFromComponents should cope with
	collation alone being set.
	* Source/GSString.m: better handling if character conversion fails.
	* Source/NSRunLoop.m: suppress warning using cast.
	* Source/NSTimeZone.m: check that time zone hour is in range 0 to 23

2018-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFTPURLHandle.m: change memcpy to memmove to avoid possible
	problems with overlapping source and destination areas.
	* Source/Additions/Unicode.m: ensure iconv handle is closed
	* Source/NSXMLParser.m: fix incorrect type assignment

2018-02-01  Fred Kiefer <fredkiefer@gmx.de>

	* Source/GSFormat.m: Call va_end with the correct parameter.
	* Source/NSObject+NSComparisonMethods.m: Add missing return.
	* Source/GSString.m (-replaceCharactersInRange:withString:,
	-initWithBytesNoCopy:...freeWhenDone:): Remove dead code.
	* Source/NSDistantObject.m (-initWithCoder:): Remove dead code.
	* Source/NSPredicate.m (_eval_avg:): Don't devide by zero.
	Fix issues found by Coverity.

2018-01-26  Richard Frith-Macdonald <rfm@gnu.org>

	* NSCharacterSets/GNUmakefile:
	* NSCharacterSets/alphanumericCharSet.dat:
	* NSCharacterSets/controlCharSet.dat:
	* NSCharacterSets/dataToHeader.c:
	* NSCharacterSets/decimalDigitCharSet.dat:
	* NSCharacterSets/decomposableCharSet.dat:
	* NSCharacterSets/illegalCharSet.dat:
	* NSCharacterSets/letterCharSet.dat:
	* NSCharacterSets/lowercaseLetterCharSet.dat:
	* NSCharacterSets/newlineCharSet.dat:
	* NSCharacterSets/nonBaseCharSet.dat:
	* NSCharacterSets/punctuationCharSet.dat:
	* NSCharacterSets/symbolAndOperatorCharSet.dat:
	* NSCharacterSets/uppercaseLetterCharSet.dat:
	* NSCharacterSets/whitespaceAndNlCharSet.dat:
	* NSCharacterSets/whitespaceCharSet.dat:
	Obsolete files deleted.
	* NSCharacterSets/README.CharSet: updated
	* Source/NSCharacterSetData.h: regenerated using the ucsdata library
	and the charsets tools to take into account the fact that a unicode
	zero width space should be counted as white space by us.
	* Source/NSURL.m: A few OSX compatibility tweaks.
	* Tests/base/NSURL/basic.m: A couple more OSX compatibility tests.

2018-01-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSException.h:
	* Source/NSException.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	Mark exception raising methods with GS_NORETURN_METHOD.
	Alter noreturn method implementations so the compiler knows
	that they really don't return.
	Use pragma to suppress warnings about noreturn methods whose
	formal declaration says they return an id.

2018-01-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSNumber+GNUstepBase.m:
	* Source/GSValue.m:
	* Source/NSZone.m:
	* Tools/gdomap.c:
	Fix various small issues picked by automated checker.

2018-01-19  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/Makefile.postamble: Restore optimisation flags (removed 18
	years ago) for NSInvocation and NSConnection (and remove obsolete
	mframe setting) as suggested by Yavor Doganov.

2018-01-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Improve exception message when performing a
	selector on a finished thread.
	* Source/NSTask.m: Do not try to notify task completion on a thread
	that is not executing.
	* configure.ac: Fix for older versions of pkg-config
	* configure: regenerate

2018-01-14  Yavor Doganov  <yavor@gnu.org>

	* Tests/base/NSXMLDocument/basic.m:
	* Tests/base/NSXMLDocument/cdata.m:
	* Tests/base/NSXMLNode/basic.m:
	* Tests/base/NSXMLElement/attributes.m:
	* Tests/base/NSXMLElement/basic.m:
	* Tests/base/NSXMLElement/children.m:
	* Tests/base/NSXMLElement/transfer.m:
	* Tests/base/NSXMLNode/children.m:
	* Tests/base/NSXMLNode/description.m:
	* Tests/base/NSXMLNode/kinds.m:
	* Tests/base/NSXMLNode/namespaces.m: Skip tests if libxml2 is not
 	available.
	* Tests/base/NSTimeZone/use.m: Skip one more test if
 	NSLOCALE_SUPPORTED is undefined.
	* Tests/base/NSRegularExpression/basic.m: Skip all tests if ICU is
 	not available.

2018-01-14  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Remove explicit test for SAX2.h as we now assume
	it is present based on the version of libxml2.
	* configure: regenerate
	* Source/GSXML.m: fix errors in loading/resolving of external entities
	and fix the parsing methods to correctly return whether the xml was
	validated against a DTD (when that feature is turned on).
	* Tests/base/GSXML/basic.m: add a couple of tests for resolving
	external references and validating against a DTD.

2018-01-14  Yavor Doganov  <yavor@gnu.org>

	* configure.ac: Use PKG_PROG_PKG_CONFIG instead of AC_PATH_PROG to
 	find pkg-config as it supports cross-compilation.
	* configure.ac: Bump ICU requirement to >= 50 for UDAT_PATTERN.

2018-01-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: OSX compatibility tweaks and correction
	for setting entity resolution flag in sloppy parser.
	* Headers/GNUstepBase/GSXML.h: new [-resolveEntities:] method to
	enable resolving of external entities (now off by default).
	* Source/Additions/GSXML.m: Changes to turn off resolving of
	external entity references my default (adding a new method to turn
	the feature back on) as a security fix to prevent xml injection
	attacks (eg where an attacker gets the local password file substituted
	into an xml document).
	* Tests/base/NSXMLParser/parse.m: external entity resolution test.
	* Tests/base/GSXML/basic.m: external entity resolution test.

2018-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Fix bug with one path to object allocation
	failing to record the object for memory debuggin purposes.

2018-01-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m:
	Tweaks for OSX compatibility ... treat a missing path in an http URL
	as an empty string rather than as nil.

2018-01-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
	* Tests/base/NSFileManager/general.m:
	Added <graham@iamleeg.com> Graham Lee's fix for #51592 to not raise
	an assertion, but rather call the handler if the source file being
	copied does not exist.

2017-12-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPort.m:
	* Source/NSMessagePort.m:
	* Source/win32/NSMessagePort.m:
	There is a possible race condition when attempting to write a message
	to a port; the port handle is added to the run loop and then the loop
	is entered, but if an event occurs in the loop which invalidates the
	handle and causes it to be removed from the loop before the lower
	level code to wait for I/O is entered, the loop may never receive an
	event on the handle and could wait indefinitely.
	The solution is not to remove the handle from the loop when it is
	invalidated or when an event occurs on an invalidated handle, but
	only remove it in the method which added it.  Of course, this means
	we must make certain to remove it when we should, which means that
	the loop must be run inside an exception handler which makes sure to
	remove the handle from the loop before re-raising the exception.

2017-12-31  Ivan Vucica <ivan@vucica.net>

	* ANNOUNCE
	* NEWS
	* Documentation/ReleaseNotes.gsdoc
	* Documentation/news.texi: Update release notes for 1.25.1 to
	take note of compatibility improvement changes since release
	notes were written, and to fix a typo.

2017-12-21  Riccardo Mottola <rm@gnu.org>

	* Source/NSObject.m:
	Cleanup previous commit.

2017-12-21  Riccardo Mottola <rm@gnu.org>

	* Source/NSObject.m:
	Compatibility for OS/compiler not supporting weak symbols.

2017-12-20  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Remove obsolete --enable-objc-nonfragile-abi flag
	when building for ng.
	* configure: regenerate

2017-12-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: 1.25.1 release
	* Documentation/ReleaseNotes.gsdoc: update for release
	* Documentation/news.texi: update for release
	* ANNOUNCE: regenerate
	* INSTALL: regenerate
	* NEWS: regenerate
	* README: regenerate

2017-12-18  Graham Lee  <graham@iamleeg.com>

	* Source/NSJSONSerialization.m: Fix for bug #12 on github. This
	makes sure that unsigned integer types are written as such,
	avoiding a potential overflow.

	* Tests/base/NSJSONSerialization/tests00.m: Test case for above.

2017-12-17  David Chisnall <theraven@sucs.org>

	* Source/NSObject.m:      Refactor refcount usage.

	This makes it easier for the runtime to change how reference
	counts are
	stored by removing any refcount manipulation from -base when
	the runtime
	provides accessors.  This should have no functionality
	change with
	existing runtimes, but will let newer runtimes drop in
	alternative
	representations easily.

2017-12-03  Fred Kiefer <fredkiefer@gmx.de>

	* Headers/Foundation/NSFileManager.h
	* Source/NSFileManager.m: Correct setting the delegate.
	Add new symbolic link method.

2017-11-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: Fix for bug reported on github by zneak.

2017-11-04  Fred Kiefer <fredkiefer@gmx.de>

	* Source/GSLocale.m: Protect against
	GSPrivateNativeCStringEncoding() corrupting the return value of
	setlocale(). Bug #52331 reported by Jakub Wilk <jwilk@jwilk.net>.

2017-10-26 Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m: Fix how UDateFormat is created. Fixes
	bug #52011.

2017-09-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Improve handling in case where we try to perform
	a method in a thread and it can't be woken (the pipe to awaken the run
	loop is full).  Instead of blocking forever, give up after a second.
	Typically pipe buffers are from 4KB to 64KB so a full buffer almost
	certainly indicates that the thread is hung.

2017-08-24  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Fix bug in ISO code methods.

2017-08-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m: Fixed error where the presence of a
	Location error was taken to indicate a redirect rather than looking
	at the HTTP status code for a 3xx value.

2017-08-16  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURLDownload.h:	
	As of macOS 10.7, NSURLDownloadDelegate is exposed formally as a
	protocol. This adds the declaration to make this true for GNUstep.

2017-08-15  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSTextCheckingResult.h:	
	Define missing constants in the NSTextCheckingResult header.

2017-08-04  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSObjCRuntime.h:	
	Add empty definitions for OSX Availability macros for compatibility
	purposes.

2017-07-10  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSString.m (lengthUTF8):
	Characters outside the BMP cannot be converted to Latin 1 string
	encoding either.

	* Tests/base/NSString/pairs.m (main):
	* Tests/base/NSString/unichar_const.m:
	Add test cases.


2017-07-07 Riccardo Mottola <rm@gnu.org>

	* Source/NSProcessInfo.m:
	Fix GetTickCount()/GetTickCount64() for different Windows versions.

2017-07-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: When an object's retain count is incremented too
	far, track it so that we only raise an exception about it once (and
	make the exception message more informative so we can more easily
	tell what object has been leaked).

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSFileManager.h
	* Source/NSFileManager.m:
	Implement a method for getting attribytes of a file system path. Reuse
	the implementation of -fileSystemAttributesAtPath: for this purpose but
	export the last system errors to the caller. Make
	-fileSystemAttributesAtPath: use the new implementation, without
	exposing error info to the caller.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/Foundation.h
	* Headers/Foundation/NSFileCoordinator.h
	* Headers/Foundation/NSFilePresenter.h
	* Headers/Foundation/NSFileVersion.h
	* Headers/Foundation/NSURLSession.h
	* Source/GNUmakefile
	* Source/NSFileCoordinator.m
	* Source/NSFileVersion.m
	* Source/NSURLSession.m:
	Generate class stubs (without any method definition) for
	NSFileCoordinator, NSFilePresenter, NSFileVersion and NSURLSession.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURLConnection.h:
	Currently, NSURLConnectionDelegate methods were defined as a category of
	an NSObject. The same definitions were copied over to a new
	NSURLConnectionDelegate protocol, introduced in OSX 10.7.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURLCredential.h
	* Source/NSURLCredential.m:
	Declare the NSURLCredentialPersistenceSynchronizable enumeration case to
	NSURLCredential persistence options. Since GNUstep does not support
	iCloud synchronization for credentials, this case will default to
	NSURLCredentialPersistencePermanent.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURLProtectionSpace.h
	* Source/GSHTTPAuthentication.m
	* Source/NSURLProtectionSpace.m:
	Improve handling of NSURL authentication methods. Make "HTMLForm"
	authentication a no-op as it should be instead of making it fall back to
	Basic authentication.

	Add stubs for NTLM and Negotiate IIS methods. They should be easily
	implementable given the current framework for authentication methods.

	Add stubs for ClientCertificate and ServerTrust authentication methods.
	A blocker for supporting them is the lack of a Security.framework
	implementation (since they rely on SecTrustRef). They would also require
	additions to the current SSL handling code for GNUstep https requests.
	Also stub the -distinguishedNames property of NSURLProtectionSpace,
	which also deals with certificate-related authentication methods.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURLRequest.h:
	Add new values for the NSURLCachePolicy enum. Although
	NSURLRequestReloadIgnoringLocalAndRemoteCacheData and
	NSURLRequestReloadRevalidatingCacheData have been left unimplemented,
	the same applies for the reference platform, so not supporting it does
	not break API compatibility.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSZone.h:
	Implement NSMakeCollectable(), an interface which makes CoreFoundation
	objects eligible for garbage collection.
	Since garbage collection is a totally deprecated API, and support has
	now been removed from GNUstep, its implementation is a no-op.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSProcessInfo.h
	* Source/NSProcessInfo.m:
	Add stubs for sudden termination APIs and for application activity
	management methods.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSProcessInfo.h
	* Source/NSProcessInfo.m
	* Tests/base/NSProcessInfo/general.m:
	Introduce the systemUptime property to NSProcessInfo, which can compute
	platform-independently what is the uptime of the system.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Source/NSHTTPCookie.m
	* Tests/base/NSHTTPCookie/basic.m:
	Fix a bug in NSHTTPCookie's Set-Cookie parser where it would fail to
	parse more than one key-only cookie (such as "Secure; HTTPOnly;") in a
	header.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSHTTPCookie.h
	* Source/NSHTTPCookie.m
	* Tests/base/NSHTTPCookie/basic.m:
	Add support for parsing HTTPOnly cookies (those that cannot be accessed
	by clients). Implement -[NSHTTPCookie isHTTPOnly].

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSHTTPCookie.h:
	Make -[NSHTTPCookie isSessionOnly] and -[NSHTTPCookie isSecure] methods
	become properties if possible, so that they can be also queried as
	`cookie.sessionOnly` and `cookie.secure`. This increases compatibility
	with applications that rely on this notation.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSFileManager.h
	* Source/NSFileManager.m:
	Create NSFileManagerDelegate, a more modern manner to verify whether to
	proceed a file operation after an error or whether an operation should
	actually be performed by NSFileManager.

	No functionality using the delegate is yet implemented.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURL.h
	* Source/NSURL.m
	* Source/externs.m:
	Create an unimplemented stub for NSURL's -getResourceValue:... method,
	which can gather a numerous set of information about a URL.

	Define the constants which are passed into -getResourceValue:... for
	requiring information so that a build that relies on this method does
	not break.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURL.h:
	Create the NSURL.fileURL property to increase compatibility with
	applications that rely on this.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURL.h
	* Source/NSURL.m:
	The OSX filesystem implements "aliases", a species of symlink which
	tracks its source if it was moved. Create stubs for the NSURL functions
	which handle these aliases.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSURL.h
	* Source/NSURL.m:
	Implement +[NSURL fileURLWithPath:isDirectory:], a class method added in
	OSX 10.5, which was missing from the implementation.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSCoder.h
	* Headers/Foundation/NSObject.h
	* Source/NSCoder.m
	* Source/NSKeyedUnarchiver.m:
	Implement stubs for NSSecureCoding which do not break projects that rely
	on it.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSDate.h
	* Source/NSDate.m:
	Declare a system clock change notification. Base still does not emit
	this notification, but this allows applications that wait for it not to
	have their build broken.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSObjCRuntime.h:
	Create the NS_ROOT_CLASS macro, a wrapper around the objc_root_class
	compiler attribute.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSObjCRuntime.h:
	Make NS_AVAILABLE and NS_CLASS_AVAILABLE macros no-ops so that their
	absence does not break projects that rely on it.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSCalendar.h:
	Update NSCalendarUnit definitions with a newer specification from Cocoa.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSCalendar.h:
	Add the NSCalendarOptions enum to NSCalendar for compatibility purposes.
	While NSCalendar does not yet know how to handle them, it will not
	generate build errors in projects that attempt to use them.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSCalendar.h
	* Source/NSCalendar.m
	* Source/NSLocale.m:
	Add new calendar identifier constants to NSCalendar, to add
	compatibility for newer OSX applications. Some identifiers do not hold
	parity with the older equivalents and have been left unimplemented, with
	the gregorian calendar as a fallback.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/NSGeometry.h
	* Source/NSGeometry.m
	* Tests/base/Functions/NSGeometry1.m:
	Create the NSEdgeInsets struct in NSGeometry, introduced in OSX 10.7.
	Add helper functions for creating these insets.

	This struct is not used in Base. Rather, it is used as part of newer
	APIs in GUI.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/Foundation/FoundationErrors.h:
	Create a no-file-exists error to the FoundationErrors enums. No function
	is yet implemented to throw this error, but it has been added for
	compatibility with applications that handle it.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* Headers/GNUstepBase/GSVersionMacros.h:
	To keep compatibility with compilers prior to Objective-C 2.0 support,
	added in the GCC 4.6 series, we are unable to always declare @property
	attributes in classes. However, compatibility with dot-syntax
	applications require us to define properties if we can.

	We already had some checks for the GS_HAS_DECLARED_PROPERTIES macro to
	see whether we could or could not declare properties (or whether we
	should fall back to manual getter/setter defining). However, it seems
	this macro never got defined.

	This commit adds this macro, checking whether we possess either GCC >=
	4.6 or Clang.

2017-06-29  Daniel Ferreira <dtf@stanford.edu>

	* .gitignore:
	Create a .gitignore file to ease Base development using the Git version
	control system. This stops object files, automake products and test
	files from being accidentally inserted into the tree.

2017-06-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedLock.m: Revert recent changes to use O/S
	specific system calls, and depend on new behavior of the
	-createDirectoryAtPath:attributes: method instead.  Add comment.

2017-06-18  Richard Frith-Macdonald <rfm@gnu.org>

 	* Source/NSFileManager.m: Make directory creation semantics match OSX
   	* Tests/base/NSFileManager/general.m: Add directory creation testcases
  	* Tests/base/NSDistributedLock/basic.m: Cleanup lock after tests

2017-06-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIMap.h: Fix GSI_MAP_NODE_IS_EMPTY macros as
	suggested by Daniel Ferreira <bnmvco@gmail.com>

2017-06-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedLock.m: Change code to create lock directory
	directly rather than via the NSFileManager methods since Wolfgang
	pointed out that those methods consider a pre-existing directory to
	have been successfully created, but the distributed locking logic
	supposes that an attempt to create an existing directory will fail.
	* Tests/base/NSDistributedLock:
	* Tests/base/NSDistributedLock/TestInfo:
	* Tests/base/NSDistributedLock/basic.m:
	Add a few simple testcases for NSDistributedLock.

2017-05-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSFileHandle.h:
	* Source/GSSocketStream.m:
	* Source/GSTLS.h:
	* Source/GSTLS.m:
	* Source/NSFileHandle.m:
	Add code to make the issuer and owner of a client certificate
	available when we require/verify an incoming certificate.

2017-05-10  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tools/gdomap.c (nameServer, donames): Fix incorrect use
	addresses returned from getaddrinfo.

2017-04-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSOutput.m: When generating class/method links, treat '['
	as the start of a class/method only if it's the start of a comment
	or is preceded by white space ... allows array syntax like foo[x] to
	be used in a comment without attempting to link to a class named 'x'.

2017-04-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: 1.25.0 release
	* Documentation/ReleaseNotes.gsdoc: update for release
	* Documentation/news.texi: update for release
	* ANNOUNCE: regenerate
	* INSTALL: regenerate
	* NEWS: regenerate
	* README: regenerate

2017-04-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPredicate.m:
        * Tests/base/NSPredicate/basic.m:
	Fixes for bug #47618.

2017-04-09  Richard Frith-Macdonald <rfm@gnu.org>

   	* Headers/Foundation/NSTask.h:
   	* Source/NSTask.m:
	Apply OSX compatibility fix for NSTask notifications (bug #49021)
	by Larry Campbell.

2017-04-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: Fix leak spotted by David Lobron.

2017-04-01 Riccardo Mottola <rm@gnu.org>

	* Source/NSConnection.m
	Correct format specifier to char*

2017-03-17 Riccardo Mottola <rm@gnu.org>

	* Source/NSFileManager.m:(nextObject of Enumerator)
	Skip file if no valid filename could be retrieved most probably due
	to Charset mismatches, this is is more a last resort: probably a
	lossy conversion should be attempted before.

2017-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZones/NSTimeZones.tar: Updated with latest information.

2017-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Implement NSNonLossyASCIIStringEncoding
	in a manner compatible with OSX.  Added regression tests.

2017-02-11  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSICUString.m (UTextNSStringAccess,
	UTextInitWithNSMutableString, UTextInitWithNSString):
	Fix a serious misunderstanding of the icu string access API: The
	value of nativeIndexingLimit must not exceed the length of the
	current chunk. Otherwise icu library macros could miss to properly
	reinitialize chunks, which, for instance, could lead to returning
	regular expression matches outside the selected range.

2017-01-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Use getaddrinfo rather than gethostbyname if 
	available (bug #50032).

2016-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSParser.m: Fix missing line preventing documentation of
	enumeration constants.

2016-11-28  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Additions/NSCalendarDate+GNUstepBase.m (weekOfYear): Fix
	an off by 1 calculation which meant that weekOfYear would return 2
	for the first week of a year whenever the first Thursday of that
	year is 7 Jan, for instance 2016.

2016-11-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/NSUnarchiver.m:
	Fix for logic error decoding archives created by a machine with a
	different word size.  Was checking the size of the encoded scalar
	item, but not against the *local* size of the same type.

2016-11-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Fix error in last mod ... was calculating opbject
	layout incorrectly when fast-ARC moce used on 64bit system.
	Also simplified by removing special case optimising for single-threaded
	programs and use inline decrement to improve performance of release.

2016-10-28  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSObject.m: Re-enable fast-ARC mode when memory layout
	and atomic operations support permit. This changes the size of the
	field where the reference count is stored to the size of a pointer
	in some configurations.
	The effective maximum reference count is still 2^24 - 1.

2016-10-27  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSObject.m: Comment out _ARCCompliantRetainRelease for
	now because the retain count representation in gnustep-base and
	libobjc2 differs causing space leaks on 64-bit architectures.

2016-10-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Only atempt to read regular files into NSData,
	* Source/NSMessagePortNameServer.m: Ignore lock directories in the
	'names' directory.
	* Source/NSTask.m Increase files to close from 256 to 2048 to better
	reflect typical modern system limits.
	All changes for problems spotted by Wolfgang.

2016-10-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSDate.h: Add documentation
	* Source/NSDate.m: Tidy up and remove a little redundant code.
	* Source/NSRunLoop.m: Tidy up and empty autorelease pool more often.
	* Source/NSTimer.m: Tidy a little and improvde -description

2016-10-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSTLS.h:
	* Source/GSTLS.m:
	Fix for double free issues when assigning certificat/key to
	credentials fails.

2016-10-12  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSRegularExpression.m: Fix crashes in libicu due to
        * ignored error codes. Also fix a few memory leaks.
	* Tests/base/NSRegularExpression/basic.m: Test cases for this.

2016-10-11  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTLS.m
	* configure.ac
	* Headers/GNUstepBase/config.h.in:
	Check for gnutls_x509_privkey_import2() and use it if
	available.
	* configure: Regenerate
	* Tests/base/GSTLS:
	Test case for loading an OpenSSL encrypted private key.

2016-10-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Check for modification of source file
	during copy.

2016-10-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Permit noncharacter unicode codepoints
	* Source/GSString.m: Permit noncharacter unicode codepoints
	* Source/NSNotificationQueue.m: Call GSPrivateCheckTasks()
	* Source/NSRunLoop.m: Let GSPrivateNotifyASAP() check for task exit.

2016-09-19  Niels Grewe <niels.grewe@halbordnung.de>>

	* Source/Additions/GSMime.m (charsetForXml):
	Fix detection of charset in XML document.
	* Tests/base/GSMime/xml-charset.m: Test case.

2016-09-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Additions/GSMime.m (convertTo7BitSafe):
	Add missing checks to avoid calling caseInsensitiveCompare: with a
	nil argument.

2016-09-16  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTLS.m: Fix bug removing mapped certificates.

2016-09-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSScanner.h:
	* Source/NSScanner.m:
	* Tests/base/NSScanner/test01.m:
	Add support for scanHexLongLong method inspired/based on patch from
	Abbas Raza, but with minor bugfixes, reduced code duplication, and
	avoiding compiler warnings.

2016-08-30  Abbas Raza <abbas.raza.1707@gmail.com>

	* Source/NSJSONSerialization.m: Generate NSError rather than raising
	exception if the trailing '"' in the dsocument is missing.

2016-08-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSMime.m: Fix typo which was causing premature termination of
	long headers.

2016-08-19  Richard Frith-Macdonald <rfm@gnu.org>

	* config/objc-common.g: Darwin patch by David Wetzel
	* Source/CompatibilityHeaders.make: Delete obsolete file
	* configure.ac: Check for libdispatch runloop integration functions
	* Headers/GNUstepBase/GSConfig.h.in: New define for libdispatch
	* config.mak.in: New define for libdispatch
	* Tests/base/NSRunLoop/dispatch.m: Use new define
	* configure: Regenerate
	* Source/Additions/Makefile.preamble:
	* Source/GNUmakefile:
	* Source/Makefile.postamble:
	* Source/Makefile.preamble:
	* Source/ObjectiveC2/Makefile.preamble:
	* Source/unix/Makefile.preamble:
	* Source/win32/Makefile.preamble:
	* Tools/Makefile.preamble:
	* Tools/make_strings/GNUmakefile.preamble:
	Mostly tweaks for building cleanly non-flattened and removal of a few
	long deprecated directories/headers.
	Configuration time change by David Wetzel for building on OSX

2016-07-27  Niels Grewe <niels.grewe@halbordnung.de>

	* Header/Foundation/NSData.h
	* Source/NSData.m:
	Make the deallocator block a direct ivar of NSDataMalloc
	(or NSMutableDataMalloc respectively). Breaks binary 
	compatibility but avoids reallocating objects based on 
	the initializer used.

2016-07-26  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSDictionary.m
	* Tests/base/NSDictionary/general.m:
	Fix -getObjects:andKeys:
	
2016-07-26  Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSData.h
	* Source/NSData.m
	* Tests/base/NSData/general.m:
	Implement OS X 10.9 method -initWithBytesNoCopy:length:deallocator:
	that allows customising data deallocation based on a caller
	supplied block. Also adds test cases for this functionality.

2016-07-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m:
	* Source/GSSocketStream.m:
	In -close we should close the underlying file descriptor (even if the
	stream has not formally been opened yet) to ensure we don't leak it.
	In -dealloc, if the file descriptor still exists, we should call the
	-close method.

2016-07-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSObject+GNUstepbase.m: use separate lock to
	protect at exit methods ... avoid conflict/deadlock with multithreaded
	notification change.

2016-07-18  Larry Campbell <lcampbel@akamai.com>

	* Source/NSThread.m: Send notification about becoming multithreaded
	when the new thread is registered from outside our API.

2016-07-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: avoid sorting the queue ... keep the array of
	waiting operations sorted by inserting new operations at the correct
	position and observing the queuePriority of waiting operations (and
	re-positiuoning them in the waiting array as necessary).
	Fix for scalability problem (bug #47926)

2016-07-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSRunLoopCtxt.m: fix bug in return value when polling.
	The poll method must return YES if any input source fired, including
	handling of windows messages which are already available and require
	no wait.

2016-07-15  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac:
        * Headers/GNUstepBase/config.h.in:
        * Source/GSQuickSort.m:
        * Source/GSShellSort.m:
        * Source/GSSorting.h:
        * Source/GSTimSort.m:
        * Source/NSSortDescriptor.m:
	Make sorting algorithms selectable at runtime rather than compile
	time.

2016-07-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m (-acceptInputForMode:beforeDate:):
	Closer to OSX behavior ... when accepting input we should fire all
	timers (possibly repeatedly) since a timer is not counted as an
	input source.  Also simplify housekeeping timer so that it will
	keep loops running as it does on OSX.

2016-07-12  Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSObjCRuntime.h
	* Headers/GNUstepBase/GNUstep.h:

	Add NS_DESIGNATED_INITIALIZER macro

2016-07-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSICUString.m (UTextNSStringAccess):
	Fix to use signed integer variables so all the comparisons with zero
	as a boundary actually work as intended etc (spotted by Wolfgang).
	* Source/NSRunLoop.m: Closer to OSX behavior ... a nil date is treated
	like a date in the distant past (ie loop terminates at once), and the
	(-runUntilDate:) method fires any pending timers when given a date in
	the past.

2016-07-12  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSICUString.m (UTextNSStringAccess): Fix unsigned
	comparison to properly detect integer underflows.

2016-07-06  Niels Grewe <niels.grewe@halbordnung.de>

	* Tests/base/NSRegularExpression/basic.m: Test for -pattern
	double free.

2016-07-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSRegularExpression.m (-pattern): Fix bug where a UText
	structure owned by the icu library is incorrectly closed, which
	was causing a crash when -pattern is called more than once for the
	same NSRegularExpression.

2016-07-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m: Remove some unnecessary locking
	* Source/NSOperation.m: Simplify handling of finishing of operation
	to avoid occasional deadlock if an operation finishes in one thread
	while in another thread we are waiting for it.

2016-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSICUString.m: For immutable strings, cache the string
	length in the UText structure to avoid repeated calls to -length

2016-06-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSICUString.m: Re-implement the function to let ICU access
	the contents of an NSString.  The original version looks like it was
	broken for cases where an algorithm is moving backwards in the string
	(reverse search and regular expression parsing).
	I hope the new implementation is correct (or at least clearer); the
	ICU documentation is minimal and I didn't find any reference/example
	implementations to work from.

2016-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDebug.m: Yse setjmp/longjmp from NSException.h
	* Headers/Foundation/NSException.h: On mingw-w64 use the builtin
	setjmp/longjmp provided by gcc since the mingw version sometimes
	crashes.

2016-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* SSL: Openssl bundle directory deleted
	* GNUmakefile: Don't build openssl bundle
	* Source/NSFileHandle.m: Don't load openssl bundle
	* configure.ac: remove option to build bundle
	* configure: regenerate
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/install.texi:
	* Documentation/news.texi:
	* Documentation/readme.texi:
	Updates to note that the obsolete openssl bundle has been removed.

2016-06-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSTask.h:
        * Source/NSTask.m:
        * Tests/base/NSTask/general.m:
        * Tests/base/NSTask/notify.m:
	Add -terminationReason method from OSX10.5

2016-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePort.m:
	* config/config.reuseaddr.c:
	Hack to work around Hurd local domain socket bug.
	Plus don't try to set SO_REUSEADDR on local domain sockets anyway.

2016-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/Base.gsdoc:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/news.texi:
	* Source/Makefile.postamble:
	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/NSTask.m:
	* Source/NSThread.m:
	* configure:
	* configure.ac:
       When using  non-flattened environment, the subdirectory name for
       libraries/binaries is changed for Debian compatibility (and simplicity)
       to use a directory whose name is of the form architecture/library-combo
       rather than nested directories of the form cpu/os-abi/library-combo.
       The architecture name format is a sanitised triplet cpu-os-abi (where
       previously we had cpu/os-abi).
       These changes are the first step in making GNUstep work seamlessly
       with Debian multiarch.  To use them you will need to rebuild your
       entire gnustep installation using a version of gnustep-make which
       has correspoinding changes to know where to install bbinaries and
       resources.  However, the changes should have no effect on a flattened
       installation (currently the default).

2016-06-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedNotificationCenter.m: Double timeout from five
	to ten seconds when waiting for the server to become reachable.
	* Tools/gdnc.m: Auto-stop 15 seconds after the last client disconnects
	rather than immediately ... allowing other clients time to connect.
	Changes to reduce the chance of gdnc failure on a slow system where
	the server is not running as a daemon.

2016-06-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Optimise getting ascii or utf8 characters
	from a literal string.

2016-06-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Make sure we treat the reference count as a
	32bit integer everywhere, so that atomic operations operate on the
	correct value on big endian CPUs with different word sizes.
	* Source/NSOperation.m: When starting an operation, have it retain
	itself in case it'ss removed from the queue and released while
	running.
	* Headers/Foundation/NSDistributedLock.h: Add lock ivar.
	* Source/NSDistributedLock.m: Make class thread-safe using lock.
	* Source/Tests/base/KVC/mutable.m: Fix 64bit error in method types.

2016-06-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/cifframe.m: Use sizeof(NSInteger) as the buffer size for
	small scalars if we are on an LP64 machine.
	* Source/NSOperation.m: Retain operation while taking it from queue,
	releasing after it is finished.  Prevent crash if the original owner
	of the operation releases it while it's in the queue.

2016-06-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	* Source/NSURLprotocol.m:
	When sending HTTP headers, use RFC2047 rules (as specified in HTTP/1.1
	RFC2616) to encode non-ascii characters.

2016-06-17  Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSRegularExpression.h
	* Source/NSRegularExpression.m
	* Tests/base/NSRegularExpression/basic.m:

	Implement resource limits for regular expression evaluation. Tweaked
	to roughly match the Cocoa behaviour, but can be changed through
	the GSRegularExpressionWorkLimit user default.

2016-06-17  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSRegularExpression.m: Implement -isEqual: and -hash
	* Tests/base/NSRegularExpression/basic.m: Test NSCopying

2016-06-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: Fix for failure of connect() call.
	* Source/GSStream.m: Fix event handling for failed streams.
	* Tests/NSURLConnection/test01.m: Add testcases, fix reset of delegate.
	Fixes for kfreebsd network stack being clever enough to fail the
	connect() call if the remote port is on the same machine and has
	no process listening on it.  Reported by Heintzmann

2016-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/Base.gsdoc:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/news.texi:
	Documentation/release notes preparation for next release.

	* Source/Makefile.postamble:
	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/NSString.m:
	* Source/NSTask.m:
	* configure.ac:
	Changes to use the new multiarch path component cpu-host rather
	than a host subdirectory inside a cpu directory.
	* configure: Regenerate

2016-06-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Fix output conversion to 7bit to work for quoted-printable.
	Also, when generating headers, generate conventionally
	capitalised names.

2016-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Conversion of multipart document between base64 and binary encoding
	should use quoted-printable rather than base64 for text parts.
	Rename -convertToBase64 to be -convertTo7BitSafe instead.

2016-05-27  Niels Grewe <niels.grewe@halbordnung.de>

  	* Tools/AGSParser.m: Ignore __asm__ directives

2016-05-19 Seong Gu Lee <sgleehd@gmail.com>

	* GNUmakefile:
	* Source/Additions/Makefile.preamble:
	* Source/ObjectiveC2/Makefile.preamble:
	* Source/unix/Makefile.preamble:
	* Source/win32/Makefile.preamble:
	mingw64 tweaks

2016-05-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: attempt fix for bug #47619

2016-05-18  Eric Heintzmann <heintzmann.eric@free.fr>

	* ChangeLog.2:
	* Documentation/news.texi:
	* Headers/Foundation/NSAutoreleasePool.h:
	* NEWS:
	* Source/GSSocksParser/GSSocksParser.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSConnection.m:
	* Source/NSKeyedUnarchiver.m:
	* Tools/AGSParser.m:
	Fix typos andss spelling erros, including the setPoolCountThreshold:
	method.

2016-05-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/manual/manual.texi:
	* Source/GSSocksParser/GSSocks4Parser.m:
	* Source/GSSocksParser/GSSocks5Parser.m:
	* Tools/pldes.1:
	Trivial fixes based on debian package.

2016-05-14  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/GNUstepBase/config.h.in:
        * Source/NSException.m:
        * configure.ac:
        * configure:
	Make USE_BFD control usage of libbfd and replace runtime warning with
	a configure time warning about the license issue.

2016-05-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSZone.h:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Source/GSQuickSort.m:
	* Source/GSString.m:
	* Source/GSTimSort.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSConcretePointerFunctions.h:
	* Source/NSGarbageCollector.m:
	* Source/NSNotificationCenter.m:
	* Source/NSObject.m:
	* Source/NSThread.m:
	* Source/NSZone.m:
	Completed(?) removal of GC support.
	Plus various minor reorganisations to avoid compiler warnings.

2016-05-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Fix bug encoding very long headers with no whitespace to fold on.
	* Source/NSThread.m:
	Avoid use of autorelease pool when setting the name of the thread
	(fix pointless warnings logs spotted by Wolfgang).

2016-05-06 18:03-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSString.h: Add containsString:
	* Headers/GNUstepBase/GSVersionMacros.h: Add 10.10 and 10.11 macros.
	* Source/NSString.m: Add containsString: implementation.

2016-04-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m:
	Check for a pool being deallocated when it has already been
	deallocated (and raise an exception).

2016-04-23  Marcus Mueller <znek@mulle-kybernetik.com>

	* Source/GSAvahiNetService.m: Avahi-based NSNetServices did crash
	upon publishing if Avahi daemon did not run. Hardened code for this
	case which also works correctly if daemon is started later on.

2016-04-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m:
	Remove redundant code.  Log domain names when debug is enabled.

2016-04-08 Riccardo Mottola <rm@gnu.org>

	* Source/NSUserDefaults.m:
	Skip nil domains explicitely and do not use nil values to look them up.

2016-04-04  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Check for runloop integration hooks in libdispatch
	* configure
	* Headers/GNUstepBase/config.h.in
	* SSL/config.h.in
	* SSL/configure:
	Regenerate
	* Source/NSRunLoop.m: If available, monitor the file descriptor for
	the libdispatch main queue and drain it when it becomes readable.
	* Tests/base/NSRunLoop/dispatch.m
	* Tests/base/NSRunLoop/GNUmakefile.preamble:
	Tests for libdispatch runloop integration

2016-03-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h:
	* Headers/GNUstepBase/GNUstep.h:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Headers/GNUstepBase/GSIArray.h:
	* Headers/GNUstepBase/GSIMap.h:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GSLock.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/Unicode.m:
	* Source/GSArray.m:
	* Source/GSAttributedString.m:
	* Source/GSConcreteValueTemplate.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSHTTPAuthentication.m:
	* Source/GSRunLoopCtxt.h:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSArchiver.m:
	* Source/NSArray.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSCalendar.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSConcretePointerFunctions.h:
	* Source/NSConcretePointerFunctions.m:
	* Source/NSConnection.m:
	* Source/NSCountedSet.m:
	* Source/NSData.m:
	* Source/NSDebug.m:
	* Source/NSDictionary.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSFileManager.m:
	* Source/NSGarbageCollector.m:
	* Source/NSHashTable.m:
	* Source/NSIndexSet.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSMapTable.m:
	* Source/NSMessagePort.m:
	* Source/NSNotificationCenter.m:
	* Source/NSNotificationQueue.m:
	* Source/NSObject.m:
	* Source/NSPointerArray.m:
	* Source/NSPortCoder.m:
	* Source/NSProxy.m:
	* Source/NSRunLoop.m:
	* Source/NSSerializer.m:
	* Source/NSSet.m:
	* Source/NSSocketPort.m:
	* Source/NSString.m:
	* Source/NSThread.m:
	* Source/NSTimeZone.m:
	* Source/NSURL.m:
	* Source/NSURLConnection.m:
	* Source/NSURLProtocol.m:
	* Source/NSUnarchiver.m:
	* Source/NSZone.m:
	* Source/callframe.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Tools/AGSHtml.m:
	* Tools/AGSOutput.m:
	* Tools/AGSParser.m:
	* Tools/autogsdoc.m:
	* Tools/gdnc.m:
	* Tools/make_strings/make_strings.m:
	* configure.ac:
	* macosx/config.h:
	Removal of garbage collection support.

2016-03-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m: Attempt to fix endianness archiving issue.

2016-03-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Remove unused function.  Change binary
	plist generation to return NO if our index table needs to grow,
	rather than raising exceptions during normal operation.

2016-03-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/news.texi:
	* ANNOUNCE:
	* NEWS:
	* NSTimeZones/NSTimeZones.tar:
	* Tools/AGSParser.m:
	* Version:
	Update version for new release. Add short news/announce entries.
	Update timezone information to latest IANA data.
	Add simple support for generics to autogsdoc.

2016-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Wait longer for locks on slow systems
	Improve tracking of changes in persistent domains.

2016-03-17  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/GNUstepBase/GSXML.h:
        * Source/Additions/GSXML.m:
        * Source/GSHTTPURLHandle.m:
        * Source/NSConnection.m:
        * Source/NSDistantObject.m:
        * Source/NSURLHandle.m:
        * Source/NSURLRequest.m:
	Make -setDebug: consistently set/return an integer even if the
	underlying meaning is boolean.  Avoid compiler warnings when
	calling the method on an id and signature is not known.

2016-03-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m:
	* Source/NSTimeZone.m:
	Use NSInteger conmsistently (don't mix with int).

2016-03-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Log if we break the lock.
	* Source/NSDistributedLock.m: Unlock if dealloc'ed while locked.

2016-03-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Remove five year old code for converting
	old style single defaults file to new style (one file per domain).
	Add some thread safety locks for distriobuted locking in case some
	thread issue is causing Riccardo's problem.

2016-03-11	Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSPredicate.h:
	Include NSString.h so that we the header knows about NSString
	conforming to NSCopying.

2016-03-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSDictionary.m:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSArray.m:
	* Source/NSBundle.m:
	* Source/NSFileManager.m:
	* Source/NSJSONSerialization.m:
	* Source/NSPointerArray.m:
	* Source/NSPredicate.m:
	* Source/NSPropertyList.m:
	* Source/NSSerializer.m:
	* Source/NSSet.m:
	* Source/NSSortDescriptor.m:
	* Source/NSString.m:
	* Source/NSTimeZone.m:
	* Source/NSUserDefaults.m:
	Deprecate -makeImmutableCopyOnFail: and replace with -makeImmutable.
	The new method has the essential functionality of the old one,
	but omits the confusing ownership semantics and is therefore less
	likely to cause errors (and more amenable to use with ARC.)

2016-03-10  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/Foundation/NSLocale.h:
	* Source/NSLocale.m (+localeWithLocaleIdentifier:):
	Add trivial method introduced in OS X 10.6.

2016-03-09 Riccardo Mottola <rm@gnu.org>

	* Headers/Foundation/NSPathUtilities.h
	* Source/NSPathUtilities.m
	Add some new path values.

2016-03-09	Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSPredicate.h
	* Source/NSPredicate.m
	* Tests/base/NSPredicate/basic.m:
	Implementation and tests for +predicateWithBlock: and
	-evaluateWithObject:substitutionVariables:

2016-03-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPortNameServer.m:
	* Source/GSSocketStream.h:
	* Source/NSTimeZone.m:
	* Source/GSSocketStream.m:
	* Source/NSCalendarDate.m:
	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source/GSRunLoopWatcher.m:
	* Source/NSUserDefaults.m:
	* Source/GSStream.m:
	* Source/NSDebug.m:
	* Source/GSTLS.m:
	* Source/NSFileHandle.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSPage.m:
	* Source/GSRunLoopCtxt.h:
	* Source/GSPrivate.h:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/objc-load.m:
	* Source/NSException.m:
	* Source/NSURL.m:
	* Source/NSObject.m:
	* Source/NSString.m:
	* Source/cifframe.h:
	* Source/Additions/NSData+GNUstepBase.m:
	* Source/Additions/NSError+GNUstepBase.m:
	* Source/Additions/NSTask+GNUstepBase.m:
	* Source/NSConnection.m:
	* Source/GSPortPrivate.h:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSHost.m:
	* Source/GSNetwork.h:
	* Source/NSPipe.m:
	* Source/GSFileHandle.h:
	* Source/NSLog.m:
	* Source/GSFileHandle.m:
	* Source/NSTask.m:
	* Tests/base/NSTask/launch.m:
	* Tests/base/NSURL/basic.m:
	* Tests/base/NSURL/mystep.m:
	* Tests/base/NSString/test02.m:
	More changes to standardise on using _WIN32 define for windows.

2016-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendar.m: Fix 64bit issue with undefined components.
	* Source/NSBundle.m:
	* Source/NSFileManager.m:
	* SSL/GSSSLHandle.m:
	* Headers/GNUstepBase/GSConfig.h.in:
	* macosx/GNUstepBase/preface.h:
	Standardise on using _WIN32 and _WIN64 defines, following the
	informal convention used by all the compilers we might be compiled with.
	* Source/win32/GSFileHandle.m: Various network/file bugfixes.

2016-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	Modifications to last batch of changes in order to get the code to
	build again on 32bit msys/mingw

2016-03-01  Seong Gu Lee <sgleehd@gmail.com>

        * Headers/GNUstepBase/GSConfig.h.in:
        * Headers/GNUstepBase/GSTypeEncoding.h:
        * Source/GSFileHandle.h:
        * Source/win32/GSFileHandle.m:
	Tweaks for WIN64 build

2016-02-29  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac:
        * configure:
	* NSCalendar.m:
	Don't require recent ICU just for the method
	([-components:fromDate:toDate:options:]).
	Leave the method as a no-op if older versions are used.

2016-02-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Based on testplant patch, fix bug with
	ownership when copying subdirectories.
	* Source/NSTask.m OSX compatibility tweak .. raise an exception if
	the task can't be launched.
	* Source/NSNumberFormatter.m: Fixes for symbol indexes.

2016-02-26 	Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSObjCRuntime.h: Declare the FOUNDATION_EXPORT
	macro as an alias for GS_EXPORT.

2016-02-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSArray.h:
	* Source/NSArray.m:
	Correct argument types in ([-objectAtIndexedSubscript:]) and
	([setObject:atIndexedSubscript:]) to match OSX.
	Apply patch by Patrick Laurent <plaurent@me.com> to fix bug setting
	an object at the end of the array.

2016-02-22	Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSObjCRuntime.h: Add macros for backwards-
	compatible generics annotations. Also define instancetype if necessary.
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSCache.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSEnumerator.h:
	* Headers/Foundation/NSSet.h: Update interfaces for instancetype and
	generics.
	* Source/NSCache.m: Use NSMapTable instead of NSMutableDictionary.
	The API contract for NSCache stipulates that keys are not copied, so
	using a dictionary wasn't apropriate.
	* Source/NSConnection.m:
	* Source/NSData.m: Small type safety improvements (mostly to keep the
	compiler happy).
	* Source/NSDictionary.m: Change id to id<NSCopying> in a few places to
	avoid compiler warnings.
	* Tests/base/NSCache:
	* Tests/base/NSCache/TestInfo:
	* Tests/base/NSCache/basic.m:
	* Tests/base/NSCache/cache.m:
	Test cases eviction from NSCache. Turns out we currently only evict
	NSDiscardableContent, while the API documentation seems to suggest
	that cost and count based eviction without NSDiscardableContent is
	also possible.

2016-02-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Fold using tabs between key=value tokens in structured headers
	in the hope that it will improve compatibility with code which
	doesn't cope well with a space as the folding character.

2016-02-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Use NSDebugLog for most debug warnings
	* Source/NSUserDefaults.m: Restructure to cache flag information
	from NSProcessInfo directly on initialization, so it can be used
	when parsing property lists in the argument domain, avoiding any
	recursion trying to parse arguments.  Remove obsolete code for
	for parsing -GS and --GS argument prefixes specially.
	Make sure that argument parsiong behavior matches OSX apart from
	The handling of a lone '-' used as key/value, and for this case
	document the difference (since the GNUstep behavior is more useful
	and changing it would have a real chance of breaking existing code).

2016-02-12  Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSObjCRuntime.h: Define macros for
	non-null sections if available.

2016-02-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: In GSCurrentThread() the check for exiting
	thread needs to NOT be wrapped in an exception handler, since the
	exception handling code can attempt to get the current thread,
	causing recursion.

2016-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m:
	Remove dependency on NSUserDefaults in order to parse property list
	in program arguments ... get boolean defaults settings from the
	argument domain

2016-02-09  Larry Campbell <lcampbel@akamai.com>

	* Source/NSUserDefaults.m: Fix for bug #46956

2016-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Use uint32_t rather than unsigned long ... we are
	actually dealing with 4 byte values (from htonl), not native longs,
	and this can result in buffer overrun when we try copying a 64bit
	value into a 32bit buffer on a 64bit system.

2016-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Fix for decoding base64 with unknown characters
	after a trailing '='

2016-01-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: keep key=value pairs in structured fields
	on the same line if possible.

2016-01-29	Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSThread.m: Automatic 'late' unregistration of thread objects:
	When +exit is not called, we no longer log a warning and leak the
	thread object.
	Instead, we add it to a map table, keyed under the current thread ID,
	and use that in GSCurrentThread() to find the correct NSThread object
	if pthread_getspecific wont return it to us.
	* Tests/base/NSThread/late_unregister.m: Test case for late
	unregistration.

2016-01-21	Niels Grewe <niels.grewe@halbordnung.de>

	* Source/Additions/GSMime.m: Fix folding of headers containing
	a '_' character.

2016-01-21	Niels Grewe <niels.grewe@halbordnung.de>

	* Tests/base/GSMime/general.m: Test case for quoted boundary
	parameter failure.

2016-01-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix errors in conversion from a constant utf-8
	string containing non-ascii characters to latin1 encoded data.
	* Source/Additions/GSMime.m: Change line folding code to preserve
	exact whitespace (using encoded words if necessary). Add support
	for generating more readable 'q' encoded words rather than just
	base64 encoded.  Uses old behavior of folding with a tab character
	if the GSMimeOldStyleFolding user default is set to YES, though
	it's likely that this backward compatibility feature will be removed
	in future.

2015-12-30  Marcus Mueller <znek@mulle-kybernetik.com>

	* Source/NSNumberFormatter.m: fixed a subtle off-by-one formatter
	bug in conjunction with zero padding and NSNumberFormatterBehavior10_0.

	* Tests/base/NSNumberFormatter/basic.m: added a test for this
	particular issue

2015-12-29  Marcus Mueller <znek@mulle-kybernetik.com>

	* Source/NSUserNotification.m: "NSUserNotificationDefaultSoundName"
	constant string was declared but missing, fixed

2015-12-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLElement.m: For OSX compatibility, raise an exception
	it we attempt to insert an element which is already the child of
	some other element.

2015-11-30: Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSCalendar.m:
	* Headers/Foundation/NSCalendar.h:
	Implement -components:fromDate:toDate:options:. (Not handling
	NSWrapCalendarComponents yet.)
	* Tests/base/NSCalendar/component-diff.m:
	Test case for new functionality.

2015-11-22 Riccardo Mottola <rm@gnu.org>

	* Source/NSFileManager.m (createDirectoryAtPath)
	Should return success even if all path components do exist,
	as by Apple spec.

2015-11-13 Riccardo Mottola <rm@gnu.org>

	* Source/NSRange.m: (NSRangeFromString)
	Parse length and location with scanInteger and not scanInt
	(suggested by Fred Kiefer to fix 64bit)

2015-11-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLElement.m: (insertChild:atIndex:) if the child already
	has a parent, detach from that before adding to the new parent.
	OSX compatibility fix.

2015-11-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m: When libxml2 is not enabled, create a
	stub class which will raise an exception on instantiation.

2015-10-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix for fastpath code for literal string
	comparison which was ignoring the case insensititve option.
	Problems spotted by Fred, triggered by a Testplant change.

2015-10-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: remove declaration of unused methods.

2015-10-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPortNameServer.m: Fix retain/release error causing
	crash on failure to launch gdomap.

2015-10-05 Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/GNUstepBase/GNUstep.h: Define __has_extension() if the
	compiler does not support it.
	* Headers/Foundation/NSObjCRuntime.h: Provide definitions for
	NS_ENUM and NS_OPTIONS.

2015-10-03  Fred Kiefer <fredkiefer@gmx.de>

	* Source/NSPropertyList.m (GSBinaryPLGenerator-storeCount:): Use
	0x12 instead of 0x13 for integer count.
	* Source/NSPropertyList.m (GSBinaryPLParser-readCountAt:): Handle
	0x12 correctly. Use same code for 0x13 to read old incorrect
	written data.
	Based on change by Josh Freeman <pikopixel@twilightedge.com>

2015-09-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSXMLParser.m:
	* Tests/base/NSXMLParser/ParseData/quoted-entities.result
	* Tests/base/NSXMLParser/ParseData/quoted-entities.xml
	Turn on substitution of entities to match OSX behavior, add tests.

2015-09-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSData.h:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSFFCallInvocation.m:
	* Source/GSFormat.m:
	* Source/GSValue.m:
	* Source/NSArchiver.m:
	* Source/NSData.m:
	* Source/NSDecimalNumber.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSMethodSignature.m:
	* Source/NSPortCoder.m:
	* Source/NSUnarchiver.m:
	* Source/cifframe.m:
	Implement support for C99 _Bool type.

2015-09-22 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/GSBlocks.h
	Do not enable weak on mingw, because it works only with ELF.

2015-09-18 Riccardo Mottola <rm@gnu.org>

	* Headers/Foundation/NSError.h
	* Source/NSError.m
	Add some 10.6 URL errors

2015-09-16  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: fix check for pthread setname to work with older
	versions of clang which object to autoconf checking for the
	existence of a function by calling it without args.

2015-09-16 Riccardo Mottola <rm@gnu.org>

	* Headers/Foundation/NSFileManager.h
	* Source/NSFileManager.m
	Add simple (files only and no keys handling) implementation
	of 10.6 method contentsOfDirectoryAtURL.

2015-09-08 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSPropertyList.m: Fix writing base64 data.

2015-09-04 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSString.m: Optimisation for formatting strings that are
	stored as UTF-16 (use memcpy instead of looping over the characters).
	* Tests/base/NSString/unichar_format.m: Test cases for formatting.

2015-09-01 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSRegularExpression.m: Fix handling of empty capture groups.

2015-08-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: Fix potential deadlock with adding observers.
	* Source/NSPropertyList.m: Fix a few mutability errors.  Improve
	parsing NSData performance. Add support for parsing base64 encoded
	data in text property lists (delimited by <[ and ]>).

2015-08-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Improve descriptions for debug.
	* Source/Additions/NSData+GNUstepBase.m: Add escaped representation.
	* Source/GSHTTPURLHandle.m: Use escaped text format for debug log
	(and plist armored format) to ensure that we safely log binary data

2015-08-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandle.m: include winsock2.h earlier for msys2

2015-08-17  Fred Kiefer <fredkiefer@gmx.de>

	* Resources/Korean.lproj/Localizable.string: Correct encoding
	* Resources/Languages/Korean: Add missing quotes.
	Patch by Seong-Gu Lee <sgleehd@gmail.com>

2015-08-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/NSData+GNUstepBase.h: Simple gzip API
	* Source/Additions/NSData+GNUstepBase.m: Use zlib to zip/unzip data
	* Tests/base/NSData/additions.m: tests for NSData additions (gzip)
	* Tests/base/NSData/Lorum: Data file for compress/uncompress tests

2015-08-16  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Use the compiler provided by gnustep-make unless
	it's specifically overridden in the environment.

2015-08-07 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSPropertyList.m: Cope with certain malformed binary
	property lists.
	* Tests/PropertyLists/test01.m
	* Tests/PropertyLists/cyclic.plist:
	Test case for binary plists.

2015-08-05 Riccardo Mottola <rm@gnu.org>

	* Source/NSArray.m:
	Minor cast fixes.

2015-07-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m: Fix failure to unschedule from run loop if a
	stream is opened more than once.

2015-07-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIMap.h: add GSI_MAP_TABLE_S
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	Pass variable holding run time size calculation as GSI_MAP_TABLE_S

2015-07-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	Get instance size at run time, so we can compile using nonfragile-abi

2015-07-16 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSSet.m
	* Source/GSCountedSet.m:
	Fix a few more names.

2015-07-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIMap.h:
	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSPrivate.h:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSArray.m:
	* Source/NSData.m:
	* Source/NSDictionary.m:
	* Source/NSObject.m:
	* Source/NSSet.m:
	* Source/NSString.m:
	Rewriting naive implementations to improve efficiency and fix a few
	bugs as well as renaming to avoid conflict with old GSCache.

2015-07-16 Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/GNUstepBase/NSHashTable+GNUstepBase.h
	* Source/Additions/GNUmakefile
	* Source/Additions/NSHashTable+GNUstepBase.m
	* Source/GNUmakefile
	* Tests/base/NSHashTable/additions.m:
	Implement -addObjectsFromArray: on NSHashTable.

2015-07-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIMap.h:
	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSPrivate.h:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSArray.m:
	* Source/NSData.m:
	* Source/NSDictionary.m:
	* Source/NSObject.m:
	* Source/NSSet.m:
	* Source/NSString.m:
	Extension API to interrogate object memory usage (stolen from
	GSCache and modified a bit).

2015-07-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Write xml document headers referring to
	the current location of Apple's property list dtd for compatibility
	with software expecting to validate using that dtd.
	Stefan Bidigaray pointed out that the heading we currently write is
	very out of date.
	* Source/NSThread.m: On premature thread exist, log native thread ID.
	* Source/NSLog.m: Optimisations to make logging a little quicker.

2015-07-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDebug.m: List memory allocation statistics in alphabetical
	order (by class name) for easier interpretation.
	Fix bug where the counter for differences was updated when difference
	listing was not requested.

2015-07-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSLock.h:
	* Source/NSLock.m:
	Add extension method -isLockedByCurrentThread for debug purposes.
	Also make description report the OS thread id of the thread which
	holds the lock (if any).

2015-07-08 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/GSConfig.h.in
	On NetBSD, undefine the system __weak first.

2015-07-03 Niels Grewe <niels.grewe@halbordnung.de>

        * Tests/base/NSXMLParser/ParseData/namespaced-attributes.xml:
        * Tests/base/NSXMLParser/ParseData/namespaced-attributes.result:
        Test case for attribute namespace prefixes.

2015-07-03 Niels Grewe <niels.grewe@halbordnung.de>

        * Source/Additions/GSXML.m: Fix reporting namespace prefixes
        of attributes when using the SAX2 parser.

2015-06-30  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac:
        * configure:
        * Headers/GNUstepBase/config.h.in:
        Add test for pthread_mutex_t.__data.__owner
        Update various tests to silence autoconf warnings.
	* Source/NSLock.m: If available, use pthread_mutex_t.__data.__owner
	to print the owning thread ID in the -description method.

2015-06-26 Riccardo Mottola <rm@gnu.org>

	* Source/NSMethodSignature.m
	* Source/cifframe.m
	Minor include fixes to avoid malloc.h warnings on OpenBSD.

	* Source/NSScanner.m
	Remove set but unused variable.

2015-06-22  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/GNUstepBase/Additions.h:
        * Headers/GNUstepBase/GSConfig.h.in:
        * Headers/GNUstepBase/GSVersionMacros.h:
        Minor tweaks to build and avoid warnings in Yosemite

2015-06-14 Riccardo Mottola <rm@gnu.org>

	* Headers/Foundation/NSData.h
	* Source/NSData.m
	base64EncodedDataWithOptions, base64EncodedStringWithOptions:
	first implementation

2015-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: be strict about '=' padding only occurring at end
	of base64 encoded data.

2015-06-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: Use NSUInteger rather than unsigned, use memory
	management macros.
	* Source/NSConnection.m: Changes to avoid compiler warnings.
	* Headers/Foundation/NSData.h:
	* Source/NSData.m: add base64 initialisation methods (bug #45240)

2015-06-01 Riccardo Mottola <rm@gnu.org>

	* Headers/Foundation/NSArray.h
	* Source/NSArray.m
	Add firstObject: method existing since 10.6

2015-05-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLConnection.m: Fix leak of limit date
	* Source/NSXMLParser.m: Fix leak of string

2015-05-26: Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Source/Additions/Unicode.m
	* Tools/AGSOutput.m
	  return NULL or nil instead of NO where pointers are to
	  be returned

2015-05-26  Richard Frith-Macdonald <rfm@gnu.org>

	* GSString.m: Fix sign extension bug
	* Source/NSXMLParser.m: Update to more exactly match OSX behavior
	* Source/NSDateFormatter.m: attempt to fix functionality broken
	by additional call to set date format during reset.

2015-05-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: Use libxml2 if available.

2015-05-24  Richard Frith-Macdonald <rfm@gnu.org>

	* GSString.m:
	* NSDebug.m:
	* NSZone.m:
	Minor optimisations and tidyups

2015-05-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix failure to check free when done flag before
	freeing memory.

2015-05-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
	* Source/GSString.m:
	Some optimisation.  Fix -hasPrefix: and -hasSuffix: to use literal
	search as on OSX.

2015-05-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/install.texi:
	* ANNOUNCE:
	* INSTALL:
	* NEWS:
	Final updates for 1.24.8 release

2015-05-13  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Tidy compiler and preprocessor  detection and use
	warning for potentially broken compiler selection.
	* configure: regenerate

2015-05-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Version:
	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc:
	Update in preparation for release
	* Source/Makefile.postamble:
	* Makefile.postamble:
	* GNUmakefile:
	Apply Yavor Doganov's patch to avoid re-run of configure when we do
	multiple 'make distclean' invocations (bug #29730).

2015-05-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZones/NSTimeZones.tar: updated

2015-05-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
	Fix for 64bit systems using TinyString objects ... missing
	implementations for common methods were making performance dire.

2015-05-02 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSSet.m
	* Source/NSCountedSet.m
	* Source/NSSet.m:
	Implement a private method -_countForObject: that enables to correctly
	check equality of NSSet and NSCountedSet (behaviour verified to match
	OS X). Fixes bug #43915.
	* Tests/base/NSCountedSet/equality.m: Test cases for equality behaviour.

2015-04-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: Improve caching of common absolute timezones.

2015-04-28  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSDateFormatter.m: Properly reinstall the user provided
	date format when we need to recreate the icu-based date formatter.

2015-04-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: If an exception occurs while performing a
	selector in another thread, catch it and cleanup (and if the
	caller is waiting, pass the exception back to it).

2015-04-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac: Fix comment syntax and use standard operator in
	test command.

	* configure: Regenerated.

2015-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h: Internal function to get OS thread ID
	* Source/NSThread.m: Report thread name and ID in description
	* Source/NSLog.m: Use new function for thread ID
	* configure.ac: Detect getaddrinfo and bsd thread id extensions
	* Headers/GNUstepBase/config.h.in: regenerate
	* configure: regenerate
	* Source/NSHost.m: Start of code to use getaddrinfo

2015-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: Fix a bug leading to crashes on thread
	exit in cases where deallocation of something in the thread dictionary
	causes further use of the thread's autorelease pool (which has already
	been deallocated).

2015-03-10 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTimSort.m: Fix a DoS vulnerability discovered in the
	Timsort algorithm. For information about the problem please refer to
	http://www.envisage-project.eu/proving-android-java-and-python-sorting
	-algorithm-is-broken-and-how-to-fix-it/

2015-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileHandle.m: ([-sslHandshakeEstablished:outgoing:])
	If we can't create a session, the handshake should fail rather
	than being retried.  Fix infinite loop establish session on closed
	handle.

2015-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/NSDebug+GNUstepBase.h:
	Define DLog() and ALog() as suggested by Amr Aboelela

2015-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for gettid availability
	* configure: Regenerate
	* Headers/GNUstepBase/config.h.in: Regenerate
	* Source/GSPrivate.h: Update comment on GSLogThread
	* Documentation/Base.gsdoc: Update doc of GSLogThread
	* Source/NSLog.m: Change to log thread ID (to match OSX which now
	logs the thread ID along with the process ID).  Change the meaning
	of the GSLogThread user default (which used to turn on logging of
	the thread ID) so that it now turns on logging of the thread name
	(where a thread name has been set) and the NSThread address if no
	name has been set.

2015-02-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSData.m (writeToFile:options:error:): Fix leak of open
	file descriptor on systems where mkstemp is defined.

2015-02-15  Richard Frith-Macdonald <rfm@gnu.org>

	* config/objc-sys-dynamic.m4: Check for windows before anything else
	* configure: regenerate
	Apparently recent mingw implements headers which folled configure
	into using dlopen() with doesn't support native windows paths ...
	change order of checks so we still use the native API.

2015-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Be more agressive about releasing thread
	resources when a thread exists (in particular release the
	thread's runloop repeatedly for bug #44240) in case of the
	deallocation of objects causing re-population of thread data.

2015-02-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Simplify mingw/unixy ifdefs for writing a file.
	* Source/NSThread.m: Simplify mingw/unixy ifdefs for sleeping.

2015-02-05 	Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTLS.m: Use path standardization when setting up TLS data
	to be mapped to a specific filesystem location.

2015-01-13  Marcus Mueller <znek@mulle-kybernetik.com>

	* Headers/Foundation/Foundation.h: added NSUUID.h

2014-12-28  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac:
	* Source/NSThread.m (PTHREAD_SETNAME):
	Fix detection of the proper pthread_setname_np and
	pthread_set_name_np variants on FreeBSD, OpenBSD and Darwin.

	* configure: Regenerated.

2014-12-28  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSSocketStream.m: Add necessary GSTLSHandler methods when
	TLS is disabled.
	* Source/GSTLS.m (standardizedPath): Define private function only
	when TLS is enabled.

2014-12-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Source/nstzfile.h:
	Remove unused include of (possibly) non existent file.

2014-12-23 Riccardo Mottola <rm@gnu.org>

	* Source/GSSocketStream.m
	Fix code-path for non AF_INET6

	* Source/NSDate.m
	Provide NAN constant for Solaris if not available.

2014-11-29  Sergei Golovin <Golovin.SV@gmail.com>

	* Tests/base/NSURLConnection: Test helper tool plus a load of
	tests for NSURLConnection.

2014-11-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m: Fixup error in scanning doubles with excess
	precision (bug #43722).

2014-11-28  johannes@brilliantservice.co.jp

	* Source/NSThread.m: Set thread name visible to OS
	* configure.ac: test for pthread_set_name_np()
	Integrated Johannes patch with some changes to make things work if
	we set the name before starting the thread.  Commend out ms-windows
	code which doesn't work yet.

2014-11-20  Sergei Golovin <Golovin.SV@gmail.com>

	* Source/GSSocketStream.m:
	* Tests/base/NSURL/Helpers/capture.m:
	* Tests/base/NSURL/testKey.pem:
	* Tests/base/NSURL/test02.m:
	* Tests/base/NSURL/testCert.pem:
	Implement TLS on server socket and make use of it in HTTPS URL helper
	code. Also, permit NSStream zero length write (it seems OSX allows
	it).

2014-11-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Avoind some unnecessary retain/release cycles.

2014-11-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m: If a user default value is removed while running,
	revert to the value from the environment or the hard coded fallback
	rather than continuing to use the previous value from the defaults
	system.

2014-11-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: When handling perform in another thread, check
	more carefully for inter-thread communications (pipe on unix, event
	on windows) and make sure we invalidate performers safely outside
	the lock protected region when I/O is complete.

2014-11-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Fix leak of handle when starting a new
	connection after an older one is dropped by the remote end.

2014-10-30  Sergei Golovin <Golovin.SV@gmail.com>

	* Source/NSURLProtocol.m: Fix memory leak and possible hang on retry
	(bug #43461).

2014-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc:
	* Version: Bump subminor version for bugfix release
	* NSTimeZones/NSTimeZones.tar: update
	* Source/NSProcessInfo.m: Use separate lock for globally unique
	string rather than sharing lock intended for other purposes.
	* Source/GSTLS.m: Change default TLS 'priority' to disable SSLv3.0
	as it renders things open to the 'POODLE' attack.
	Also, print warning if it is expressly requested from the code
	(though the use of the GSTLSPriority user default will still
	allow complete control without warnings).

2014-10-11  Marcus Mueller <znek@mulle-kybernetik.com>

	* Headers/GNUstepBase/GSVersionMacros.h: UNAVAILABLE_ATTRIBUTE added

2014-08-19  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac:
	* Headers/GNUstepBase/config.h.in: Add test for grantpt function.

	* configure: Regenerated.

2014-07-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Tools/gdomap.c: Unless running on windows, allow new -j
	command-line argument to specify the path in which the process should
	be jailed (chroot).  The default remains to jail the process in /tmp
	since there doesn't seem to be a general, portable alternative.

2014-07-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: Fix handling TLS handshake in the case
	where there is a network failure during the handshake (bug#42781).
	* Source/GSTLS.m: Fix erroneous attempt to load revocation lists.
	* Tests/base/NSURLConnection/test01.m: https test contributed by
	Sergei Golovin.

2014-07-25  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Remove compiler charset options
        * config.mak.in: Remove compiler charset options
        * configure: regenerate:
        Yavor pointed out that the gcc manual is wrong and gcc (all the
        versions we support anyway) always uses utf-8 (as does clang),
        so we can get rid of stuff intended to try to force it to use utf8

2014-07-13  Yavor Doganov  <yavor@gnu.org>

	Add large file support (LFS) for NSData.
	* configure.ac: Call AC_FUNC_FSEEKO/AC_SYS_LARGEFILE.
	* Source/NSData.m (readContentsOfFile): Use fseeko/ftello and
	off_t as appropriate.
	(-initWithContentsOfFile:): Define fileLength of type off_t.
	* Source/GSFileHandle.m:
	* Source/win32/GSFileHandle.m:
	* Source/NSFileManager.m: Remove _FILE_OFFSET_BITS define (now
	defined globally in config.h).

2014-07-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: ([-runMode:beforeDate:]) check performers as
	well as notifications etc ... should fix bug #39107

2014-02-17  Larry Campbell <lcampbel@akamai.com>

	* Source/NSJSONSerialization.m:
	* Tests/base/NSJSONSerialization/tests00.m:
	Fixes for bug #41628

2014-07-12 Yavor Doganov  <yavor@gnu.org>

	* Tests/GNUmakefile:
	* Tests/base/Functions/NSGeometry1.m:
	* Tests/base/NSRunLoop/performers.m:
	Tweaks for running in sandbox (bug #42740)

2014-07-07  Yunqiang Su  <wzssyqa@gmail.com>  (tiny change)

	* config/config.trampoline.c:
	* Source/NSObject.m (GSAtomicIncrement, GSAtomicDecrement):
	Use __mips64 to distinguish MIPS64.

2014-06-30  Yavor Doganov  <yavor@gnu.org>

	* Tools/GNUmakefile (CONFIG_SYSTEM_LIBS):
	* Tools/make_strings/GNUmakefile (CONFIG_SYSTEM_LIBS): Define
	to the empty string to avoid linking the tools against
	external libraries.

2014-06-30 Yavor Doganov  <yavor@gnu.org>

	* base.make.in: make base dependencies explicit only when statically
	linnking (bug #42423)

2014-06-30 Yavor Doganov  <yavor@gnu.org>

	* GNUmakefile: Use -include for deb.make (for backward compatibility
	with old versions of gnustep-make).
	* Documentation/GNUmakefile:
	* Documentation/General/GNUmakefile:
	* Source/DocMakefile:
	* Tools/DocMakefile:
	Flags alterations to build documentation before base/autogsdoc is
	installed.
        * configure.ac: Test whether gnutls needs libgcrypt
        * Source/GSTLS.h: Use test
        * Source/GSTLS.m: Use test
        * configure: regenerate

2014-06-26 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/GSTypeEncoding.h
	* Headers/GNUstepBase/GSVersionMacros.h
	Substitute #import with #include so that the header can be used in
	a pure C file without gcc warnings.

2014-06-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPortNameServer.m:
	* Source/NSMessagePortNameServer.m:
	Maps of ports to names modified to treat the ports as non owned
	pointers rather than non retained objects ... so we simply do
	pointer comparisons (faster and also safer if we are removing
	a port which is being deallocated).

2014-06-20  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Temporarily add -O0 to turn off optimisation while
        checking for the need for shorts to be word-aligned ... should fix
        the case where the optimiser breaks the test by 'correcting' the
        misaligned access.
        * configure: regenerate

2014-06-19 Riccardo Mottola <rm@gnu.org>

	* Source/common.h
	Include and do not import pure-C header, guard against re-inclusion

2014-06-18 Riccardo Mottola <rm@gnu.org>

	* Source/unix/NSStream.m
	Add missing includes (in correct order) for open() on most OS,
	including Solaris.

2014-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Fix buffer overrun.
	* Source/GSString.m: Fix uninitialised variable.
	Cure for bug #42483

2014-05-28  Manuel Guesdon <mguesdon@orange-concept.com>
	* Source/NSUndoManager.m
	  Assert sig is not null in registerUndoWithTarget:selector:object:

2014-05-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInvocation.h:
	* Source/NSInvocation.m:
	* Headers/Foundation/NSInvocation.h:
	* Tests/base/NSInvocation/test02.m:
	Reinstate lost code for NS_MESSAGE and NS_INVOCATION macros

2014-05-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	* Source/NSURLProtocol.m:
	When creating the 'Host' header, omit the port part if the scheme is
	http/https and the port is the normal 80/443.  A workaround for buggy
	software which doesn't understand the spec saying that the port is
	'optional', not 'omitted' in these cases.

2014-05-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDebug.m:
	* Headers/Foundation/NSDebug.h:
	Add GSDebugAllocationRecordObjects()
	and deprecate GSDebugAllocationActiveRecordingObjects()
	so we can turn individual object tracking on and off.
	Move documentation from source to header.

2014-05-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.m: Fix ifdefs for MINGW to avoid fork relatred code.

2014-05-05  Ivan Vucica <ivan@vucica.net>

	* GNUmakefile: gnustep-make's Master/deb.make now included.
	* Tests/GNUmakefile: gnustep-tests --clean is now permitted to
	fail. This helps in case 'make {dist,}clean' is called by some
	automation.

2014-05-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: Set initial state of accepted incoming
	connection streams to be open (otherwise we can't close them).

2014-04-26  Manuel Guesdon <mguesdon@orange-concept.com>
	* Source/NSKeyValueCoding.m
	  Fix exception msg in setValue:forUndefinedKey:

2014-04-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSHost.h:
	* Source/NSHost.m:
	Add OSX 10.6 -localizedName method.

2014-04-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRegularExpression.m: Check for bad range from ICU and
	flag an internal error if we see it; mimic OSX behavior when a
	range limited match fails.

2014-04-11  Fred Kiefer <fredkiefer@gmx.de>

	* Headers/Foundation/NSXMLNodeOptions.h: Add new 10.7 options.
	* Source/NSXMLDocument.m: Use XML_PARSE_NONET as the default
	option for xmlReadMemory. Add XML_PARSE_NOENT when
	NSXMLNodeLoadExternalEntitiesNever is set.

2014-03-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: If parsing something which contains data
	which can't be utf-8, generate a parse error.

2014-03-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: handle invalidation of connection while
	getting root proxy.

2014-03-26 Riccardo Mottola <rm@gnu.org>

	* Source/NSProcessInfo.m (determineOperatingSystem):
	uname() on solaris may return a positive value on success, not just 0

2014-03-25  Fred Kiefer <fredkiefer@gmx.de>

	* Tools/NSOperation.m: ([_finish]) fix logic of 'executing' flag.

2014-03-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Don't open syslog connection until after we have
	forked and closed old descriptors .. fix for bug #41751
	* Headers/Foundation/NSData.h:
	* Source/NSData.m:
	* Source/NSString.m:
	Fix for bug #41626
	* Source/Additions/GSObjCRuntime.m: patch by Mathias Bauer
	for bool encoding/decoding.

2014-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	When generating document with a header containing adjacent non-ascii
	words which need to be encoded, omit the space between those words
	for consistency with the change on Fe 3rd.

2014-02-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDateFormatter.m
	(-initWithDateFormat:allowNaturalLanguage:):
	Use method -setDateFormat: to get correct behaviour.
	* Source/NSDateFormatter.m (-setDateFormat:):
	Use ASSIGNCOPY for _dateFormat.

2014-02-14  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Foundation/NSNotification.h
	* Source/NSNotificationCenter.m
	(-addObserverForName:selector:queue:usingBlock:):
	Added new Mac OS X 10.6 method.

2014-02-14  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Foundation/NSSortDescriptor.h
	* Source/Foundation/NSSortDescriptor.m
	(+sortDescriptorWithKey:ascending:selector:,
	+sortDescriptorWithKey:ascending,
	-[NSSet sortedArrayUsingDescriptors:]): Added missing Mac OS X 10.6
	methods.

2014-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFormat.m: Fix to cope with cases where a format specifies
	a field width larger than can reasonably fit on the strack ... use
	the heap.

2014-02-13  Larry Campbell <lcampbel@akamai.com>

	* Source/NSCalendarDate.m: Fixup millisecond formatting to match OSX

2014-02-12  Quentin Mathe <quentin.mathe@gmail.com>

	* Tools/gsdoc-1_0_4.dtd: Added new DTD version that declares 'package'
	visibility as a valid ivar qualifier.
	* Tools/AGSParser.m: Added 'package' visibility parsing.
	* Tools/AGSOutput.m:
	* Tools/autogsdoc.m:
	* Tools/GNUmakefile.m:
	Updated to refer to the latest DTD version.

2014-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix standardising a path to use unix separators
	consistently with appending a pathc component ... paths should be
	(as far as possible) portable, and the filesystem representation
	methods convert to backslashes as necessary on windows anyway.

2014-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	* Headers/GNUstepBase/GSMime.h:
	Add support for stripping white space between encoded words (RFC2047)

2014-02-02 Yavor Doganov  <yavor@gnu.org>

	* configure.ac: Force use for fake main on kfreebsd to work around bug
	handling large number of arguments.
	* Documentation/coding-standards.texi:
	* Documentation/manual/manual.texi:
	* Tools/cvtenc.1:
	* Tools/pldes.1:
	* Tools/defaults.1:
	* Tools/autogsdoc.1:
	* Tools/gdomap.8:
	Minor cosmetic tweaks

2014-02-02 Riccardo Mottola <rm@gnu.org>

	* Source/NSString.m (stringByResolvingSymlinksInPath)
	On GLIBC and FreeBSD use sysconf(_SC_SYMLOOP_MAX) instead of just
	MAXSYMLINKS. For HURD this is necessary, since the latter is not
	defined.

2014-01-31  Marcus Mueller <znek@mulle-kybernetik.com>

	* Source/NSUserNotification.m:
	Implemented repetitions, moved "presented" flagging to the appropriate
	method (subclassers may have different opinions about presentation,
	i.e. gnustep-gui might want to prevent presentation if application
	is already frontmost [the OSX behavior]). Improved -description
	(similar to OSX's output, eases cross-platform debugging).
	* Headers/Foundation/Foundation.h:
	added NSUserNotification.h

2014-01-30  Marcus Mueller <znek@mulle-kybernetik.com>

	* Headers/Foundation/NSUserNotification.h:
	* Source/NSUserNotification.m:
	Added default implementation which provides infrastructure but no real
	transport mechanisms. An implementation utilizing DBus
	(Desktop Notifications Specification) is provided via DBusKit.

2014-01-26  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSKeyValueObserving.h,
	* Source/NSKeyValueObserving.m: Add method
	-keyPathsForValuesAffectingValueForKey:.

2014-01-25  Frederik <ego@frederikseiffert.de>

	* Source/NSKeyValueObserving.m: When using
	(NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew)
	as option for observeValueForKeyPath:ofObject:change:context:,
	we should use -valueForKeyPath: instead of -valueForKey: to retrieve
	the current (initial) value.

2014-01-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFCallInvocation.m:
	* Source/GSFFIInvocation.m:
	* Source/Additions/GSTypeEncoding.c:
	* Headers/GNUstepBase/GSIArray.h:
	* Headers/GNUstepBase/GSTypeEncoding.h:
	* Headers/GNUstepBase/GSIMap.h:
	Fixup to use GS_STATIC_INLINE consistently.
	* Tools/autogsdoc.m:
	Set up default work map for public macros whose use in headers
	would otherwise confuse documentation generation.

2014-01-21  Pirmin Braun <pb@intars.de>

	* Source/NSDecimal.m: Fix for rounding precision.

2014-01-20  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSSet.m: Added missing ([-valueForKey:]) method.

2014-01-20  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSKeyValueMutableArray.m:
	* Source/NSKeyValueMutableSet.m:
	Don't post KVO notifications if +automaticallyNotifiesObserversForKey:
	returns NO, this ensures we match Cocoa behavior.

2014-01-18  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSObject.m (-respondsToSelector,
	+instancesRespondToSelector:): Fixed to check +resolveInstanceMethod:
	and +resolveClassMethod: as documented in Cocoa NSObject API.

2014-01-16  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSScanner.m: Implement -scanInteger: by conditionally
	calling -scanInt: or -scanLongLong: based on the pointer size
	detected at configure time.

2014-01-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m:
	Path info lifetime fixups to avoid crashes of the kind reported
	by Mathias Bauer <mathias_bauer@gmx.net>

2014-01-14  Lubos Dolezel <lubos@dolezel.info>
	* Source/NSBundle.m:
	* Headers/Foundation/NSBundle.h: add -resourceURL

2014-01-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m:
	* Documentation/Base.gsdoc:
	Add GNUSTEP_DEVELOPER_DIR to allow definition of the native path
	to the msys/mingw development tools on windows.
	Also improve/fix lookup heuristics.

2014-01-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Revert last change to get -isAbsolutePath working
	on mingw again ... need to analyse startup problem.

2014-01-13  Marcus Mueller <znek@mulle-kybernetik.com>

	* Source/NSString.m: absolute paths on __MINGW__ can also start
	with "/" if GSPathHandlingRight() is YES, otherwise GNUstep config
	paths can't be used during startup.

2014-01-11  Marcus Mueller <znek@mulle-kybernetik.com>

	* Source/GSMDNSNetServices.m: minor fixes - does now properly compile
	on Windows, too.
	NOTE:
	If you want to link against Apple's Bonjour SDK on Windows, you have
	to convert the dnssd.lib from MSVC/__stdcall format to GCC/__cdecl
	and provide the result as libdns_sd.a. Also, DNSSD_API in dns_sd.h
	needs to be defined empty.

2014-01-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: The NSDeveloperDirectory key is deprecated
	on OSX, but lets use it for the development system root.
	On windows systems this should be the native windows path at which
	the msys system is installed, found relative to the current process
	if possible, but otherwise with the GNUstep packages installed,
	found relative to the package installation directory.
	In other cases (no specific development environment found) the
	system root directory is returned.

2014-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
	On mingw a file is executable if its extension is in the list
	provided by the PATHEXT environment variable.
	* Source/NSTask.m:
	Simplification/clarification suggested by Riccardo

2014-01-08  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSValueTransformer (+valueTransformerForName:): Fixed to
	automatically register any available NSValueTransformer subclass that
	matches  the given name and is not yet registered. This behavior is
	described in the Cocoa API documentation.

2014-01-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUUID.m:
	* Source/Additions/NSData+GNUstepBase.m:
	* Headers/GNUstepBase/NSData+GNUstepBase.h:
	Move random data generation out to the NSData(GNUstepBase) category.

2014-01-07  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSJSONSerialization.m (writeObject()): Fixed double number
	serialization to encode 17 significant digits (this matches the max
        number of significant digits in the double-precision floating point
        format). This prevents a loss of precision, in case the number has
        more than 3 digits after the decimal point.
	* Tests/base/NSJSONSerialization/json.m: Updated to test double number
	serialization.

2014-01-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: Make sure current queue is set for threads
	owned by a queue (and return the main queue for the main thread).
	Avoid needing to create the main queue in the main thread.

2014-01-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Fixed logic error in David's libobjc2 integration
	for deallocation; should use object_getClass() if the object is NOT a
	small object, use isa otherwise.

2013-12-31  Marcus Mueller <znek@mulle-kybernetik.com>

	* Headers/Foundation/NSMetadata.h: use GS_PROTOCOLS_HAVE_OPTIONAL for
	NSMetadataQueryDelegate. Always define the protocol, even if it's empty
	(so we don't have to adjust any headers), but fallback to the informal
	protocol if OS version < 10.6 OR compiler doesn't support @optional
	keyword in protocols.

2013-12-30  Marcus Mueller <znek@mulle-kybernetik.com>

	* Headers/GNUstepBase/GSVersionMacros.h: added macros
	GS_GCC_MINREQ(maj,min) and GS_CLANG_MINREQ(maj,min) to check for
	minimum required versions of GCC and CLANG compilers. Changed several
	occurrences of previous macros to improve readability.
	Added GS_PROTOCOLS_HAVE_OPTIONAL to correctly mark all appropriate
	declarations.
	* Headers/Foundation/NSNetServices.h,
	* Headers/Foundation/NSStream.h,
	* Headers/Foundation/NSXMLParser.h,
	* Headers/GNUstepBase/NSNetServices+GNUstepBase.h,
	* Source/GSNetServices.h:
	use GS_PROTOCOLS_HAVE_OPTIONAL macro where appropriate

2013-12-26  Marcus Mueller <znek@mulle-kybernetik.com>

	* Headers/Foundation/NSNetServices.h:
	* Source/GSAvahiNetService.m:
          added NSNetServiceListenForConnections option (introduced in
	  OSX 10.9) and accompanying delegate method, currently implemented in
	  GSAvahiNetService.m only.
	* Headers/Foundation/NSStream.h: fixed typo (_clang_ -> __clang__)

2013-12-24  Richard Frith-Macdonald <rfm@gnu.org>

        * Version: make ready for 1.24.6 release
        * Documentation/news.texi: 1.24.6 news
        * Documentation/ReleaseNotes.gsdoc: 1.24.6 release notes

2013-12-20 Graham Lee <graham@iamleeg.com>

	* Headers/Foundation/NSUUID.h:
	* Source/NSUUID.m: implemented for unix
	* Tests/base/NSUUID: testcases

2013-12-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: initialise defaults system at end of NSObject
	initialisation, in the hope of preventing deadlocks if the +initialize
	methods of other classes in different threads try to use defaults.
	May fix #39125

2013-12-20  Marcus Müller <znek@mulle-kybernetik.com>

	* Headers/Foundation/NSStream.h: OSX compatibilityy ... use formal
	protocol if possible (bug #40925).
	* Headers/GNUstepBase/GSVersionMacros.h: OSX 10.9 define added.
	* Headers/Foundation/NSRunLoop.h:
	* Source/NSRunLoop.m: Implement ([+mainRunLoop])

2013-12-13  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSArray.h,
	* Source/NSArray.m: Move -setValue:forKey: from NSMutableArray to
	NSArray.
	Patch by Marcian Lytwyn <marcian.lytwyn@advcsi.com>.

2013-12-07  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Additions/Unicode.m (GSPrivateDefaultCStringEncoding):
	Use correct feature test for presence of ucnv functions.

2013-12-05  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Foundation/NSDictionary.h:
	* Source/NSDictionary.m:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/GSDictionary.m:
	Changed keys argument type to (const id <NSCopying>[]) in
	-initWithObjects:forKeys:count: and
	+dictionaryWithObjects:forKeys:count:,
	to follow the current Cocoa API.

2013-12-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLCredential.m: ([-isEqual:]) needs to take the password
	and persistence into account, not just the username.

2013-11-29 Riccardo Mottola <rm@gnu.org>

	* Headers/ObjectiveC2/objc/runtime.h
	* Headers/Foundation/NSObjCRuntime.h
	Insert some kludge for PTR stuff on systems with fake C99
	compatible headers.

2013-11-26 Riccardo Mottola <rm@gnu.org>

	* Headers/GNUstepBase/GSConfig.h.in
	* configure.ac
	Detect broken PTR limits (notably solaris 8) and provide replacements

	* configure
	regenerated

2013-11-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUstepBase/GSConfig.h.in: temporarily redefine BOOL while
	including windows headers, so we don't get conflict between windows
	and objc booleans.
	* base.make.in:
	Add to CONFIG_SYSTEM_LIBS, CONFIG_SYSTEM_LIB_DIR, CONFIG_SYSTEM_INCL
	So that the libraries/headers used to build base are available for
	software using base.

2013-11-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTLS.m:
	Set errno to EAGAIN if TLS layer fails in a non-fatal way during
	read/write.
	Add more/better debug logging.

2013-11-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Fix for bug 40620
	Prevent recursion while parsing process arguments.

2013-11-19  Saso Kiselkov <skiselkov>

	Releasing a GSTLSHandle (created from +[NSFileHandle sslClass]) after
	the TLS handshake will result in a segfault. Fix it.

2013-11-18  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/GNUstepBase/NSCalendarDate+GNUstepBase.m:
	* Source/Additions/NSCalendarDate+GNUstepBase.m:
	Add -isoYear method for compatibility with -weekOfYear

2013-11-07 Riccardo Mottola <rm@gnu.org>

	* Source/GSFormat.m
	* Source/NSException.m
	* Source/NSConnection.m
	Openbsd malloc.h warning fix.

2013-11-05 German Arias <germanandre@gmx.es>

	* Source/NSUndoManager.m (-undoActionName): Try first with the name
	of current group. If not, with the name of last object in undo stack.

2013-11-03 German Arias <germanandre@gmx.es>

	* Source/NSUndoManager.m (-redoMenuTitleForUndoActionName:):
	* Source/NSUndoManager.m (-undoMenuTitleForUndoActionName:):
	Return "Redo" and "Undo", respectively, if actionName is null.
	If not, it removes the item title.

2013-11-01  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSAttributedString.m: Use exact equality test when removing
        attribute dictionary from cache.  Prevents possibly removing the
        wrong dictionary in cases where dictionary contents are mutated
        while in the cache, such that two dictionaries become equal.

2013-10-30  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSDictionary.m: Add private class GSCachedDictionary which
        will raise an exception if deallocated without being uncached.
        * Source/GSAttributedString.m: Use GSCachedDictionary for attributes
        to aid in detection of things improperly releasing them.

2013-10-29  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSAttributedString.m:
        Simplify dictionary caching code and add check to ensure we don't
        uncache a dictionary which isn't cached.

2012-10-29  Riccardo Mottola <rm@gnu.org>

        * configure.ac:
        * Headers/GNUstepBase/GSConfig.h.in:
        * Headers/GNUstepBase/GSTypeEncoding.h:
        * Headers/GNUstepBase/GNUstep.h:
        * Headers/Foundation/NSString.h:
        * Headers/Foundation/NSObjCRuntime.h:
        * configure: regenerate
        Use inttypes.h rather than stdint.h as it's more inclusive and works
        on Solaris where some defines are in the wrong place.

2013-10-29  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSTimeZone.m: Implement -hash as the hash of the time zone
        name so that we can find equal timezones in a set/dictionary as we
        should, rather than onlyn finding identical time zones.

2013-10-28  Richard Frith-Macdonald <rfm@gnu.org>

        * Tools/AGSParser.m: Add code to ignore NS_FORMAT_ARGUMENT and
        NS_FORMAT_FUNCTION macros inside variable declarations.

2013-10-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSFileHandle.m: Fix retention of singletons and add exception
        if an attempt is made to release too many times.
        * Tools/make_strings/make_strings.m: fix minor coding standard errrors.
        * Tests/base/NSFileHandle/basic.m:
        * Tests/base/NSFileHandle/singleton.m:
        Correct faulty tests.
        * Source/NSPredicate.m: ([_evaluateLeftValue:rightValue:object:])
        Add missing check for NSNotEqualToPredicateOperatorType spotted by Fred

2013-10-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPredicate.m: ([_evaluateLeftValue:rightValue:object:])
        should return either YES or NO in all cases.

2013-10-25  Richard Frith-Macdonald <rfm@gnu.org>

        * Tools/make_strings/StringsFile.m:
        Fix bogus space after semicolon.

2013-10-25  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSSocketStream.m:
        * Source/GSTLS.m:
        Attempt to better handle TLS handshake failure.

2013-10-24  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSHTTPURLHandle.m:
        Close socket immediately on SSL handlshake failure, rather than
        waiting for cleanup on dealloc.

2013-10-18  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPredicate.m: Fix faulty casts of immutable array to mutable.

2013-10-17  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSException.m:
	* Headers/Foundation/NSThread.h: Add trivial implementation of
	+[NSThread callStackSymbols] that uses GSStackTrace.

2013-10-15  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSDate.h,
	* Source/NSDate.m:
	Add 10.6 class method dateWithTimeInterval:sinceDate:
	Patch by Marcian Lytwyn <marcian.lytwyn@advcsi.com>

2013-10-04  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSTimeZone.m: Fix bug with byte swapping ... use NSByteOrder.h

2013-10-01  Richard Frith-Macdonald <rfm@gnu.org>

        * config/config.align.c: Try to more reliably detect whether word
        alignment is needed.
        * Source/NSUserDefaults.m: Fix failure to send notification when
        defaults are updated.

2013-09-18  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSTLS.h:
        * Source/GSTLS.m:
        * Source/NSFileHandle.m:
        * Headers/Foundation/NSFileHandle.h:
        Add mechanism to set the contents of TLS certificate and key files
        in memory rather than reading from disk.  Expose TLS property keys
        in the NSFileHandle header to allow more control over certificates.

2013-09-10  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Check for another unicode header
        * Headers/GNUstepBase/config.h.in: regenerate
        * configure: regenerate
        * Source/Additions/Unicode.m: If ICU is available, use it to obtain
        default C-string encoding.

2013-09-09  Pirmin Braun <pb@intars.de>

        * Source/Additions/GSMime.m: When creating a child parser, pass on
        the flag to say we are parsing HTTP rather than MIME.

2013-09-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/Additions/GSMime.m: Add comments and a further fallback
        mechanism for parsing HTTP when the default encoding is set.
        * Source/NSUnarchiver.m: Fix integer size values to use constants
        from stdint.h

2013-09-06  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSUserDefaults.m: Update cache when we synchronise a new
        domain to disk (was only updating on changes to existing domains).
        Should fix bug #39300

2013-08-30  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/GNUstepBase/GSVersionMacros.h: Fix usage of __APPLE__ macro.
	Patch by Graham Lee <iamleeg@gmail.com>

2013-08-22  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSScanner.m: GSScanDouble() permit overlong mantissa (more
        digits than can be represented in a double) and ignore excess digits
        for compatibility with OSX.  Inspired by testplant branch r37004
        which tries to allow more digits at the cost of breaking parsing
        in locales where the decimal point is a comma rather than a dot.

2013-08-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m:
	* Source/NSMapTable.m:
	* Source/NSSocketPortNameServer.m:
	* Source/GSLocale.m:
	* Source/NSNetServices.m:
	* Source/NSTimeZone.m:
	* Source/NSHashTable.m:
	* Source/GSSocketStream.m:
	* Source/NSValueTransformer.m:
	* Source/NSBundle.m:
	* Source/NSURLHandle.m:
	* Source/NSPropertyList.m:
	* Source/NSAffineTransform.m:
	* Source/NSPathUtilities.m:
	* Source/NSScanner.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSProcessInfo.m:
	* Source/NSNotificationQueue.m:
	* Source/NSSocketPort.m:
	* Source/NSAttributedString.m:
	* Source/NSRunLoop.m:
	* Source/NSOperation.m:
	* Source/NSObject+NSComparisonMethods.m:
	* Source/NSFormatter.m:
	* Source/NSUserDefaults.m:
	* Source/NSArray.m:
	* Source/NSMessagePortNameServer.m:
	* Source/GSStream.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSDebug.m:
	* Source/NSXMLPrivate.h:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSPortMessage.m:
	* Source/NSFileHandle.m:
	* Source/NSDistributedLock.m:
	* Source/GSTLS.m:
	* Source/NSPredicate.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSAssertionHandler.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSDispatch.h:
	* Source/NSPort.m:
	* Source/NSSortDescriptor.m:
	* Source/NSMessagePort.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/common.h:
	* Source/NSURLProtocol.m:
	* Source/NSURLCache.m:
	* Source/NSNotificationCenter.m:
	* Source/GSAttributedString.m:
	* Source/externs.m:
	* Source/NSCoder.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSURL.m:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/NSDecimalNumber.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSPointerFunctions.m:
	* Source/GSSorting.h:
	* Source/NSPointerArray.m:
	* Source/Additions/GCObject.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/NSNotification.m:
	* Source/NSNumber.m:
	* Source/GSTimSort.m:
	* Source/NSConnection.m:
	* Source/GSString.m:
	* Source/NSHTTPCookie.m:
	* Source/NSData.m:
	* Source/NSHost.m:
	* Source/NSDate.m:
	* Source/NSMetadata.m:
	* Source/NSDictionary.m:
	* Source/GSMDNSNetServices.m:
	* Source/GSHTTPAuthentication.m:
	* Source/NSClassDescription.m:
	* Source/NSSerializer.m:
	* Source/NSNull.m:
	* Source/NSValue.m:
	* Source/NSCountedSet.m:
	* Source/GSFileHandle.h:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/NSSet.m:
	* Source/NSLocale.m:
	* Source/NSTask.m:
	* Source/NSJSONSerialization.m:
	* Source/NSCharacterSet.m:
	* Source/NSPortNameServer.m:
	* Source/NSXMLParser.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSTextCheckingResult.m:
	* Source/NSEnumerator.m:
	* Source/GSFTPURLHandle.m:
        Improve atExit/leak handling to be executed with a thread and an
        autorelease pool in place.
        Record as deliberately 'leaked', objects created in +initialize
        methods and intended to persist until exit.
        Fix a couple of bugs exposed by turning on clean up of leaked objects.

2013-08-14  Lubos Dolezel <lubos@dolezel.info>

	* Source/NSBundle.m: add NSBundle pathForAuxiliaryExecutable: and
	-privateFrameworksPath and their URL counterparts
	* Headers/GNUstepBase/GSBlocks.h: Fixed the DEFINE_BLOCK_TYPE macro
	for certain GCC versions

2013-08-12  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSThread.h:
        * Source/NSThread.m:
        Added ([-performSelectorInBackground:withObject:]) convenience method
        from OSX 10.5

2013-08-10  Ivan Vucica <ivan@vucica.net>

	* Source/NSPathUtilities.m:
	Disabled check for secure temporary directories under Cygwin. Refer
	to:
	  http://stackoverflow.com/q/9561759/39974
	for a possible cause of problems.

	* Source/objc-load.m:
	Codepaths used for MinGW are now also used for Cygwin. Even in
	case of some functionality that should be standard under UNIX systems,
	it turns out that this functionality is, sadly, not present under
	Cygwin (e.g. dladdr()).

2013-08-10  Lubos Dolezel <lubos@dolezel.info>

	* Source/NSBundle.m: add NSBundle bundleURL, builtInPlugInsURL,
	executableURL

2013-07-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Version: make ready for 1.24.5 release
        * Documentation/news.texi: 1.24.5 news
        * Documentation/ReleaseNotes.gsdoc: 1.24.5 release notes
        * NSTimeZones/NSTimeZones.tar: new timezone data
        * Source/NSTimeZone.m: fix error in zone directory name

2013-07-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* config/objc-common.g: Add +initialize to fake NSObject class
	when compiling with the Apple runtime, since it expects	that
	method to be defined.

2013-07-11  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/GNUstepBase/GSVersionMacros.h: Fix definition of
	GS_OSX_ADJUST, which got things backward (converting a GNUstep
	style version into an OS X version instead of the other way
	around). Also make sure that MAC_OS_X_VERSION_MAX_ALLOWED gets
	converted when used in the definition of GS_OPENSTEP_V.

2013-07-09  Graham Lee <iamleeg@gmail.com>

        * Source/GNUmakefile:
        * Source/NSInvocationOperation.m:
        * Headers/Foundation/Foundation.h:
        * Headers/Foundation/NSInvocationOperation.h:
        New invocation operation class

2013-07-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSTLS.m: Fix memory leak (credentials)

2013-07-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSVersionMacros.h:
        Re-add define to set MAC_OS_X_VERSION_MAX_ALLOWED for OSX compatibility.

2013-07-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/cifframe.m: Fix possible incorrect free of non-malloc'ed
	memory.
	* Source/NSHost.m: fix uninitialised data warning
	* Source/NSMethodSignature.m: fix uninitialised variable
	* Source/NSPropertyList.m: avoid static analyser warning
	* Tools/gdomap.c: fix uninitialised data warning
	* Source/NSObject.m: fixup error in alignment calculation;
	was assuming that the alignment of a double would do but that's
	not good enough. On GCC we use the __BIGGEST_ALIGNMENT__ used on
	the machine, but clang has no support for that, so if it's not
	defined we now guess 16 rather than __alignof__(double).

2013-07-05  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSObject.m: Fix error creating instasnce when using the
        objc2 runtime and garbage collection.
        * Source/ObjectiveC2/runtime.c: implement class_createInstance()
        by calling NSAllocateObject() .. perhaps it should be the other
        way round though.
        configure.ac: Fix directory order error.
        configure: regenerate

2013-07-05  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/GNUstepBase/GSTypeEncoding.h
	Include objc.h otherwise __GNU_LIBOBJC__ isn't defined.

2013-07-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocksParser/GSSocksParser.h:
	* Source/GSSocksParser/GSSocksParserPrivate.m:
	* Source/GSSocksParser/GSSocks4Parser.m:
	* Source/GSSocksParser/GSSocks5Parser.m:
	More portability fixes ... this time for mswindows.

2013-07-04  Ibadinov Marat <ibadinov@me.com>

        * GSSocksParser/GSSocks5Parser.m:
        * GSSocksParser/GSSocks5Parser.h:
        * GSSocksParser/GSSocksParserPrivate.h:
        * GSSocksParser/GSSocksParser.m:
        * GSSocksParser/GSSocksParserPrivate.m:
        * GSSocksParser/GSSocksParser.h:
        * GSSocksParser/GSSocks4Parser.m:
        * GSSocksParser/GSSocks4Parser.h:
        Parsing code for SOCKS versions 4 and 5.

2013-07-03  Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Source/Additions/GSMime.m

2013-07-03  Ibadinov Marat <ibadinov@me.com>

        * Source/Additions/GNUmakefile:
        * Headers/GNUstepBase/GSTypeEncoding.c:
        * Headers/GNUstepBase/GSTypeEncoding.h:
        New type encoding parser.

2013-07-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSString.h:
	* Headers/GNUstepBase/GSVersionMacros.h:
	* Headers/GNUstepBase/NSString+GNUstepBase.h:
	* Source/Additions/GCArray.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/GSArray.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSNetServices.h:
	* Source/GSSocketStream.m:
	* Source/GSStream.m:
	* Source/GSString.m:
	* Source/GSTLS.m:
	* Source/NSAssertionHandler.m:
	* Source/NSCalendarDate.m:
	* Source/NSCallBacks.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSFileManager.m:
	* Source/NSIndexPath.m:
	* Source/NSIndexSet.m:
	* Source/NSJSONSerialization.m:
	* Source/NSKeyValueCoding.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSLog.m:
	* Source/NSMessagePort.m:
	* Source/NSNetServices.m:
	* Source/NSNumber.m:
	* Source/NSObject.m:
	* Source/NSOperation.m:
	* Source/NSPointerArray.m:
	* Source/NSPortCoder.m:
	* Source/NSPortMessage.m:
	* Source/NSRange.m:
	* Source/NSSocketPort.m:
	* Source/NSSortDescriptor.m:
	* Source/NSString.m:
	* Source/NSThread.m:
	* Source/NSTimeZone.m:
	* Source/NSURLResponse.m:
	* Source/NSUnarchiver.m:
	* Source/NSXMLParser.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Tools/AGSParser.m:
        Fixes for errors in printf style formats, (mostly 64bit issues)
        inspired by work done by Ibadinov Marat.

2013-07-01  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Add test for another libicu header
        * configure: regenerate
        * Headers/GNUstepBase/config.h.in: regenerate
        * Source/NSString.m: Add decompose/precompose methods derived from
        change in testplant branch.
        * Headers/GNUstepBase/GSVersionMacros.h: OSX compatibility tweak ...
        handle OSX style 4 digit versionn constants.
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSNetServices.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSOperation.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSPointerArray.h:
	* Headers/Foundation/NSPointerFunctions.h:
	* Headers/Foundation/NSPredicate.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSValueTransformer.h:
	* Headers/Foundation/NSXMLElement.h:
	* Headers/Foundation/NSXMLParser.h:
        Replace numeric version constants with OSX compatibility macros.

2013-06-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSConcreteMapTable.m: attempt to fix double retain bug
        introduced by clang/ARC changes.

2013-06-24  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tools/AGSIndex.m (mergeDictionaries): Fix typo in warning.

2013-06-23  Ivan Vucica <ivan@vucica.net>

        * Source/NSFileManager.m: Fixed syntax error.

2013-06-23  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSFileManager.m: Don't attempt to set ownership of copied
        file.  The code was already doing this right for directories, but
        not for other file types.

2013-06-21 Lubos Dolezel <lubos@dolezel.info>

	* Headers/GSBlocks.h: weakly import _Block_copy and _Block_release

2013-06-08 Lubos Dolezel <lubos@dolezel.info>

	* Source/NSTimeZone.m
	  Implement nextDaylightSavingTimeTransitionAfterDate:

2013-06-06 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Source/Additions/Unicode.m
	  Headers/Foundation/NSString.h
	  revert my change from 2013-05-29
	  breaks decoding of .gorm files in NSString for me on amd64

2013-05-31  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSLock.m: ([-lockWhenCondition:beforeDate:])
        Lock mutex using -lockBeforeDate: so that we can abandon the wait
        for the condition at the spacified date in the case where we can't
        even obtain a lock before that date.
        Fix for bug #39126

2013-05-29 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Headers/Foundation/NSString.h
	  make NSStringEncoding enum typdef to NSUInteger
	* Source/Additions/Unicode.m
	  fix format string to print out NSStringEncoding

2013-05-17  Ivan Vučica <ivan@vucica.net>

	* Source/NSDate.m:
	In case NAN macro is defined in math.h, prefer that over
	using the nan() function call.

2013-05-17  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSMessagePortNameServer.m: fix error in line count check
        in last change.

2013-05-16  Ivan Vučica <ivan@vucica.net>

	* Source/GSLocale.m:
	* configure.ac:
	Added check for whether there is any useful information in
	struct lconv. Android doesn't have anything there, despite
	having locale.h, so it makes little sense to try to access
	the nonexistent fields in GSLocale.m

2013-05-16  Ivan Vučica <ivan@vucica.net>

	* configure.ac:
	* cross.config:
	When cross-compiling, obeying an additional setting for
	Objective-C 2.0 support. Fixed a missing '$' in cross.config.

2013-05-15  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSMessagePortNameServer.m: fix for bug #38981

2013-05-13  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSKeyedArchiver.h,
	* Source/NSKeyedUnarchiver.m: Add method
	-replaceObject:withObject: from gui.

2013-05-13  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSArchiver/stringEncoding.m: Use PASS_EQUAL instead
	of PASS.

2013-05-13  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/ObjectiveC2/runtime.c: when replacing a method, update the
        cache so we don't use the old version.
        * Source/NSNotificationCenter.m: trivial tweak to map release code
        and remove method caching for OSX compatibility :-(
        * Source/NSPropertyList.m: Fix bug byte swapping unicode in apple
        binary plist generation.
        * Tests/base/NSNotification/dynamic.m: Fix crash in testcase.

2013-05-13  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSURLConnection.m: Release delegate immediately after
        failure or succeess of communicationm (bug #38955).
        * Source/Additions/Unicode.m: Fix possible read beyond end of buf.

2013-04-24  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSMime.m: ([GSMimeParser-parse:]) fix possible infinite
        recursion when encountering a bad document.

2013-04-22  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSMime.m: Fix memory management error with excess bytes
        after parsing mime headers.

2013-04-18      Marcus Muller <znek@mulle-kybernetik.com>

        * Source/NSMetadata.m: Fix to expose variables to compiler building
        with non-fragile ABI.

2013-04-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile:
	* Source/unix/GNUmakefile:
	* Source/unix/NSMetadata.m:
	* Source/win32/GNUmakefile:
	* Source/win32/NSMetadata.m:
	* Source/NSMetadata.m:
	* Headers/Foundation/NSMetadata.h:
	Move identical system specific metadata code to generic area so we
	can have system specific subclasses inherit common functionality.
	Fix instance variables so we won't break binrary compatibility in
	future.

2013-04-15  Richard Frith-Macdonald <rfm@gnu.org>

	* cifframe.m:
	* GSString.m:
	* GSTLS.m:
	* NSArchiver.m:
	* NSCalendar.m:
	* NSCoder.m:
	* NSData.m:
	* NSDecimal.m:
	* NSDictionary.m:
	* NSDistantObject.m:
	* NSException.m:
	* NSFileManager.m:
	* NSHashTable.m:
	* NSIndexPath.m:
	* NSLocale.m:
	* NSMethodSignature.m:
	* NSNotificationCenter.m:
	* NSNumberFormatter.m:
	* NSObject.m:
	* NSPortCoder.m:
	* NSProcessInfo.m:
	* NSProxy.m:
	* NSRunLoop.m:
	* NSSocketPort.m:
	* NSString.m:
	* NSURL.m:
	* NSURLProtocol.m:
	* NSValue.m:
	* NSXMLDocument.m:
	* NSXMLNode.m:
	* NSXMLParser.m:
	More changes to avoid static analyzer false-positives/non-issues so we
	can see when real issues arise.  Changes remove around 60 warnings and
	include about half a dozen minor bugfixes.

2013-04-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIMap.h:
	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSFormat.m:
	* Source/GSPrivate.h:
	* Source/GSString.m:
	* Source/NSBundle.m:
	* Source/NSJSONSerialization.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSScanner.m:
	* Tools/gdomap.c:
	Tweaks to keep static analyser happy.

2013-04-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GNUstep.h: NSInteger/NSUInteger cleanup.
	* Source/NSAffineTransform.m: Fix -isEqual: for subclassing.
	* Source/NSObject.m: Remove previously deprecarted function
	* Source/NSProxy.m: Avoid compiler warning
	* Source/NSDistantObject.m: Avoid compiler warning

2013-04-12  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPortCoder.m:
        Fix bug looking up class version information.

2013-04-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSScanner.m: improve the algoritm for parsing double values
        (new algorithm based on public domain pseudo code).. should be more
        accurate (for bug #38640).

2013-04-08  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSNotificationCenter.m: Fix bug #38680

2013-04-05  Richard Frith-Macdonald <rfm@gnu.org>

        * config/pathtls.m4: Try to guess gnutls flags if no config found
        * configure: regenerate
        * Tools/AGSHtml.m: Fix error when title index missing.

2013-04-03  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSSocketPort.m: Improve/simplify invalidation.
        * Source/NSXMLParser.m:
        Fix (implement) parsing of entities inside quoted strings.

2013-03-28  Richard Frith-Macdonald <rfm@gnu.org>

        Make release 1.24.4
        * Documentation/ReleaseNotes.gsdoc:
        * Documentation/news.texi:
        * Headers/Foundation/NSFileManager.h:
        * Source/NSFileManager.m:
        Prepare documentation for release

2013-03-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSCalendar.m:
        * Headers/Foundation/NSCalendar.h:
        Rewrite NSCalendar instance variable usage to avoid breaking binary
        compatibility.  Fix methods for setting the first week day and
        the minimum number of days in the first week of a month.

2013-03-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAffineTransform.m:
        Fix decoding of keyed archive containing identity transform.
	* Source/NSString.m:
	* Tests/base/NSString/tilde.m:
        Fix to standardize string if necessary to determine whether it has
        the home directory as a prefix.

2013-03-23  Fred Kiefer <FredKiefer@gmx.de>

        * Source/NSXMLNode.m (-XMLStringWithOptions:): Revert change I
	made on 2012-12-01.

2013-03-20  Richard Frith-Macdonald <rfm@gnu.org>

        * Tests/base/NSCalendar/features-10-7.m:
        * Source/NSCalendar.m:
        * Headers/Foundation/NSCalendar.h:
        New OSX 10.7 methods supplied by Lobos Dolezel and rewritten somewhat
        to avoid breaking binary compatibility.

2013-03-17  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSSet.m: Some optimisation for set intersection.

2013-03-16  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSLocale/general.m,
	* Tests/base/NSTimeZone/use.m: Mark more tests that depend on
	locale setting as hopes.
	* Tests/base/GSXML/basic.m: Set the timezone of the GSXMLRPC to
	get the same date string in the output.

2012-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar:
	* Tools/gsdoc-1_0_0.dtd:
	* Tools/gsdoc-1_0_1.dtd:
	* Tools/gsdoc-1_0_2.dtd:
	* Tools/gsdoc-1_0_3.dtd:
	* Tools/gsdoc-0_6_5.dtd:
	* Tools/gsdoc-0_6_6.dtd:
	* Tools/gsdoc-0_6_7.dtd:
	* Tools/plist-0_9.dtd:
        Update/correct FSF address.

2012-03-16  reussandras@gmail.com

        * base/Source/NSCalendar.m:
        Add simple quarter calculation.
        * base/Source/NSPathUtilities.m:
        Fix bug handling defaults dir config (was treating absolute path
        as relative).

2012-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: Update timezone information

2012-03-16  Emmanuel Maillard <mailing-lists@e-maillard.com>

        * configure.ac: checks for pthread library and password structure
        * Headers/GNUstepBase/config.h.in: new define for password field
        * Source/NSPathUtilities.m: use new define
        * configure: regenerate
        Changes for Android build

2012-03-12  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSPrivate.h: Change hash function args and add new functions
        * for incremental hash.
        * Source/NSString.m: Update to use the private hash function introduced
        for NSSortdescriptor.
        * Source/GSString.m: ditto.
        * Source/NSSortDescriptor.m: Update for new function arguments.
        * Source/GSPrivateHash.m: Add alternative version of hash functions
        (old code plus new public domain murmurhash3 code).
        * Source/GNUmakefile: Build alternative hash functions.
        build with OLDHASH defined to 0 to get new alternatives.

2012-03-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSFileManager.m:
        Fix some autorelease pool management issues.

2013-03-09 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>
	* Tests/base/NSFileManager/general.m
	  remove accidently snucked in header

2013-03-08 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

        * Headers/Foundation/NSFileManager.h:
        * Source/NSFileManager.m:
        * Tests/base/NSFileManager/general.m:
        Implement methods forcoping/moving file URLs

2013-03-05  Larry Campbell <lcampbel@akamai.com>

        * Source/NSFileManager.m: Fix for ([-contentsEqualAtPath:andPath:])
        compare contents of regular files in subdirectories.

2013-03-05 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

        * Source/NSFileManager.m:
        * Headers/Foundation/NSFileManager.h:
        ([createDirectoryAtURL:withIntermediateDirectories:attributes:error:])
        implemented.
        Also, for OSX compatibility, RFM 'fixed' the ...error: methods to
        leave the error value unmodified in the case where no error occurs.

2013-03-03 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Source/NSKeyValueObserving.m
	* Source/NSXMLParser.m
	  char is unsigned on macppc, so don't compare it
	  against negative values

2013-03-01  Richard Frith-Macdonald <rfm@gnu.org>

        * Version ... bump subminor number in preparation for next release.

2013-02-28  Richard Frith-Macdonald <rfm@gnu.org>

        Make release
	* Version:
	* Source/NSRegularExpression.m:
	* Source/NSURLResponse.m:
	* Source/NSString.m:
	* Source/DocMakefile:
	* Source/GSNetServices.h:
	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc:
	* Headers/GNUstepBase/GSVersionMacros.h:
	* Headers/Foundation/NSNetServices.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSXMLDocument.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSXMLDTD.h:
	* Headers/Foundation/NSXMLDTDNode.h:
	* Headers/Foundation/NSXMLElement.h:
	* Headers/Foundation/NSXMLParser.h:
	* Tools/DocMakefile:
	* Tools/AGSParser.m:
        Bump version for new release, add release notes, clean up documentation.

2013-02-28  Richard Frith-Macdonald <rfm@gnu.org>

        * Tests/base/NSString/test00.m: Add a few tests for searching subrange
        of a string.
        * Source/GSString.m: ([rangeOfCharacterFromSet:options:range:])
        Fix for overrun when searching backwards ... spotted by Fred.

2013-02-17  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSAvahiRunLoopIntegration.m: Remove code which was clearing
        bitmask values needed to track whether watcher needed to be removed
        from run loop.

2013-02-16  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSURL.m: a data url ignores any base URL.
        * Source/GSAvahiClient.m: remove self from runloop on dealloc.

2013-02-15  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPredicate.m: updates to output correct predicate format
        for binary operators.
        * Source/NSURL.m: unescape data for -relativePath

2013-02-10  Marcus Muller <znek@mulle-kybernetik.com>

        * Source/GSMDNSNetServices.m: enable whether a delegate is set or not.

2013-02-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSURL.m: For OSX compatibility, if we are creating a relative
        URL and the base URL has a different scheme from the base, then we
        ignore the base URL rather than raising an exception.

2013-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Fix error in check for perform on finished thread.

2013-01-24  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSCalendar.m: (-[dateByAddingComponents:toDate:options:]),
        ([-dateFromComponents:]) add support for missing components.

2013-01-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPredicate.m: Fixup parsing of function expressions.

2013-01-14  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSLocale.m: ([-_getExemplarCharacterSet]) Fix error in handling
        returned range (bug #38118 reported by X Y <macgritsch>
        * Source/NSPropertyList.m: Fix encoding of date objects when using the
        OpenStep format to simply used the description of the3 date.
        Fixes bug #38017
        * Source/NSURLConnection.m: a synchronous download with no response
        body should return an empty data item rather than nil ... fix for
        bug #38043
        * Source/GSTLS.m: Log a warning message if we load a certificate
        which has expired or is not yet valid.

2013-01-14  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSString.m: ([stringByAppendingPathComponent:]) recalculate
        root of patch correctly before stripping trailing separators.

2013-01-13  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSDistributedNotificationCenter.h,
	* Source/NSDistributedNotificationCenter.m: Correct the return
	types of the factory methods.

2013-01-08  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSString.m:
        When creating a substring (C) of a substring (B) or a string (A),
        we now retain the (A) in (C) rather than having (C) retain (B)
        which in turn retains (A).  This has the advantage that it is
        possible for the intermediate (B) to be released if nothing else
        ues it.

2013-01-05 00:49-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSMetadata.h: Add _ to delegate.
	* Source/GNUmakefile: Remove reference to NSMetadata.m
	* Source/NSMetadata.m: Remove from here and add OS specific
	implementations.
	* Source/unix/GNUmakefile: Add new file...
	* Source/unix/NSMetadata.m: UNIX implementation...
	* Source/win32/GNUmakefile: Add new file..
	* Source/win32/NSMetadata.m: Windows implementation.

2012-12-18  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSNetServices.m: patch by Marcus Muller to correctly check
        that either the input or the output stream has been opened.
        * Source/GSString.m: patch by Stefan Bidi to optimise utf-8 to
        utf-16 conversion a little.

2012-12-12  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSMime.m: Fix parsing of final boundary in a multipart
        document so that the trailing '--' ends the boundary and no CRLF
        is required. The grammar in RFC1341 says that the final boundary
        does not need a CRLF terminator.

2012-12-08  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSTLS.m:
        * Source/NSNotificationCenter.m:
        * Source/NSPropertyList.m:
        Tweaks to avoid compiler warnings spotted by Fred.

2012-12-06  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSHTTPCookieStorage.m: Don't read store if it doesn't exist.
        * Source/GSTLS.h: Use time interval for caching
        * Source/GSTLS.m: More efficient caching

2012-12-06  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPropertyList.m: remove a couple of useless debug logs.
        * Source/GSTLS.h: Add credentials object
        * Source/GSTLS.m: Implement caching of credentials so that they are
        shared between different sessions (eg a web server accepting multiple
        incoming connections can re-use the same credentials for each of them).
        This is to address a performance issue due to decoding certificate
        information from file to create new credentials when lots of incoming
        connections occur.

2012-12-05  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSFileHandle: ([-sslHandshakeEstablished:outgoing:])
        Set the connection into non-blocking mode so that the handshake
        will not block if the other end refuses to talk to us.

2012-12-01  Fred Kiefer <FredKiefer@gmx.de>

        * Source/NSXMLNode.m (-XMLStringWithOptions:): Use macros for
	versions of libxml2.

2012-11-28  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Fixup ICU test error
        * configure: regenerate
        Change tests so that we no longer ignore it when icu-config tells
        us we have too old a version to use.

2012-11-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSHTTPURLHandle.m: Set content-length header in outgoing
        request if not already set.
	* Headers/Additions/GNUstepBase/GSMime.h:
        * Source/Additions/GSMime.m: Add methods to control line folding.

2012-11-25 14:39-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSMetadata.h
	* Source/NSMetadata.m: Add NSMetadataQueryAttributeValueTuple and
	NSMetadataQueryResultGroup classes.

2012-11-21 12:10-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSMetadata.h: Add ivars.
	* Source/NSMetadata.m: Cleanup compilation error.

2012-11-20 12:50-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSMetadata.h: Declaratioins for constants and
	NSMetadataItem.
	* Source/NSMetadata.m: Implementation of NSMetadataItem and definition
	of constants.

2012-11-19 18:54-CET Ivan Vučica <ivan@vucica.net>

	* Source/GSInvocation.h: Renamed GSFrameInvocation to
	GSDummyInvocation, to match implementation in
	Source/NSInvocation.m.

2012-11-18 11:47-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSMetadataQuery.h: Remove old file.
	* Source/GNUmakefile: Change name to NSMetadata.[hm].
	* Source/NSMetadata.m: Add new file with correct name.
	* Source/NSMetadataQuery.m: Remove old file.

2012-11-18 11:29-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/Foundation.h: Add NSMetadataQuery.h to
	include list.
	* Headers/Foundation/NSMetadataQuery.h: New header for class.
	* Source/GNUmakefile: Add NSMetadataQuery.[hm] to makefile.
	* Source/NSMetadataQuery.m: Abstract implementation for
	NSMetdataQuery.  The idea is much like NSFileStream and other
	classes which have operating system specific implementations.
	On linux this will, most likely, interface with locate/slocate.
	I'm not certain what it will talk to on Win32.

2012-11-15  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSAutoreleasePool.m (-emptyPool): Fixed not to push a pool to
	the cache in the ARC_RUNTIME implementation, -dealloc does it already.
	For the same current pool instance, the ARC_RUNTIME implementation was
	calling push_pool_to_cache() twice, once in -emptyPool and another
	-dealloc. Which meant a pool still in use could be reused, then it was
	possible to get stuck in an infinite loop.

2012-11-05  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSFFIInvocation.m (GSFFIInvocationCallback): Generate
	useful error message when no best typed selector can be found.

2012-11-02  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac: Use AC_FUNC_STRERROR_R to check for presence and
	version of the strerror_r function.
	* Source/Additions/NSError+GNUstepBase.m (-_systemError:): Add
	conditional code for glibc specific version of strerror_r.
	* Source/common.h: No longer redefine feature test macros as this
	could invalidate the autoconf results.

	* configure:
	* Headers/GNUstepBase/config.h.in:
	* SSL/configure:
	* SSL/config.h.in: Regenerated by autoreconf.

2012-10-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSError+GNUstepBase.m:
	* Source/GSFileHandle.m:
	* Source/GSMDNSNetServices.m:
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSThread.m:
	* Source/common.h:
        Changes to try to get inclusion of system specific features right.
        In particular, we want strerror_r() to be POSIX complient so that
        we get correct system erorr messages.

2012-10-28  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSGeometry.m: Fix so that an empty rect can never
        intersect any other (including itsself).  Reported by Banly Kemiyatorn
        and Fred Kiefer.

2012-10-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Instance/Documentation/texi.make:
        Fix installation/clean of html documents generated from texi files.

2012-10-25  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/GNUstepBase/GSConfig.h.in: Prevent redefinition warnings for
	__STDC_LIMIT_MACROS and __STC_CONSTANT_MACROS (both are ObjC++ related).

2012-10-22  Thomas Davie <tom.davie@gmail.com>

        * Headers/Foundation/NSSet.h:
        * Source/NSSet.m:
        Add -objectsPassingTest:

2012-10-22  Rene Hexel <rhexel+savannah@mac.com>

        * Source/Additions/GSXML.m:
        In libxml2 the content and use fields have become private and are only
        exposed through xmlBufContent() and xmlBufUse() since libxml-2.9.0.
        Use those macros for newer versions of libxml2.

2012-10-20  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSConnection.m: Use NSUInteger for array indexes/counters.

2012-10-18  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSXMLParser.m: Try to fix entity parsing bug #37596

2012-10-17  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSBundle.m:
        * Source/NSCalendarDate.m:
        * Source/NSFileManager.m:
        * Source/NSJSONSerialization.m:
        * Source/NSMessagePort.m:
        * Source/NSMessagePortNameServer.m:
        * Source/NSPropertyList.m:
        Avoid autoreleasing things in +initialize when there may be no
        autorelease pool present ... we don't want to either leak or
        cause recursive loops when we want to log any leaks.

2012-10-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/base/NSArchiver/stringEncoding.m: add test for last commit

2012-10-15  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSPropertyList.m (-[GSBinaryPLGenerator storeString:):
	Write unicode strings in big-endian instead of little-endian.
	The resulting plists now load properly on OS X. Thanks to
	rdemet for bug report.

2012-10-15  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSCharacterSet.h:
        * Source/NSCharacterSet.m:
        For a long time Apple's docs and headers said that the methods for
        returning standard charactersets returned 'NSCharacterSet*', which
        was annoying when they were called on NSMutableCharacterSet.
        It seems they finally changed to returning id, so we can do the same.

2012-10-12  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/GNUstepBase/NSDebug+GNUstepBase.h:
        Fix format of logs produced by two of the three method macros ...
        a bug spotted by Fred.

2012-10-03  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSFormat.m: for C-string formatting, avoid reading to the
        nul terminator ... limit to a number of bytes equal to the precision
        (if any) given in the format. This may be the wrong thing to do when
        handling multibyte encodings (where a natural expectation is to have
        precision mean number of characters), but seems legitimate going by
        current xopen printf documentation.

2012-10-03  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* SSL/GSSSLHandle.m (-sslSetOptions): Apply string name change
	missed during TLS reorganisation.

2012-09-30  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSSocketStream.m:
        * Source/GSTLS.m:
        * Source/GSHTTPURLHandle.m:
        * Source/NSURLProtocol.m:
        * Headers/Foundation/NSFileHandle.h:
        Add GNUstep TLS/SSL options when loading HTTPS URLs.

2012-09-26  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSUserDefaults.m: Fix error synchronising from changes in
        database ... was not sending the notification to say we had updated.
        * Headers/Foundation/NSFileHandle.h:
        * Source/GSSocketStream.m:
        * Source/GSTLS.h:
        * Source/GSTLS.m:
        * Source/NSFileHandle.m:
        More TLS reorganisation and adding diagnostics

2012-09-25  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GNUmakefile:
        * Source/GSSocketStream.m:
        * Source/NSFileHandle.m:
        * Headers/Foundation/NSFileHandle.h:
        * SSL/GSSSLHandle.m:
        * Source/GSTLS.h:
        * Source/GSTLS.m:
        Restructure to separate some of the tls functionality out.

2012-09-24  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSBundle.m: Fix error spotted by Fred.

2012-09-24  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSFileHandle.h: deprecate old method for setting
        certificate and add new one.
        * SSL/GSSSLHandle.m: Support new method and move generic code to
        NSFileHandle.m
        * Source/GSSocketStream.m: Implement NSFileHandle SSL/TLS support
        using GNUTLS.
        * Source/NSFileHandle.m: Some ssl/tls restructuring, use GNUTLS if
        available.
        * configure.ac: Don't build SSL bundle if isupport is built-in.
        * GNUmakefile: ditto
        * base.make.in: ditto ... plus fix to define setting to show whether
        ICU is avaiable.
        * configure: regenerate

2012-09-23  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSSocketStream.m: Expose GSFileHandle ivars for compilation
	with the non-fragile ABI.
	* Headers/GNUstepBase/GSVersionMacros.h: Restore line that was
	accidentally commented out.

2012-09-23  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTimSort.m: Fix typo.

2012-09-21  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSArray.m:
        * Source/NSDate.m:
        * Source/NSDictionary.m:
        * Headers/Foundation/NSArray.h:
        Comment/documentation fixups to avoid warnings etc.
        * Tools/AGSParser.h:
        * Tools/AGSParser.m:
        Fix memory management error causing reference to deallocated object.

2012-09-20  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTimSort.m: A few more timsort bugfixes.

2012-09-20  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSTimSort.m: Fix bugs in the timsort implementation.

2012-09-20  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSQuickSort.m: Fixed this to compile and (apparently) work.

2012-09-20  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Change sort selection to use shellsort by default and
        to make sort selection internal to gnustep-base rather than public.
        * configure: regenerate
        * Headers/GNUstepBase/config.h.in: regenerate
        * Headers/GNUstepBase/GSConfig.h.in: Remove public sort selection info
        * Source/GSQuickSort.m: Use config.h to control build/not-build.
        * Source/NSSortDescriptor.m: Reference the selected sort class to
        ensure that it is linked in  and loaded at runtime.
        * Source/GSShellSort.m: Fix bug in function arguments.
        Use config.h to control build/not-build.
        * Source/GSSorting.h: tidied a little
        * Source/GSTimSort.m: Use config.h to control build/not-build.
        The changes are basically to keep sort information internal to
        base rather than exposing it and, more importantly, to get sorting
        working again.  This involves:
        1. minor fix to shellsort to get it to work.
        2. change configure script to select shellsort.
        The problems with the other sorts are:
        a. quicksort won't even compile
        b. timsort does compile, but segfaults when you try to give it
        real-world datasets to sort
        Anyone wantng to fix these, please do (it would be really cool
        to have timsort working).

2012-09-19  Niels Grewe <niels.grewe@halbordnung.de>
	* Source/GSSorting.h
	* Source/NSSortDescriptor.m:
	Add new generic interface for sorting.
	* Source/GSTimSort.m: Implement timsort sorting algorithm.
	* Source/GSQuickSort.m
	* Source/GSShellSort.m:
	Factor out previously used sorting algorithms.
	* Source/GSArray.m
	* Source/NSArray.m:
	Modify to use the new sorting interface for sorting using
	functions, NSSortDescriptor, and NSComparator. Implement
	NSComparator based sorting and insertion index searching
	methods.
	* Source/GNUmakefile: Connect new files to the build.
	* configure.ac: Add configure switch to allow selection of sort
	algorithm.
	* Headers/GNUstepBase/GSConfig.h.in: Add defines for sort
	algorithm selection.
	* configure: Regenerate
	* Headers/Foundation/NSObjCRuntime.h
	* Headers/Foundation/NSArray.h:
	Declarations for new NSComparator based sorting methods.
	* Tests/base/NSArray/general.m
	* Tests/base/NSArray/blocks.m:
	Add tests for new functionality.
	* Tests/base/NSArray/random.plist
	* Tests/base/NSArray/sorted.plist:
	Add sorting example data that is large enough to test more
	sophisticated sorting algorithms.

	Completely overhaul how we do sorting in -base. GSSorting.h now
	defines an interface that can be used for all sorting tasks in
	the library. The actual sort algorithms to use are now plugable.
	Timsort is the new default sorting algorithm, the existing
	algorithms, shellsort and quicksort can still be selected using
	a configure switch, but they do not override timsort completely
	because they are unstable.
	Also implement the new NSComparator (blocks) based sorting and
	insertion index searching methods for NSMutableArray and
	NSArray.

2012-09-17 12:03-EDT Gregory John Casamento <greg.casamento@gmail.com>
	Merged from the testplant branch.

	* Headers/Foundation/Foundation.h
	* Headers/Foundation/NSScriptWhoseTests.h
	* Source/GNUmakefile
	* Source/NSObject+NSComparisonMethods.m: Move the
	comparison methods to the header for NSScriptWhoseTests.h,
	but don't define the abstract class since we don't support
	Apple script.

2012-09-16  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSURL.m:
        * Tests/base/NSURL/basic.m:
        Add support for data: URL

2012-09-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSJSONSerialization.m:
        Fix quoting of string output by copying code from WebServices library.

2012-09-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSJSONSerialization.m:
        * Source/NSPropertyList.m:
        Improve serialisation of booleans.

2012-09-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/Foundation/NSDate.h: Declare new OSX method to add time
        interval to a date.
        * Source/NSDate.m: Implement it
        * Source/NSCalendarDate.m: Ditto
        * Source/NSRunLoop.m: Add exception handling for run loop performer.

2012-09-10  Sergii Stoian <stoyan255@gmail.com>

        * Source/NSFileManager.m:
        [createDirectoryAtPath:withIntermediateDirectories:attributes:error:]:
        Create directories only if it doesn't exist.

2012-09-09  Wolfgang Lux  <wolfgang.lux@gmail.com>

        * Source/NSPropertyList.m (-storeString): Add missing variable
        declaration on big-endian systems.

2012-09-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m:
        Don't ignore whitespace in keys and values when parsing XML ... the
        DTD says everything apart from array and dict contains #PCDATA.

2012-09-05  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSScanner.m: Compatibility tweak reported by hns@computer.org
        A string like '1.2eX' where X is not a numeric exponent, needs to be
        scanned as a float/double up to (but not including) the 'e' (or 'E')
        rather than being treated as a badly formatted float/double.

2012-09-04  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSXMLDocument/cdata.m: New test case for CDATA.

2012-09-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Source/NSBundle.m:
	* Source/NSPropertyList.m:
	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSDistributedLock.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSZone.m:
	* Source/NSPage.m:
	* Source/NSMessagePort.m:
	* Source/NSUnarchiver.m:
	* Source/win32/GSFileHandle.m:
	* Source/NSFileManager.m:
	* Source/common.h:
	* Source/NSString.m:
	* Source/Additions/NSData+GNUstepBase.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/NSMutableString+GNUstepBase.m:
	* Source/Additions/NSError+GNUstepBase.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSString+GNUstepBase.m:
	* Source/Additions/GCArray.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSNumber+GNUstepBase.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSString.m:
	* Source/NSObjCRuntime.m:
	* Source/GSFormat.m:
	* Source/GSFileHandle.m:
	* Source/NSTask.m:
	On windows with mingw we can use strtoull() rather than _strtoui64().
	Also, remove redundant header includes since string.h is in common.h

2012-09-03  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Fallback to the non icu-config check for ICU in
	the general case.
	* configure: Regenerate.

2012-09-01  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Implement `--disable-icu-config' switch to
	configure for platforms that ship libicu but not icu-config.
	* configure: Regenerate.

2012-08-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSSstring.m: ([-stringByAppendingPathComponent:]) fix for
	append to an empty string with a windows path as an argument.

2012-08-26  Niels Grewe <niels.grewe@halbordnung.de>

	*  configure.ac: Check for sys/filio.h and whether we need to
	link libsocket (as on QNX).
	*  configure
	*  SSL/configure
	*  Headers/GNUstepBase/config.h.in:
	Regenerate.
	*  Source/common.h
	*  Source/GSFileHandle.m
	*  Source/NSMessagePort.m
	*  Source/NSSocketPort.m
	*  Source/NSThread.m
	*  SSL/GSSSLHandle.m:
	QNX compatibility tweaks.
	*  Tools/gdnc.m
	*  Tools/gdomap.c:
	Use slog facility for logging on QNX.

	Compatibility improvements for building for QNX.

2012-08-26  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Check for QNX slog facilities.
	* Headers/GNUstepBase/config.h.in
	* configure:
	Regenerate
	* Source/NSLog.m: Implement logging to the QNX slog.

	Add support for logging to the QNX slog via NSLog().

2012-08-25  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Allow a cross-compilation configuration to be
	specified using the `--with-cross-compilation-info=' switch.
	Tweak configure script to behave gracefully when
	cross-compiling.
	* configure: Regenerate.
	* cross.config: Add default values for cross-compilation.

	Make the configure script behave more friendly when
	cross-compiling.

2012-08-16  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Check for objc_root_class attribute
	* configure: Regenerate
	* config/objc-common.g: Annotate root classes.
	* Headers/GNUstepBase/config.h.in: Regenerate
	* Headers/GNUstepBase/GSConfig.h.in: Add macro for root class
	attribute availability.
	* Headers/GNUstepBase/GSVersionMacros.h: Define GS_ROOT_CLASS
	depending on whether the compiler supports it.
	* Headers/Foundation/NSObject.h: Mark NSObject as a root class.
	* Headers/Foundation/NSProxy.h: Mark NSProxy as a root class.
	* Source/NSDistantObject: Mark GSDistantObjectPlaceholder as a
	root class.
	* Source/NSObject.m: Mark NSZombie as a root class.

	Changes to support clang's __attribute__((objc_root_class)).

2012-08-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSScanner.m: Fix error in comment
        * Tools/pldes.m: Update to more modern APIs
        * Tools/plser.m: Update to more modern APIs
        * Source/NSPropertyList.m: Update for usigned long long
        * Source/NSString.m: Make intValue, integerValue, longLongValue
        return large unsigned values as negative.
        Fixes to try to cope with property lists containing very large
        unsigned integers (top bit set).

2012-08-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m:
        Fix permissions on temporary directory rarther than just failing ...
        suggestion by Wolfgang.

2012-08-10  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSFileManager.m: ([-createDirectoryAtPath:attributes:])
        OSX compatibility change to no longer create intermediate directories
        (fixing bug #35672).
        NB. Code depending on the original incorrect behavior should be
        updated to use the new method:
        -createDirectoryAtPath:withIntermediateDirectories:attributes:error:

2012-08-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSpellServer.m:
	* Source/NSPropertyList.m:
	* Source/NSPathUtilities.m:
	* Source/NSUserDefaults.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSDistributedLock.m:
	* Source/NSMessagePort.m:
	* Source/NSHTTPCookieStorage.m:
        Use new method for creating intermediate directories rater than
        depending on incorrect behavior of the old method.

2012-08-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPropertyList.m:
        Fix problem considering a lack of whitespace at the end of the
        list as an error.
        * GSeq.h: Replace tolower() with uni_tolower() where using 8bit
        strings and the internal coding is latin1 and may not be the same
        as the native encoding.

2012-08-08 Riccardo Mottola <rm@gnu.org>

	* Tools/AGSParser.m:
	Add macro detection for MacOS version 10.1 to 10.6 and make
	GS_API_LATEST the last in priority.

2012-08-08  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSString.m: Simplify/remove upper and lower case conversion
        to use superclass implementation avoiding toupper() and tolower().
        Change other literal string methods to check that the content
        is really utf8 in more places.  Generally simplify/cleanup a bit.

2012-08-02  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSValue.m: ([-isEqualToValue:]) add check for self equality
        and fix error checking tyep signature.
        * Source/Additions/GSObjCRuntime.m: (GSSelectorTypesMatch) fix to
        return a true BOOL value.

2012-07-31  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/Additions/GSMime.m: Optimisations for chunked encoding.
        a. Don't resize the buffer for each chunk ... that's very inefficient
        if the other end sends tiny chunks.  Instead, make the buffer big
        enough to handle all the available data, then shrink back to the
        decoded size.
        b. Move method call out of the loop handling individual bytes.

2012-07-30  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSData.m: ([setLength:]) increase size of buffer in chunks
        proportional to the current size ... so if we add small amounts to a
        buffer many, many times, we don't reallocate the memory for each tiny
        increment.  Should make accumulating large amounts of data into a
        buffer much more efficient.

2012-07-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSKeyValueObserving.m:
        Try fix for bug #36967

2012-07-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSXMLNode.m: Just report string value as description ...
        which appears to be what OSX does.
        * Tests/base/KVC/mutable.m: Add tests based on code by Riccardo.

2012-07-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSKeyValueObserving.m:
        * Source/GSFFIInvocation.m:
        * Source/GSPrivate.h:
        * Source/NSInvocation.m:
        * Source/cifframe.h:
        * Source/cifframe.m:
        Initial attempt at implementing KVO for structure setter methods in
        general via libffi.

2012-07-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-description): Remove trailing newline. This
	should fix #36976.

2012-07-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFCallInvocation.m:
	* Source/NSKeyValueObserving.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/NSProtocolChecker.m:
	* Source/GSValue.m:
	* Source/NSValue.m:
        Use GSSelectorTypesMatch() for type comparisons.

2012-07-12 19:26-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSFileManager.m: Correct misspelled ASSIGN which was
	causing link errors.

2012-07-11  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/Additions/GSMime.m: Don't accept documents where header lines
        contain bytes which can't be converted to a string.

2012-07-11  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSKeyedArchiver.m:
        * Source/NSCoder.m:
        * Source/Additions/GSObjCRuntime.m:
        * Source/NSArchiver.m:
        * Headers/GNUstepBase/GSObjCRuntime.h:
        Have leading type qualifiers and laout information skipped when
        encoding a value of on ObjC type, rather than objecting that the
        supplied type string is not a known type.
        Fix for bug #36824

2012-07-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSFFIInvocation.m: Fix for bug #36706
        * Source/NSObject.m: Also, apply patch by Niels Grewe with modsvn commit

2012-07-09  Sebastian Reitenbach <buzzdee>

        * Source/NSThread.m: Fixes test for posix thread scheduling.

2012-07-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSBundle.m: Fixes for bug #34815 ... map between old and
        new style language names and use the best language specific
        resource available.
        * Resources/Languages/Locale.canonical: Add mappings from three
        letter language names to two letter names where they exist.

2012-07-08  Richard Frith-Macdonald <rfm@gnu.org>

        * Headers/GNUstepBase/GSVersionMacros.h:
        fix for bug #36650
        * Source/NSFileManager.m: Apply rewritten patch by Sergey Golovin
        * Source/NSBundle.m: Fix for bug #34815 ... we shoudl now move to
        using ISO names.

2012-07-08  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSURL.m:
        * Source/NSURLHandle.m:
        Re-load a cached  handle if the content has been invalidated.
        Set the status of a file handle to not-loaded if the fiel is modified.
        Should fix bug #36726

2012-07-05  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSBundle.m: Don't assume that code loading won't be called
        re-entrantly.

2012-07-05  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSPathUtilities.m: Fixed constant string comparison error
	reported by Clang SVN trunk r158230 or more recent.
	See http://llvm.org/viewvc/llvm-project?view=rev&revision=158230
        This is a workaround for a Clang compiler bug ...

2012-07-02  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSBundle.m: Attempted fix for bug #34191 ... change framework
        class association to keep a map of loaded frameworks/bundles by class
        for quick lookup and alter code to check the runtime for new frameworks
        if we are asked for the bundle for a class and we can't find it.

2012-06-27  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSScanner.m: Fix missing 'else' which was causing a
        memory leak and minor performance degradation.

2012-06-12  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSPropertyList.m: Check for nil property list argument.

2012-06-07  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/unix/GSRunLoopCtxt.m (-pollUntil:within:): Fix previous
	change to compile again when using select() instead of poll().

2012-06-06  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSSocketPort.m:
        * Source/unix/GSRunLoopCtxt.m:
        * Source/NSMessagePort.m:
        * Source/win32/GSRunLoopCtxt.m:
        Modify code for getting file descriptors to cope with an unlimited
        number (allocate buffer on heap if necessary) for server processes
        with very large numbers of distributed object connections.

2012-04-30 Riccardo Mottola <rm@gnu.org>

	* Source/NSString:
	Do not include malloc on OpenBSD to avoid warning (and include
        stdlib always).

2012-04-29 Riccardo Mottola <rm@gnu.org>

	* Source/common.h:
	Extend David's hack to all known non-glibc platforms

2012-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArchiver.m:
	* Source/NSUnarchiver.m:
	* Source/NSPortCoder.m:
	* Source/Coder.m:
	Updates to cope with the fact that some BSD ports of gnustep-base
	used incorrect versioning, and that people have released Gorm
	files with versioning incompatible with current releases.
	1. dissociate coder -systemVersion from the actual system version,
	so that if people mess with the gnustep-base version, their
	non-standard releases will still interoperate with normal code.
	2. Implement new array encoding/decoding compatible with earlier
	versions (except if the array contains exactly 0xffffffff items).
	3. Raise exception if decoding archives with an unsupported version.
	4. Add GSCoderSystemVersion user default to override the system
	version used for encoding ... for testing and tweaking to generate
	archives in, or communicate with DO servers using an earlier version.

2012-04-23  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSAutoreleasePool/autorelease_eh.m:
	Get new test to run with older compilers.

2012-04-23 12:47  theraven

	* libs/base/trunk/Source/NSAutoreleasePool.m,
	libs/base/trunk/Tests/base/NSAutoreleasePool/autorelease_eh.m:
	Fix a bug in the new autorelease pool implementation when pools
	are destroyed in the wrong order.

	Test cast by Chris Armstrong!

2012-04-22 Riccardo Mottola <rm@gnu.org>

	* Source/GSString.m
	Do not include malloc on OpenBSD to avoid warning.

2012-04-18  Fred Kiefer <FredKiefer@gmx.de>

	* Tools/pl2link.m (main): Get the category from a new entry named
	FreeDesktopCategories.
	Patch by Philippe Roussel <p.o.roussel@free.fr>.

2012-04-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c: Fi error calculating instance
	variable offset size as reported/suggested by James Cook
	<mokus@deepbondi.net>

2012-04-16  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add tests for lossy conversion using iconv and
	provide options to disable use of iconv or allow use of iconv
	where //TRANSLIT is missing.
	* configure: regenerate.

2012-04-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
	Fix test for availability of lossy conversion via iconv.

2012-04-10 Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Tools/make_strings/StringsFile.m
	* Tools/pl.m
	some NSInteger -> NSUInteger changes to match return
	values of methods

2012-04-07 13:54  theraven

	* Source/NSMethodSignature.m: Fix NSMethodSignature
	generating nonsense values when it encounters a type encoding
	including blocks.

2012-04-07 10:45  theraven

	* Source/GSSocketStream.m:
	* Source/NSAffineTransform.m:
	* Source/NSXMLDTDNode.m:
	* Tools/xmlparse.m: Fix the remaining compiler
	warnings.

2012-04-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLDocument.m:
	* Source/NSXMLDTD.m:
	* Source/NSXMLNode.m:
	* Source/NSXMLDTDNode.m:
	* Source/NSXMLElement.m: Remove compiler warnings for clang
	reported by David Chisnall.
	* Tests/base/NSAutoreleasePool/basic.m: Get to compile again
	without -C99.

2012-04-06 12:37  theraven

	* libs/base/trunk/Source/NSConnection.m,
	libs/base/trunk/Source/NSData.m,
	libs/base/trunk/Source/NSKeyValueObserving.m: Fix a few compiler
	warnings caused by type mismatches in NSLog statements.

2012-04-06 12:23  theraven

	* libs/base/trunk/Headers/Foundation/NSArray.h,
	libs/base/trunk/Headers/Foundation/NSDictionary.h,
	libs/base/trunk/Headers/GNUstepBase/GSVersionMacros.h,
	libs/base/trunk/Source/NSArray.m,
	libs/base/trunk/Source/NSDictionary.m,
	libs/base/trunk/Tests/base/NSArray/basic.m,
	libs/base/trunk/Tests/base/NSDictionary/basic.m: Support for
	collection subscripting (NSArray and NSDictionary).

	Yes, the syntax is ugly, but no doubt people will start using it
	in June...

2012-04-06 12:02  theraven

	* libs/base/trunk/Source/NSAutoreleasePool.m,
	libs/base/trunk/Tests/base/NSAutoreleasePool,
	libs/base/trunk/Tests/base/NSAutoreleasePool/TestInfo,
	libs/base/trunk/Tests/base/NSAutoreleasePool/basic.m: Use the
	runtime's ARC autorelease pools if available.

2012-04-04  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (+_objectForNode:): Don't create a document
	object for a private document.
	* Tests/base/NSXMLNode/transfer.m: New code for test case
	contributed by Doug Simons.

2012-04-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLElement.m,
	* Source/NSXMLNode.m: Fix compiler error and warning for older
	version of libxml2.

2012-04-01 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSNumber.m: Add special small object class for floats.
	Previously, NSSmallRepeatableDouble would be used which resulted in
	the float being printed as a double when calling -stringValue or
	-description.

2012-03-27  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSObject.h (-error:): Declare return type.
	Patch by Benoît Garrigues <bgarrigues@gmail.com>

2012-03-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (execute_xpath): Clean up.

2012-03-27 Niels Grewe <niels.grewe@halbordnung.de>
	* configure.ac
	* config.mak.in
	* Headers/GNUstepBase/GSConfig.h.in
	* Headers/GNUstepBase/config.h.in:
	Implement configure check for libdispatch.
	* configure: Regenerate
	* Source/GSDispatch.h: Add portability header with macros for compiling
	  with or without libdispatch.
	* Source/NSArray.m
	* Source/NSDictionary.m
	* Source/NSIndexSet.m
	* Source/NSSet.m
	* Headers/Foundation/NSIndexSet.h:
	Implement libdispatch support for block enumeration methods.
	* Tests/base/NSMutableIndexSet/blocks.m
	* Tests/base/NSDictionary/blocks.m
	* Tests/base/NSArray/blocks.m:
	Test cases for new code.

	Detect the presence of libdispatch and, if available, use it for
	collection enumeration methods that take blocks as arguments. This
	allows us to implement the NSEnumerationConcurrent option of those
	methods with minimal effort.

2012-03-27 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSOperation.m: Remove leftover debugging statements.

2012-03-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
	* Source/NSRegularExpression.m:
	* Headers/GNUstepBase/GSBlocks.h:
	* Headers/Foundation/NSOperation.h:
	Get things compiling/linking again with gcc after blocks changes.

2012-03-27 Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSOperation.h
	* Headers/GNUstepBase/GSBlocks.h:
	Fix definitions of blocks without arguments for GCC.

2012-03-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLElement.m,
	* Source/NSXMLNode.m: Better support for namespaces. Corrected
	-_nodeFollowingInNaturalDirection:, -setStringValue:
	and -XMLStringWithOptions:

2012-03-26 Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSOperation.h
	* Source/NSOperation.m:
	Implement -setCompletionBlock: and -completionBlock.
	* Headers/GNUstepBase/GSBlocks: Make blocks without arguments callable
	* Tests/base/NSOperation/basic.m: Test whether completion blocks work.

2012-03-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLPrivate.h: Change order of includes to ensure libxml2
	headers are seen early.

2012-03-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-rootDocument): Better test for private document.
	* Source/NSXMLDTDNode.m (-initWithXMLString:): Use childAtIndex:
	instead of rootElement.

2012-03-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-copyWithZone_): Use value 1 instead of 2
	for deep copy. Bug found by Doug Simons <doug.simons@testplant.com>.
	* Source/NSXMLNode.m (-rootDocument): Don't return the private document.
	* Source/NSXMLNode.m (-nextSibling, -previousSibling): Protect
	against namspace nodes.
	* Tests/base/NSXMLNode/transfer.m: New test case for problem
	reported by Doug Simons.

2012-03-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLElement.m,
	* Source/NSXMLNode.m: Fix memory leak for attribute private
	documents found by valgrind.
	* Tests/base/NSXMLNode/namespace.m: Use drain instead of release.

2012-03-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLDocument.m (-URI, -setURI:): Specific implementation.
	* Source/NSXMLPrivate.h: Remove URI ivar.
	* Source/NSXMLElement.m,
	* Source/NSXMLNode.m: Full support for namespaces.
	* Tests/base/NSXMLNode/namespace.m: Test code borrowed from Google
	data project.

2012-03-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLDocument.m: Correct memory management.
	* Source/NSXMLElement.m,
	* Source/NSXMLNode.m: Add partial support for namespaces.
	Try to bracket more libxml2 functions with version checks.

2012-03-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m:
	* Source/NSXMLDTD.m:
	* Source/NSXMLNode.m:
	* Source/NSXMLDTDNode.m:
	* Source/NSXMLElement.m:
	Bracket everything in test of HAVE_LIBXML2
	* configure.ac:
	* configure:
	Alter tests for major dependencies (ICU, XML, TLS) so that they all
	abort configuration unless specifically disabled ... we want a
	consistent build with all major features.

2012-03-20  Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSDictionary.h
	* Source/NSDictionary.m:
	Implement blocks related enumeration methods.
	* Tests/base/NSDictionary/blocks.m:
	Test cases for blocks support.

2012-03-20  Niels Grewe <niels.grewe@halbordnung.de>
	* Headers/Foundation/NSObjCRuntime.h: Define NS_REQUIRES_NIL_TERMINATION
	macro.

2012-03-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSException.h:
	Try to make error message more helpful when building with incompatible
	exception handling settings.

2012-03-18  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLDTDNode.m: Correct node type, at least for entity nodes.
	* Source/NSXMLDTD.m: Use predefined entities from libxml2.
	* Source/NSXMLNode.m: Rewrite the ownership transfer to preserve
	names in dictionaries.

2012-03-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLPrivate.h: Remvoe unused ivars.
	* Source/NSXMLDocument.m: Get DTD from node and and validation in
	init methods.
	* Source/NSXMLDTD.m: Implement.
	* Source/NSXMLNode.m: No children for attribute nodes.
	* Tests/base/NSXMLNode/basic.m: Test empty attribute children

2012-03-16  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-XMLStringWithOptions:): Protect the
	different format constants with version checks.

2012-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLDocument.m (-XMLDataWithOptions:): Correct convesion
	to NSData. Add some comments.

2012-03-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLPrivate.h: Add comments on owner policy.
	* Source/NSXMLNode.m (-XMLStringWithOptions:): Reimplement to
	allow closer control over output.
	* Source/NSXMLDocument.m (-XMLStringWithOptions:): Remove this method.

2012-03-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLPrivate.h:
	* Source/NSXMLNode.m:
	* Source/NSXMLElement.m:
	Fixups to get the code to build on CentOS/RedHat linux.

2012-03-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-detach): Don't handle the namespace case.
	* Source/NSXMLElement.m (-removeNamespaceForPrefix:): Implement.
	* Tests/base/NSXMLNode/basic.m: Move tests from here ...
	* Tests/base/NSXMLElement/basic.m: ... to here.

2012-03-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLElement.m: Correct used namespace field.
	* Source/NSXMLNode.m: Implement special handling for namespace nodes.
	* Tests/base/NSXMLNode/basic.m: Correct method name for namespace node.

2012-03-11  Richard Frith-Macdonald & Fred Kiefer

	* Source/NSXMLNamespace.m:
	* Source/GNUmakefile:
	* Source/NSXMLPrivate.h:
	* Source/NSXMLNode.m:
	Revert most of my last change in favour of Fred's changes.

2012-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLNamespace.m: New class for namespaces
	* Source/GNUmakefile: Build with new class
	* Source/NSXMLDocument.m:
	* Source/NSXMLPrivate.h:
	* Source/NSXMLDTD.m:
	* Source/NSXMLNode.m:
	* Source/NSXMLDTDNode.m:
	* Source/NSXMLElement.m:
	Use a new class for namespaces ... just a placeholder/skeleton so far.
	Change other classes to know the correct type of their 'node' pointer.

2012-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLNode.m: Avoid crash when trying to get the parent of a
	namespace ... namespaces don't have parents and in fact have a
	completely different in-memory layout to other 'node' types.

2012-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLHandle.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSURLProtocol.m:
	* Headers/Foundation/NSURLProtocol.h:
	Tweak handling of debug settings to consistently write debug output
	using NSLog.

2012-03-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-copyWithZone:): Don't set object value of
	copy if it is nil.
	* Source/NSXMLNode.m (+_objectForNode:): Use correct sub class for
	decl nodes.
	* Tests/base/NSXMLNode/basic.m: More tests.

2012-03-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-detach, -_insertChild:atIndex:): Maintain
	doc pointer.
	* Source/NSXMLDTD.m: Implement a few methods.

2012-03-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (+_objectForNode:): Add a few more libxml2
	node types.

2012-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m: Attempt to fix logic for event handling of data
	streams.

2012-03-01  Jens Alfke <jens@mooseyard.com>

	* Headers/GNUstepBase/NSURL+GNUstepBase.h:
	* Source/Additions/NSURL+GNUstepBase.m:
	* Source/NSURL.m:
	New -pathWithEscapes method to enable differentiation between '/'
	characters in the original path and '%2F' escapes in it.

2012-03-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (+initialize): Add workaround for Windows
	xmlFree problem.

2012-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m: check for parse complete explicitly and
	remove case where complete is set to NO if using chunked coding ...
	it seems to be jsut wrong.

2012-03-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-copyWithZone:): Use objectValue ivar
	directly as the subclass NSXMLElement returns a different value.

2012-03-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSUserDefaults.m:
	* Source/NSConnection.m:
	* Source/NSCharacterSet.m:
	* Tools/make_strings/StringsFile.m:
	* Tools/pl.m: Fix instances where NSNotFound is stored in or
	compared to an unsigned or int variable.

2012-03-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSString.m: Factor out code for opening an ICU collator
	into static function GSICUCollatorOpen. Support
	NSDiacriticInsensitiveSearch.

2012-03-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/Foundation/NSString.h (-compare:options:range:locale:):
	Rename locale parameter from "dict" to "locale".
	* Source/NSString.m (-compare:options:range:locale:): If locale
	paramater is not nil and not an NSLocale instance, substitute
	+[NSLocale currentLocale].
	* Source/NSString.m: Clarify some locale related documentation.

2012-03-05  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSXMLElement/attributes.m: Test for changed
	exception.
	* Tests/base/NSXMLNode/basic.m: More tests.
	* Source/NSXMLNode.m: Rewrite object value handling.
	* Source/NSXMLElement.m (-objectValue): Return @"" when the value
	is nil.

2012-03-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSString.m (-rangeOfString:options:range:locale:):
	Correct result range with ICU codepath

2012-03-05  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLElement.m (-addAttribute:): Raise correct exception.
	* Tests/base/NSXMLNode/children.m: Add test cases for attributes.

2012-03-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/base/NSString/locale.m: Expand test of compare:
	and rangeOfString:. Mark as hopeful for the moment. All pass
	on Mac OS 10.7.

2012-03-04  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLPrivate.h: Move private method declarations for
	NSXMLNode to here.
	* Source/NSXMLDocument.m
	* Source/NSXMLDTD.m
	* Source/NSXMLDTDNode.m
	* Source/NSXMLElement.m
	* Source/NSXMLNode.m: Clean up and add comments about missing code.

2012-03-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m: Remove all the extra reference handling code
	and the special retain and release methods.
	* Tests/base/NSXMLNode/basic.m,
	* Tests/base/NSXMLNode/children.m: A few more test
	cases. Validated on MacOSX 10.6.

2012-03-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Tests/base/NSString/locale.m: Add a simple test for locale sensitive
	compare: and rangeOfString: methods.

2012-03-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSString.m: Fix for ICU anchored backwards search

2012-03-02  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSLocale.m (GSDefaultLanguageLocale): Add missing check
	for LC_MESSAGES definition.

2012-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: fix for bug #35692

2012-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Compatribility fix ... copy strings implicitly
	when taking a substring of a string whose buffer is not owned.

2012-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLConnection.m: Compatibility fix for bug #35686
	In this case Cocoa breaks its own convention about delegates
	not being retained, so we need to do the same.

2012-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/config.h.in: add missing ICU headers
	* Source/NSString.m: fix minor coding standard violations.

2012-03-01  Jens Alfke <jens@mooseyard.com>

	* Source/NSString.m:
	* Source/NSURL.m:
	Fix decoding of percent escapes with uppercase hex values
	(bug #35685)

2012-03-01  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSString.m: Implement a codepath using ICU for
	-compare:options:range:locale: and
	-rangeOfString:options:range:locale: when a non-nil locale
	is provided.
	* Headers/Foundation/NSString.h (-compare:options:range:locale:):
	Change type of locale parameter to id; it can be NSDictionary or
	NSLocale.
	* configure.ac: add some ICU headers used in NSString change
	* configure: regenerate

2012-03-01  Graham Lee

	* Source/GSNetworks.h: import GSPrivate.h

2012-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURLResponse.h:
	* Source/NSURLResponse.m:
	Implement new initialiser from 10.7

2012-03-01  Jens Alfke <jens@mooseyard.com>

	* Source/NSJSONSerialization.m:
	Use %g for numeric output format.

2012-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSRunLoopWatcher.h:
	* Source/NSXMLPrivate.h:
	* Source/GSRunLoopCtxt.h:
	* Source/common.h:
	* Source/Additions/NSError+GNUstepBase.m:
	* Source/GSURLPrivate.h:
	Include config.h via common.h ... and have that turn off _GNU_SOURCE
	so GNU extensions aren't used and we stick to standard strerror_r

2012-03-01  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m: More cleanup.

2012-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m:
	* Source/NSXMLNode.m:
	* Source/NSXMLElement.m:
	Cleanup to conform to coding standards/conventions.
	Fix lots of functions to be local in scope.
	Add comments about needing to implement correct object ownership
	model.

2012-02-27 Doug Simons <doug.simons@testplant.com>

	* Source/NSXMLNode.m: Fix a crashing bug after an invalid xpath
	expression is used.

2012-02-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSError+GNUstepBase.m: try to ensure we always get
	the POSIX version of strerror_h.

2012-02-27  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSLocale.m:
	 - Deprecate GSSetLocale and GSSetLocaleC; they now do nothing
	   but print a warning.
	 - Introduce GSDefaultLanguageLocale(), which is a
	   substitute for GSSetLocale(LC_MESSAGES, nil), which just returns the
	   current setting of LC_MESSAGES.
	* Source/NSObject.m (+initialize): Remove GSSetLocaleC call,
	which was changing the libc locale.
	* Source/NSUserDefaults.m: Use GSDefaultLanguageLocale() instead of
	GSSetLocale(LC_MESSAGES, nil)

2012-02-27  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSArchiver.m (-resetArchiver): Write [self systemVersion] as
	the archive version instead of 0, because this is what will be stored in
	the archive if -encodeRootObject: is not called.

2012-02-27  Eric Wasylishen  <ewasylishen@gmail.com>

	* SSL/configure.ac: Change test for ssl2_clear in -lssl
	to test for SSL_clear, which is a public function and
	is acutally used by the SSL bundle. The test for ssl2_clear
	was failing with OpenSSL 1.0.0e.
	* SSL/configure: Regenerate

2012-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArchiver.m:
	* Source/NSUnarchiver.m:
	* Source/NSPortCoder.m:
	* Version: Update to 12402
	Bump subminor version as suggested by eric Wasylishen, in case there
	are any archives which would be caugt by the new version number.

2012-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArchiver.m:
	* Source/NSUnarchiver.m:
	Revise archive format to allow for variable sized array counts ...
	original versionallowed for variable encodings of integral types in
	archived data, but not for the count of the nuymber of items in the
	array :-(
	* Source/NSPortCoder.m: Similar fixes for encoding/decoding arrays.

2012-02-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-copyWithZone:): Copy name spaces as well.
	* Source/NSXMLDocument.m (-copyWithZone:): Rewrite copy method.
	* Source/NSXMLElement.m: Remove copy method.

2012-02-27 Doug Simons <doug.simons@testplant.com>
	Merged to trunk by: greg.casamento@gmail.com

	* Source/NSXMLDocument.m: Fix bugs in setCharacterEncoding: and
	copyWithZone: that cause a memory crash when tree is freed.
	Doug Simons <doug.simons@testplant.com>

2012-02-27  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (+_objectForNode:): Get the actual class from
	the document.
	* Source/NSXMLNode.m (-description): Add a simple description method.
	* Source/NSXMLDocument.m: Further cleanup. Exchange the contents of
	-initWithData:... and initWithXMLString:...

2012-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArchiver.m:
	* Source/NSUnarchiver.m:
	Alter to support encoding and decoding arrays with NSUInteger counts
	(ie more than 2^32 objects if on a 64bit system).

2012-02-26  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSData.m: Various 64-bit compatibility fixes, mostly changing
	unsgined to NSUInteger.

2012-02-26  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (execute_xpath): Use correct node for
	relative paths.
	* Source/NSXMLNode.m (isEqualTree): Correct equality test to
	ignore siblings.
	* Source/NSXMLNode.m (+elementWithName:stringValue:): Correct
	recursive call.
	Patch by Ivan Vučica <ivucica@gmail.com>
	* Source/NSXMLElement.m: Add FIXME comments for name space methods.

2012-02-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLElement.m: Implement namespace methods.

2012-02-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m (-_nodeFollowingInNaturalDirection:): Correct
	this method.
	* Source/NSXMLDocument.m,
	* Source/NSXMLElement.m: Clean up children methods.

2012-02-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m: Further clean up.
	* Source/NSXMLDTDNode.m (-initWithXMLString:): Move comment about
	missing code to here.
	* Source/NSXMLElement.m (-initWithName:stringValue:): Move subnode
	creation to here.

2012-02-21  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSXMLNode.m: Clean up helper functions.

2012-02-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-initWithCoder:, -encodeWithCoder:):
	Add key coding and decoding for NSAffineTransform.

2012-02-19 22:37-EST Gregory John Casamento <greg.casamento@gmail.com>
	Doug Simons <doug.simons@testplant.com>

	* Source/NSXMLDocument.m
	* Source/NSXMLDTD.m
	* Source/NSXMLDTDNode.m
	* Source/NSXMLElement.m
	* Source/NSXMLNode.m
	* Source/NSXMLPrivate.h: Reimplementation of all DOM classes based on
	libxml2.  Implementation of all methods using libxml2 functions.
	* Tests/base/NSXMLDocument/basic.m
	* Tests/base/NSXMLElement/attributes.m
	* Tests/base/NSXMLElement/children.m
	* Tests/base/NSXMLNode/basic.m
	* Tests/base/NSXMLNode/children.m
	* Tests/base/NSXMLNode/kinds.m: Changes to test for new functionality.

2012-02-08  Lubomir Rintel <lubo.rintel@gooddata.com>

	* Source/NSHTTPCookie.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSURLConnection.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLRequest.m:
	Enable the use of cookies by default ... addse setting of cookies
	in requests and improves caching/storing.  Original patches rewritten
	by maintainer to conform to coding standards and for clarity.

2012-02-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSConcreteValueTemplate.m: Don't ask a non-retained object
	to describe itsself (in case it has gon away) bug#35477

2012-02-07  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Check for threading library on QNX.
	* configure: Regenerate.

2012-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: 1.24.1 ... still binary compatibile with 1.24.0
	* Source/NSTextCheckingResult.m:
	* Headers/Foundation/NSTextCheckingResult.h: coding style tidyups

2012-02-03  Adam Fedor  <fedor@gnu.org>

	* Bump version

2012-02-03  Adam Fedor  <fedor@gnu.org>

	* Version 1.24.0
	* Update announcements

2012-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Fixup for bug #35437

2012-01-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSJSONSerialization.m: bugfix for empty strings.
	* Tests/base/NSJSONSerialization/json.m: add a few emtpy element
	tests and fixup to be more readable

2012-01-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: revert last change as Fred pointed out I got it wrong and
	we shoudl be updating version immediately *after* release.

2012-01-31  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSURLRequest/basic.m: Remove two astray @ characters.

2012-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: Bump version to 1.24.0 in preparation for release.
	* NSTimeZones/NSTimeZones.tar: Update timezone information

2012-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSJSONSerialization.m:
	Fix buffer overrun reported by Lubomir Rintel <lubo.rintel@gooddata.com>

2012-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
	* Source/NSAffineTransform.m:
	* Source/NSNotificationCenter.m:
	* Source/NSConnection.m:
	* Source/GSString.m:
	Avoid a few static analyser warnings.

2012-01-29  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* Headers/GNUstepBase/config.h.in:
	* Source/GSFFIInvocation.m:
	* Source/GSPrivate.h:
	* Source/NSInvocation.m:
	If modern ffi is available, use ffi_prep_closure_loc and ffi closure
	memory management so we get the benefit of ffi library code to work
	around restrictions of selinux etc.

2012-01-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Try to deal with the case where a language
	has been set to the ISO standard name rather than an OpenStep name
	by converting to an Openstep name as an alternative lookup key.
	* Source/NSXMLNode.m: Add warning that the DOM classes are not really
	functional in this release.

2012-01-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Fix copying for large files (issue #35381)

2012-01-25 Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Call unum_format* only once.

2012-01-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: fix possible nul pointer dereference.
	* Source/NSHost.m: cache failed lookup by name so that repeated
	lookups for a band host name do not cause repeated DNS queries.

2012-01-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLRequest.m: be tolerant about missing URL on init.

2012-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m: Fix selector types comparison to use the
	correct function for checking equivalent types.

2012-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* config/pathtls.m4:
	* config/pathxml.m4:
	Remove incorrect sed call to tidy flags (as suggested by Felix Geyer
	in bug #34835).

2012-01-16  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSBundle.m (addBundlePath): Handle nested subdirectories
	(e.g.
	[NSBundle pathForLibraryResource:
	@"Generic-PostScript_Printer-Postscript" ofType: @"ppd"
	inDirectory: @"PostScript/PPD"] was previously failing.)

2012-01-12 10:10  theraven

	* libs/base/trunk/Headers/Foundation/NSException.h: Tweak the
	exception mismatch handling so that if base is using native exceptions
	and the user doesn't specify an exception mode then we just don't define
	the NS_ macros, so code that uses @try etc. compiles without requiring
	every cc line to specify a long -D flag just to be allowed to #import
	Foundation.h.

2012-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Remove cached paths when the owning bundle is
	deallocated.  Use cache to determine which resource directories to
	search.

2012-01-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Crude/simple caching of directory contents to
	test impact on theme loading ... needs reverting or improving.

2012-01-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcretePointerFunctions.m:
	* Source/NSSocketPort.m:
	* Source/unix/NSStream.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSZone.m:
	* Source/NSMessagePort.m:
	* Source/win32/GSFileHandle.m:
	* Source/NSInvocation.m:
	* Source/NSURLProtocol.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSXML.m:
	* Source/NSData.m:
	* Source/GSAvahiNetService.m:
	* Source/NSTextCheckingResult.m:
	Use PRIdPTR and PRIuPTR rather than ld and lu for printf formatting
	of NSInteger and NSUInteger values.

2012-01-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/ObjectiveC2/objc/capabilities.h:
	* Headers/ObjectiveC2/objc/Availability.h:
	* Headers/ObjectiveC2/objc/blocks_runtime.h:
	* Headers/ObjectiveC2/objc/runtime.h:
	Moved to subdirectory.
	* Source/Makefile.postamble:
	* Source/ObjectiveC2/runtime.c:
	* Source/ObjectiveC2/caps.c:
	* Source/ObjectiveC2/NSBlocks.m:
	* Source/ObjectiveC2/blocks_runtime.m:
	* Headers/GNUstepBase/GSObjCRuntime.h:
	* Tests/GNUmakefile:
	* base.make.in:
	Move ObjectiveC2 headers to objc subdirectory so that we can refer
	to them using the same objc/headername path as OSX, and use a -I
	directive to point to the ObjectiveC2 directory to avoid installing
	on top of the real objc2 library or vie versa. Should make it easier
	to figure out how to cleanly swith between raeal/emulated objc2
	runtimes.  This should also mean that old emulated objc2 headers are
	*not* found at configure time, so configure should be able to tell if
	a real objc2 runtime has been installed on a system which previously
	used the old objc runtime.

2012-01-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m:
	* Source/NSXMLPrivate.h:
	* Source/NSXMLNode.m:
	* Source/NSXMLElement.m:
	Replace missing assertion (needed for OSX compatibility) also fix
	several other issues in node hierarchy handling ... all rather
	academic since greg's going to rewrite, but these fixes do mean
	the current code passes the testsuite. It's a bad idea to leave
	the code and testsuite in an inconsistent state, and the testsuite
	represents accumulated information about OSX, so we want our code
	to pass all tests rather than removing tests.

2012-01-06 17:57-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLElement.m: Removing assertion that
	parent must not be nil per Cocoa documentation for
	-(id)parent method in NSXMLNode.

2012-01-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m:
	* Source/NSXMLElement.m:
	* Source/NSXMLNode.m:
	* Source/NSXMLPrivate.h:
	Rewrote node hierarchy handling to match OSX documentation and
	behaviors. Also implemented -hash and -isEqual: to match OSX for
	NSXMLNode.

2012-01-05 22:20-EST Doug Simons <doug.simons@testplant.com>

	* Source/NSXMLDocument.m: Modify XMLStringWithOptions: to only include
	the header when version, encoding, or standalone has been set.

2012-01-05 22:20-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLElement.m: in setChildren: set the childCount.

2012-01-05 22:07-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLElement.m: Correct warning in copyWithZone: added
	return.  Correct issue with childCount being out of sync.

2012-01-05 21:33-EST Gregory John Casamento <greg.casamento@gmail.com>

	* ChangeLog
	* Source/NSXMLDocument.m
	* Source/NSXMLElement.m
	* Source/NSXMLNode.m: Implement copyWithZone:, correct issues
	with previous revert.

2012-01-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m:
	* Source/NSXMLElement.m:
	Replace a few lines accidentally lost.

2012-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSXMLDocument.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSXMLDTD.h:
	* Headers/Foundation/NSXMLDTDNode.h:
	* Headers/Foundation/NSXMLElement.h:
	* Source/NSXMLDocument.m:
	* Source/NSXMLPrivate.h:
	* Source/NSXMLDTD.m:
	* Source/GSInternal.h:
	* Source/NSXMLNode.m:
	* Source/NSXMLDTDNode.m:
	* Source/NSXMLElement.m:
	The last revert still left lot's of ABI breakage, but reverting much
	further would lose a lot of work ... so here's an attempt to fix the
	ABI breakage by re-hiding instance variables again.

2012-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSMDNSNetServices.m:
	* Source/NSJSONSerialization.m:
	Cosmetic tweaks (whitespace)

2012-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLDocument.m:
	* Source/NSXMLNode.m:
	* Source/NSXMLElement.m:
	* Headers/Foundation/NSXMLDocument.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSXMLDTD.h:
	* Headers/Foundation/NSXMLElement.h:
	Revert latest changes to restore scheme for preventing ABI breakage
	and supporting both fragile and non-fragile ABIs..

2012-01-04  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSXMLDocument.h,
	* Headers/Foundation/NSXMLDTD.h: Comment out duplicate declaration of
	ivars to get base to compile again.

2012-01-03 16:33-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSXMLDocument.h
	* Headers/Foundation/NSXMLElement.h
	* Headers/Foundation/NSXMLNode.h: Move declarations.
	* Source/NSXMLDocument.m: Correct parsing issues.
	* Source/NSXMLElement.m: Remove local declaration of _children
	* Source/NSXMLNode.m: Remove internal.  Move all declarations here
	directly.

2012-01-03 14:22-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLDocument.m: Implement XMLStringWithOptions:

2012-01-03 13:03-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSXMLElement.h
	* Headers/Foundation/NSXMLNode.h
	* Source/NSXMLElement.m
	* Source/NSXMLNode.m: Move _URI to NSXMLNode.
	change dealloc accordingly.

2012-01-03 12:42-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLNode.m: Implement copyWithZone:

2012-01-03 12:17-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSXMLNode.h: Add _stringValue
	* Source/NSXMLNode.m: Change stringValue and setStringValue:
	resolvingEntities: to assign to _stringValue instead of _objectValue.

2012-01-03 12:06-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLDocument.m: Change stack implementation to
	use lastObject/removeLastObject to implement the stack instead
	of inserting and deleting at index 0.
	* Source/NSXMLElement.m: Implemented XMLStringWithOptions:
	* Source/NSXMLNode.m: Implemented XMLStringWithOptions:,
	skeletal implementation of setStringValue:resolvingEntities:

2012-01-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSException.m (-raise): Only set the stack when the
	exception gets first raised. This fixes bug #35192
	Patch by Larry Campbell <lcampbel@akamai.com>

2012-01-02 22:26-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSXMLElement.h: Change _attributes to be
	a NSMutableDictionary instead of an NSMutableArray.
	* Source/NSXMLElement.m: Change implementation of some methods
	to use an NSMutableDictionary instead of arrays.  Initialize
	ivars in initializer.
	* Source/NSXMLPrivate.h: Remove redundant method.

2012-01-02  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSSocketStream.m (-initWithInput:output:): Attempt to
	replace deprecated GNUTLS functions with newer ones for GNUTLS >= 2.12.

2012-01-02  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSArray.m (-objectsAtIndexes:): Fix comparision of
	unsigned variable with NSNotFound.

2012-01-02 02:26-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSXMLNode.m: Minor correction. Move setName out of
	private category.
	* Tests/base/NSXMLNode/children.m: Update test.

2012-01-01  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSXMLDTDNode.h,
	* Headers/Foundation/NSXMLDTD.h: Remove duplicate declaration of
	ivar _name to get base to compile again.

2011-12-30  Doug Simons <doug.simons@testplant.com>

	* Source/NSXMLElement.m: Set Elements to be NSXMLElementKind.

2011-12-30 14:22-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSXMLDocument.h
	* Headers/Foundation/NSXMLElement.h
	* Headers/Foundation/NSXMLNode.h
	* Source/NSXMLDocument.m
	* Source/NSXMLElement.m
	* Source/NSXMLNode.m
	* Source/NSXMLPrivate.h
	* Tests/base/NSXMLNode/children.m
	* Tests/base/NSXMLNode/kinds.m: First cut at NSXMLDocument
	implementation.

2011-12-29  Doug Simons <doug.simons@testplant.com>

	* Source/NSCalendarDate.m: Fix -addTimeInterval: to copy calendarFormat
	of original date.

2011-12-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: Fix retain rount error spotted by
	<rajendra@teamf1.com> (bug #35164)

2011-12-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/Foundation/NSTextCheckingResult.h:
	* Source/NSTextCheckingResult.m	(-resultByAdjustingRangesWithOffset:):
	Implement method.

2011-12-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Headers/Foundation/NSTextCheckingResult.h:
	* Source/NSTextCheckingResult.m: Add copyright notice.

	* Source/NSTextCheckingResult.m(-result, -range): Raise exception
	in abstract base class implementation. This is what OS X does.

	* Source/NSTextCheckingResult.m(-rangeAtIndex): Implement in
	abstract base class.  Raise exception in both method
	implementations when the index is too big.

	* Source/NSTextCheckingResult.m(-numberOfRanges): Change incorrect
	name rangeCount into numberOfRanges.

	* Source/NSTextCheckingResult.m(-regularExpression): Implement
	method in the concrete subclass where it was omitted.

2011-12-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSRegularExpression.m (-rangeOfFirstMatchInString:...):
	Return range (NSNotFound, 0) when no match is found.

2011-12-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSRegularExpression.m (-initWithPattern:options:error:,
	-pattern, setupRegex, -enumerateMatchesInString:options:range:,
	FAKE_BLOCK_HACK, -replaceMatchesInString:options:range:,
	-stringByReplacingMatchesInString:options:range:withTemplate:,
	replacementStringForResult:inString:offset:template:): Introduce
	support for libicu versions prior to 4.4, which don't provide the
	UText interface to regular expressions.

2011-12-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSocketPort.m	(+portNumber:onHost:forceAddress:listener):
	Fix an uninitialized variable bug, which could lead to returning
	ports with an incorrect port number.

2011-12-19 Riccardo Mottola <rm@gnu.org>

	* Source/GSString.m:
	Fix blocking compiler warning (ggc 4.5.3)

2011-12-17  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Try to make detection of compilers which don't support
	locale/characterset handling for string literals somewhat friendly.
	* configure: regenerate

2011-12-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPortCoder.m (-versionForClassName:): Use NSInteger for
	version to avoid compiler warning on 64-bit system.

2011-12-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m:
	Whenever we synchronize in a state where we have changes to write,
	but are in read-only mode (no database existed on startup, or we
	couldn't create the lock file on startup), check to see if the
	database is now writable (we can create the lock file).
	Should fix problem where new defaults files were not getting created.

2011-12-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSDebug.m:
	* Source/NSDistributedLock.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSMessagePort.m:
	* Source/NSFileManager.m:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/GSNetwork.h:
	* Source/GSFormat.m:
	* Source/GSFileHandle.m:
	* Source/NSTask.m:
	* SSL/GSSSLHandle.m:
	* SSL/configure.ac:
	* SSL/configure:
	* SSL/config.h.in:
	* configure.ac:
	* configure:
	* Headers/GNUstepBase/config.h.in:
	* Tools/gdnc.m:
	Support fcntl.h and signal.h not being in the 'sys' subdirectory
	(for android and any other systems with that header layout).

2011-12-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSObjCRuntime.h:
	Move a few declarations between headers to match OSX, and update
	NSNotFound to be NSIntegerMax for compatibility on 64bit platforms.

2011-12-13  Richard Frith-Macdonald <rfm@gnu.org>

	* SSL/GSSSLHandle.m: Allow cipher list to be set using GSCipherList
	default.

2011-12-08  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac: Fix pkg-config configuration for libffi to make it
	really work on systems where additional include options are
	needed.
	* configure: Regenerated.

2011-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSParser.m: Fix suggested by Daniel Santos (ifStack was
	created with incorrect initial content).

2011-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: use pkg-config for libffi if/when available.
	* configure: regenerate

2011-12-05  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSFileManager.m:
	* Headers/Foundation/NSFileManager.h: Add removeItemAtPath:error:
	method, as a simple wrapper around removeFileAtPath:handler: with
	no handler.

2011-12-02  Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.constant-string-encoding.c: test for string literal
	encoding behavior ... irrespective of source encoding we need to put
	utf-8 in the executable.  Can't check all cases, so just check the
	most common one ... that building latin1 source in a latin1 locale
	produces a utf8 string literal in the executable.
	* configure.ac: add check for encoding.
	* config.mak.in: specify charset for string literal in source
	* base.make.in: specify charset for string literal in executable
	* configure: regenerate
	Check compiler behavior ... if well behaved, that's OK, no action to
	take.  If well behaved when given specific options to control input
	and output encodings, then note the options to be used when building.
	If neither, then abort with an error message giving the option of
	disabling unicode string literal checks.

2011-11-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: rewrite to store defaults in multiple files,
	one for each persistent domain.
	Probably needs lots of testing and performance tuning.

2011-11-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSJSONSerialization.m: Fix errors in BOM handling and tidy.

2011-11-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix to compile again (use ifdef to consistently
	have/not-have tiny strings), and tidy use of whitespace for readability
	and coding standards.
	I like the experimental tiny strings idea... will definitely save
	space, but will need a lot of optimisation (like that of literal
	strings) to stop it being slow.
	Until it's about as fast as literal strings, we should probably only
	enable it on platforms where memory footprint is an issue.
	Not sure how to do that though.

2011-11-16 20:48  theraven

	* Source/GSString.m: Store tiny strings (up to 8
	ASCII characters) inside the pointer. Strings of this length are
	fairly common, and this makes them very cheap to store/copy/compare
	(pointer comparisons test for equality). 8 characters seems to be
	enough for quite a lot of common uses, such as path components and
	tokens.
	There are possibly still some things constructing tiny strings and not
	using these.

2011-11-16 17:29  theraven

	* Source/NSNumber.m: Implement the double boxing
	techniques used by Smalltalk/X and Cincom Smalltalk. Now we can
	conceal most doubles inside a pointer. This is most useful for
	LanguageKit, but should save some memory / malloc overhead / heap
	fragmentation in any code that uses a lot of NSNumbers (e.g.
	anything that deals with big plists). OS X 10.7 employs a similar
	trick.

2011-11-15  Adam Fedor  <fedor@gnu.org>

	* Source/win32/GSFileHandle.m: Fix include location

2011-11-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Deal with old FIXME saying that whether
	we create the GNUstep/Library directory should be configurable.
	Also, break long lines to confiorm to coding standards and for
	consistency.

2011-11-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: ([-setObject:forKey:]) replace missing
	return statement after removing object.

2011-11-07  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSXMLParser.h: Turn the
	NSXMLParserDelegateEventAdditions informal protocol into the
	protocol NSXMLParserDelegate.

2011-11-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSValueTransformer.m
	([NSUnarchiveFromDataTransformer-reverseTransformedValue])
	([NSUnarchiveFromDataTransformer-transformedValue]): Use archiver
	instead of keyed archiver.

2011-11-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: ([+decodeBase64:]) tolerate missing
	padding and also use of '-' and '_' rather than '+' and '/' as
	permitted in the "URL and Filename safe" variation given in RFC 4648

2011-11-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDate.m:  ([-timeIntervalSinceDate:]) return NaN if other
	date is nil (OSX compatibility).

2011-11-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m: Fix alignment error when encoding/decoding ...
	buffer must be aligned so that any datatype can go in it.
	* Source/cifframe.m: Fix buffer size for small scalar values on
	64bit sparc
	* Source/GSFileHandle.m: Modify read/write to cope with interrupts.

2011-11-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Partial restructuring suggested by Fred, plus
	some more minor optimisation of equality checks for literal strings.

2011-10-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix error (spotted by Fred) in check of UTF-8
	string length against fixed character size string length.

2011-10-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Implement more efficient equality tests for
	utf-8 literal strings and strings in internal representation.
	Implement rangeOfComposedCharacterSequenceAtIndex: for utf8 literal
	strings.

2011-10-29  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSeq.h: Replace unsigned with NSUInteger.

2011-10-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix bug when widening mutable string in
        replaceOccurrencesOfString:...range:
	* Source/GSString.m: more efficient check to see if a literal string
	can be converted to ascii or latin1.  Remove unnecessary constraint
	on when we need to widen strings.

2011-10-28  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSMutableString/basic.m: Add test for
	replaceOccurrencesOfString:...range:

2011-10-27  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Do not redefine GNUSTEP_CONFIG_FILE in case it confuses
	gnustep-config.  Add check that gnustep-config returns something when
	asked for the objc libraries.
	* configure: Regenerate
	* base.make.in: Add flag to tell compiler to use UTF-8 for literal
	string constants.

2011-10-25  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: fix erroneous define of HAVE_GNUTLS to zero, and add
	check for building with a  different compiler from that used by make.

2011-10-24  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-initWithCoder:, encodeWithCoder:):
	Don't do anything for the keyed coding case.
	* Source/NSDictionary.m (-initWithCoder:): Add another keyed
	coding case.

2011-10-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSProcessInfo.m: Add includes needed for the HAVE_PROCFS
	case.
	* Source/common.h: Correct last commit, the #endif was placed
	incorrectly.

2011-10-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/common.h: Attempt to workaround clang __block problem

2011-10-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m:
	Fix for bug #34603

2011-10-19  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: fixes for gnutls detection and to use the objc
	libraries provided by gnustep-config.

2011-10-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSFileHandle.h: remove
	* Source/GSFileHandle.h: add
	* Source/GNUmakefile: Don't install private header
	* Source/NSFileHandle.m:
	* Source/GSFileHandle.m:
	* SSL/GSSSLHandle.m:
	Update to make GSFileHandle.h: private as it should be.

2011-10-19  Sebastian Reitenbach

	* configure.ac: fix typo on gnutls detection.

2011-10-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m:
	Fix failure to load global defaults when system layout/config is
	locked down (problem reported by Julian Mayer).

2011-10-18  Richard Frith-Macdonald <rfm@gnu.org>

	* standalone.conf: example configuration file for a standalone
	package installation.
	* Documentation/Base.gsdoc:
	Documentation improvements for packaging

2011-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Make sourcing of default config file more reliable.
	* configure: regenerate.

2011-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	* Source/NSPropertyList.m:
	* Source/NSFileHandle.m:
	* Source/NSString.m:
	* Source/DocMakefile:
	* Documentation/Base.gsdoc:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSBundle.h:
	Documentation cleanups.

2011-10-17  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Foundation/NSXMLNode.h:
	* Source/NSXMLNode.m:
	Fixed NSXMLNode compilation when using the "pure" non-fragile ABI
	(--disable-mixedabi was passed to Base configure).

2011-10-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSString.m (-initWithCoder:): In keyed coding the key
	"NS.bytes" may contain either an NSData or an NSString object. Not
	sure about the encoding, I am using UTF8.

2011-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* standalone.conf: First draft at a layout for standalone system
	deployment.

2011-10-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/common.h: Added Quentin's fix to get Clang to compile this
	without warnings.

2011-10-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/NSBlocks.m:
	* Source/Additions/GSObjCRuntime.m:
	Fixes to build with latest gcc.

2011-10-15  Gregory Casamento <greg.casamento@gmail.com>

	* Documentation/GNUmakefile:
	* Documentation/README.initialize: Documentation referred to by
	NSThread warning.

2011-10-15  Richard Frith-Macdonald <rfm@gnu.org>

	* config.mak.in:
	Shift the responsibility for setting up macros controlling thread
	safety to gnustep-make, and use the compiler -pthread option there.

2011-10-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/Makefile.preamble:
	* Source/win32/Makefile.preamble:
	* Source/ObjectiveC2/Makefile.preamble:
	* Source/Additions/Makefile.preamble:
	* Source/Makefile.preamble:
	* config.mak.in:
	It seems various BSD operating systems have bugs in their _XOPEN_SOURCE
	implementation, so we can't generally use it.  Try _POSIX_C_SOURCE
	instead.

2011-10-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/Makefile.preamble:
	* Source/win32/Makefile.preamble:
	* Source/ObjectiveC2/Makefile.preamble:
	* Source/Additions/Makefile.preamble:
	* Source/Makefile.preamble:
	Define _REENTRANT as well as _XOPEN_SOURCE for maximum portability.

2011-10-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/NSMessagePortNameServer.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/unix/NSStream.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSPage.m:
	* Source/NSMessagePort.m:
	* Source/win32/GSFileHandle.m:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/common.h:
	* Source/NSString.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSHost.m:
	* Source/GSNetwork.h:
	* Source/NSPipe.m:
	* Source/NSLog.m:
	* Source/GSFormat.m:
	* Source/GSFileHandle.m:
	* Source/NSTask.m:
	* SSL/GSSSLHandle.m:
	* Tools/gdnc.m:
	Move/wrap include of unistd.h to work around clang problem.

2011-10-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
	Fix test for availability of lossy conversion via iconv.

2011-10-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Implement -hash for literal UTF-8 performance.
	* Source/NSScanner.m: Fix initialisation bug which could cause
	scanning to fail on some strings.
	* Source/inet_pton.m:
	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source/NSUserDefaults.m:
	* Source/unix/NSStream.m:
	* Source/inet_ntop.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSMessagePort.m:
	* Source/GSPrivate.h:
	* Source/win32/GSFileHandle.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSFileManager.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/NSError+GNUstepBase.m:
	* Source/NSThread.m:
	* Source/GSNetwork.h:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/Makefile.preamble:
	Fix for thread-safe errno on solaris ... define _XOPEN_SOURCE to 600

2011-10-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/NSString.m:
	* Source/GSString.m: Use UTF-8 literal constant strings now that we
	require a compiler version which supports them.
	* Tests/base/NSString/test07.m: Simple test for UTF-8 in literal.
	* Tests/base/GNUmakefile.super: Ensure all tests are compiled with
	UTF-8 set as the source code characterset.
	Shuld fix bug #34486

2011-10-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix boundary error when getting cString into a
	buffer.  Fix floatValue and doubleValue to support arbitrary length
	of leading white space.
	* Source/GSNetwork.h: Check for EAGAIN on nonblocking socket.

2011-10-08  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/Additions/GSMime.m (GSMimeParser -scanToken:): Return an empty
	string instead of nil when parsing an empty quoted string.

2011-10-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	* Source/GSNetwork.h:
	* Source/GSSocketStream.m:
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSURLProtocol.m:
	Check for EALREADY as well as EINPROGRESS as an indicator of an
	incomplete system call on a non-blocking descriptor.

2011-10-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	Be aggressive about checking for close n the 'connection' header
	and shutting down the network connection immediately.

2011-10-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m:
	* Source/NSURLConnection.m:
	Ensure that a synchronous load returns the response.
	* Tests/base/NSURLConnection/basic.m: add test for above change.

2011-10-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURL.h: Document that methods creating file URLs
	raise an exception on being given a nil argument.
	* Source/NSURL.m: Make file URL initialisers raise on nil argument.
	* Source/NSBundle.m: Fix to check for nil path when reating file
	URLs (fix for bug #34468).

2011-10-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPropertyList.m (GSBinaryPLParser -objectAtIndex:): Use
	long long for all integer types. Before we used signed types which
	resulted wrong values for negative integers.
	* Source/NSKeyedUnarchiver.m (-_decodeObject:): Handle the string
	"$null" as nil all the times.

2011-10-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHost.m: Update to use inet_pton() and inet_ntop() and to
	understand IPV6 addresses.
	* Source/GSNetwork.h: New private functions to work with the internals
	of a sockaddr irrespective of whether it's IP v4 or v6
	* Source/GSSocketStream.h: Move a declaration to GSNetwork.h
	* Source/GSSocketStream.m: Use new functions.
	* Source/NSSocketPort.m: Change to be IP v4/v6 agnostic
	* Source/NSMessagePort.m: Fix header include order.
	* Source/GSFileHandle.m: Changes to be IP v4/v6 agnostic
	* Headers/GNUstepBase/GSFileHandle.h: make setter use sockaddr type
	rather than sockaddr_in so we can use it for ipv6

2011-10-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSData.m (-initWithCoder:, -encodeWithCoder): Correct
	keyed encoding/decoding.

2011-10-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSFileManager.h
	* Source/NSFileManager.m
	* Tests/base/NSFileManager/general.m
	* Headers/Foundation/NSUserDefaults.h
	* Source/NSUserDefaults.m
	* Tests/base/NSUserDefaults/basic.m
	Add a few newer OSX methods for compatibility.

2011-10-01  Niels Grewe <niels.grewe@halbordnung.de>

        * Source/NSXMLNode.m: Properly implement -initWithKind: initializer.
        Stub out some tree traversal stuff.
	* Tests/base/NSXMLNode/basic.m: Fix test.

	Initial work on NSXMLNode.

2011-10-01  Niels Grewe <niels.grewe@halbordnung.de>

	* Tests/base/NSXMLNode/children.m: Test for child de-/re-attachment
	behaviour.

2011-09-29  julian <julian@corecode.at>

	* Source/NSBundle.m: ([objectForInfoDictionaryKey:])
	Add missing one-line implementation.

2011-09-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m: Check for _C_BOOL definition.

2011-09-07  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSUserDefaults.m:
	- Refactoring of the code to read the system language list
	  into a separate function, systemLanguages().
	- Add support for the LANGUAGE environment variable, a GNU extension.
	  It holds a colon-separated list of locales, and is intended to let
	  the user specify a list of their preferred languages in order.
	  For example, the language settings GUI in Ubuntu modifies the
	  LANGUAGE variable.

	  More info here:
	  http://www.gnu.org/software/gettext/manual/gettext.html#The-LANGUAGE-variable
	- When populating NSLanguages, "expand" locales into a list of
	  related variants, formed by stripping off region suffixes. This
	  ensures that if a user's environment is set to a regional version
	  of a language (say CanadaFrench) but an application is only
	  traslated into French, the plain French translation will still be used.

	  e.g. if the system locales are {fr_CA, en_CA}, expand the list to
	  {fr_CA, fr, en_CA, en}.
	* Headers/GNUstepBase/GSLocale.h:
	* Source/GSLocale.m:
	New functions GSLocaleVariants and GSLanguagesFromLocale

2011-09-28  Niels Grewe <niels.grewe@halbordnung.de>

	* Tests/base/NSXMLNode/*: Some initial tests for NSXMLNode. Passes on
	Mac OS X, marked as hopes until GNUstep implements this.

2011-09-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: Bump version and set required gcc to 4.0.0

2011-09-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc:
	Update release notes for ...
	Version 1.23.0

2011-09-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: When getting the local type information for
	comparison with that supplied by the remote system, do so by sending
	-methodSignatureForSelector: to the receiver of the message.

2011-09-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m: Check that we have a typed selector
	during invocation (copy types from method signature if necessary)
	so that forwarding won't fail if the runtime does a callback to
	us without providing the receiver for us to check ... workaround
	for proxying issues with very old runtimes.

2011-08-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Fix bug #34154 ... logic error locking before date.

2011-08-26  Richard Frith-Macdonald <rfm@gnu.org>

	* libs/base/trunk/config/config.objc.m: If we don't assume Object
        exists in libobjc, we must implement +initialize so that the runtime
        won't crash when it tries to initialize our class.

2011-08-25  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSObject/test01.m: Only test for -isClass on GNUstep base.
	* Tests/base/NSObject/initialize.m: Make test compile on MinGW.

2011-08-22  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSObject.m (__builtin_offsetof): Add
	workaround for build in missing in old versions of gcc.

2011-08-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/Additions/GSMime.m,
	* Source/unix/NSStream.m,
	* Source/NSData.m,
	* Source/NSDistantObject.m,
	* Source/NSInvocation.m,
	* Source/NSMessagePort.m,
	* Source/NSNumber.m,
	* Source/NSSocketPort.m,
	* Source/NSURLProtocol.m,
	* Tools/autogsdoc.m:
	Temporary revert David's change to use PRIxPTR, PRIuPTR and
	PRIdPTR. Old compilers don't handled these well. (That change
	didn't have a ChangeLog entry)

2011-08-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/Additions/GSMime.m: Use specific IMP type for method
	returning BOOL value.

2011-08-17  Niels Grewe <niels.grewe@halbordnung.de>

	* config/objc-common.h: Include stdlib.h for the prototype of calloc().

2011-08-17  Riccardo Mottola <rm@gnu.org>

	* Headers/GSIMap.h
	Additional cast to void* to keep OpenBSD compiler happy.

2011-08-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Redo fix for incorrect handling of documents with empty headers.

2011-08-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Revert attempted fix for header end parsing error.

2011-08-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Attempt fix for recording of excess data in the case where we are
	parsing mime headers only and the headers are incomplete.

2011-08-13 15:28 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Source/NSBundle.m,
	  libs/base/trunk/Source/NSDateFormatter.m,
	  libs/base/trunk/Source/NSLocale.m,
	  libs/base/trunk/Source/NSNumberFormatter.m,
	  libs/base/trunk/Source/NSRegularExpression.m: Fix the build with
	  the pure non-fragile ABI by declaring macros before using them.

2011-08-13 13:28 David Chisnall <theraven@gna.org>

	* libs/base/trunk/config/config.objc.m: Don't assume Object exists
	  in libobjc.

2011-08-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAffineTransform.m (-appendTransform:)
	(-prependTransform:): Fix bug in optimisation code by using a
	local variable.

2011-08-09 08:43 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Source/NSConcreteHashTable.m,
	  libs/base/trunk/Source/NSConcreteMapTable.m: Replace the
	  implementations of NSFastEnumeration in NSConcrete{Hash,Map}Table
	  with ones that work and don't cause people to dereference
	  pointers that are set to random integer values.

2011-08-07 18:00 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Source/NSObject.m: In -finalize, we're pretending
	  to be the Objective-C runtime, so we need to
	  actually use isa directly, rather than the safe version. A better
	  solution
	  would be to call object_dispose(), but this only works for
	  objects created with
	  class_createInstance().

2011-08-07 16:56 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Source/NSObject.m: When calling -.cxx_dealloc,
	  look up the superclass before calling. This method
	  may destroy the receiver's class, if it's a user-generated one,
	  so we can't
	  guarantee that it is valid after the call.

2011-08-05 17:34 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Source/NSNumber.m: Bracket the runtime.h include
	  in a check.

2011-08-03 12:04 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Headers/Foundation/NSRegularExpression.h,
	  libs/base/trunk/Source/NSRegularExpression.m,
	  libs/base/trunk/Source/NSString.m,
	  libs/base/trunk/Tests/base/NSString/regex.m: Clean up
	  NSRegularExpression, so that it compiles without warnings with or
	  without ICU, but we don't pretend that we support things that we
	  don't and silently return nonsense results to make debugging
	  difficult for GNUstep users.

2011-08-03  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSMutableData/general.m
	* Tests/base/NSData/general.m
	* Tests/base/NSFileManager/unrepresentable_filenames.m
	* Tests/base/NSDate/create.m
	* Tests/base/GSMime/test01.m
	* Tests/base/Functions/runtime.m
	* Tests/base/NSInvocation/general.m
	* Tests/base/KVC/mutable.m
	* Tests/base/KVC/path.m
	* Tests/base/KVC/array.m
	* Tests/base/NSMapTable/create.m
	* Tests/base/NSHashTable/create.m
	* Tests/base/GenericTests/generic.m
	* Tests/base/NSBundle/resources.m: Remove warnings generated by tests.

2011-08-02  Fred Kiefer <FredKiefer@gmx.de>

	* Tests/base/NSJSONSerialization/json.m: Get it compile without
	C99.
	* Tests/base/NSString/regex.m: Use an autorelease pool.

2011-08-02  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSThread.m (GSCurrentThread): Use C string in assert, not
	ObjC string.
	* Headers/Foundation/NSRegularExpression.h: Add the pattern as ivar.
	* Source/NSRegularExpression.m: Rewrite to compile with less
	warnings on systems not supporting ICU.

2011-07-31 16:19 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Headers/Foundation/NSObject.h: Remove the
	  duplicate definition of the NSObject protocol methods in the
	  NSObject class (redundant since they are implicitly added by the
	  class adopting
	  the protocol, and stupid because there was already one
	  copy-and-paste error
	  where they differed slightly). Also replaced all of the
	  references to
	  nonexistent documentation with actual documentation.

2011-07-31 15:31 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Headers/Foundation/NSAutoreleasePool.h,
	  libs/base/trunk/Headers/Foundation/NSException.h,
	  libs/base/trunk/Headers/Foundation/NSObjCRuntime.h,
	  libs/base/trunk/Headers/Foundation/NSObject.h,
	  libs/base/trunk/Source/GSArray.m,
	  libs/base/trunk/Source/GSBlocks.m,
	  libs/base/trunk/Source/GSString.m,
	  libs/base/trunk/Source/NSBundle.m,
	  libs/base/trunk/Source/NSConnection.m,
	  libs/base/trunk/Source/NSDate.m,
	  libs/base/trunk/Source/NSIndexPath.m,
	  libs/base/trunk/Source/NSMessagePort.m,
	  libs/base/trunk/Source/NSNull.m,
	  libs/base/trunk/Source/NSNumber.m,
	  libs/base/trunk/Source/NSPort.m,
	  libs/base/trunk/Source/NSSocketPort.m,
	  libs/base/trunk/Source/NSTimeZone.m,
	  libs/base/trunk/Source/NSURLProtocol.m,
	  libs/base/trunk/Source/NSValue.m: Cleanup:
	  - (void)release;
	  to
	  - (oneway void)release;
	  so everything implementing -release actually implements the one
	  declared in the NSObject protocol.

	  Start marking things that are unavailable in ARC mode as
	  unavailable in ARC mode.

2011-07-26 David Chisnall <theraven@gna.org>
	* Source/NSObject.m:
	Change the order of the retain count and the padding, so the retain count
	is always the word before isa.

	Switch to using the correct kind of alignof (the ABI alignment in
	structures, not the preferred alignment of the type - this stops us from
	allocating 4 bytes of padding on x86-32 where there is no need for any)

	* Source/NSNumber.m:
	Use the small object support in libobjc2 trunk for 31 / 61-bit signed
	NSNumbers on 32 / 64-bit platforms respectively.  Still to do: add an
	NSSmallFloat equivalent for 64-bit platforms, storing a float.

2011-07-26  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSProxy.h:
	* Source/NSProxy.m:
	Fixed missing oneway qualifier on -release return type. Recent Clang
	trunk complains about it.

2011-07-25 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSJSONSerialization.m: Get this file to compile with
	standard gcc settings fro GNUstep.

2011-07-25 15:50  David Chisnall <theraven@gna.org>

	* libs/base/trunk/Headers/Foundation/Foundation.h,
	  libs/base/trunk/Headers/Foundation/NSJSONSerialization.h,
	  libs/base/trunk/Source/GNUmakefile,
	  libs/base/trunk/Source/NSJSONSerialization.m,
	  libs/base/trunk/Tests/base/NSJSONSerialization,
	  libs/base/trunk/Tests/base/NSJSONSerialization/TestInfo,
	  libs/base/trunk/Tests/base/NSJSONSerialization/json.m: Added
	  NSJSONSerialization (10.7) implementation. The code path reading
	  from an NSInputStream is not well tested - please try and break
	  it!

2011-07-25 Fred Kiefer <FredKiefer@gmx.de>

	* libs/base/trunk/Headers/GNUstepBase/GSIMap.h
	(GSIMapAddKeyNoRetain): Correct previous change.

2011-07-24 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAssertionHandler.m,
	* Headers/GNUstepBase/GSConfig.h.in: Clean up after last commit.
	* Headers/GNUstepBase/preface.h.in: Remove this obsolete file.

2011-07-24 13:09 David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSArray.h,
	  Headers/Foundation/NSDictionary.h,
	  Headers/Foundation/NSEnumerator.h,
	  Headers/Foundation/NSInvocation.h,
	  Headers/GNUstepBase/GSFileHandle.h,
	  Headers/GNUstepBase/GSIMap.h,
	  Headers/GNUstepBase/preface.h.in,
	  Source/Additions/GCDictionary.m,
	  Source/Additions/GSInsensitiveDictionary.m,
	  Source/Additions/GSLock.m,
	  Source/Additions/NSData+GNUstepBase.m,
	  Source/GSArray.m,
	  Source/GSDictionary.m,
	  Source/GSInvocation.h,
	  Source/NSArray.m,
	  Source/NSAssertionHandler.m,
	  Source/NSCharacterSet.m,
	  Source/NSConcreteHashTable.m,
	  Source/NSConcreteMapTable.m,
	  Source/NSConcretePointerFunctions.h,
	  Source/NSConnection.m,
	  Source/NSCountedSet.m,
	  Source/NSData.m, libs/base/trunk/Source/NSDate.m,
	  Source/NSDebug.m,
	  Source/NSDictionary.m,
	  Source/NSDistantObject.m,
	  Source/NSHost.m,
	  Source/NSIndexPath.m,
	  Source/NSInvocation.m,
	  Source/NSKeyValueObserving.m,
	  Source/NSPointerArray.m,
	  Source/NSProcessInfo.m,
	  Source/NSPropertyList.m,
	  Source/NSTimeZone.m,
	  Source/NSValue.m,
	  Source/unix/NSStream.m,
	  Tests/base/NSHashTable/weak.m,
	  Tests/base/NSPointerArray/weak.m: Lots of little
	  fixes to make -base compile with -Werror (now builds without
	  warnings).

	  Richard: I'm unsure about three of these, which were fixes in
	  memset() calls in:
	  - NSConcreteMapTable.m
	  - NSConcreteHashTable.m
	  - Additions/NSData+GNUstepBase.m

	  Please can you check them? I think they are intended to zero the
	  entire object
	  (rather than the first word), but the lack of comments makes me
	  unsure.

	  Most changes were just tweaks to variable types. I've also
	  removed some dead code from NSInvocation. This was small group of
	  things that were marked for internal use only, but not actually
	  referenced in the code anywhere.

	  Other improvements:

	  - NSArray / NSDictionary fixed up to use the 10.7 (ARC-friendly)
	  prototypes.
	  - getObjects:andKeys: implemented for NSDictionary (10.5 method)
	  - NSPointerArray and NSHashTable now properly support weak
	  objects.
	  - Tests for weak objects in collections.

2011-07-23 16:16 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Headers/GNUstepBase/GSIMap.h,
	  libs/base/trunk/Source/NSConcreteMapTable.m,
	  libs/base/trunk/Source/NSConcretePointerFunctions.h,
	  libs/base/trunk/Tests/base/NSMapTable/weak.m: Add support (and
	  test) for weak keys and values in NSMapTable. This support should
	  work in GC mode. It also works if the runtime supports ARC, even
	  if the compiler does not use this support.

2011-07-23 12:19 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Source/NSObject.m: Remove the zone pointer from
	  objects. Now we always query the zones to find the relevant
	  pointer. Zones are still supported, but we now optimise for the
	  case where they are not used.

	  To disable zone support completely, NSAllocateObject() should
	  ignore the zone and NSDeallocateObject() should skip the zone
	  lookup.

2011-07-22 16:07 David Chisnall <theraven@gna.org>

	* libs/base/trunk/Headers/Foundation/NSArray.h,
	  libs/base/trunk/Source/GSArray.m,
	  libs/base/trunk/Source/NSArray.m: Change id* -> id[] for OS X
	  10.7 compatibility in NSArray. This change is required for ARC:
	  now, id* means pointer to a single object, id[] means array.

2011-07-22 14:38 David Chisnall <theraven@gna.org>

	* Source/NSRegularExpression.m:
	Added stub implementation for when GNUstep is built without ICU.

2011-07-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSNumberFormatter.m
	(-attributedStringForObjectValue:withDefaultAttributes:):
	Guard against initializing an NSAttributedString with a nil string.

2011-07-20  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSAttributedString.m: Throw an exception if the string object
	passed to -initWithString:attributes: doesn't respond to -length, or if
	it is nil. This is the same behaviour as OS X.
	* Source/NSAttributedString.m (-init): Call -initWithString:attributes:
	with @"" instead of nil, since passing nil now causes an exception
	to be thrown.

2011-07-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Makefile.postamble:
	Install ObjectiveC2 compatibility headers only if that is built (which
	should be only if no 'real' objc2 library is available).
	Also generate an objc/runtime.h header to include objectiveC2/runtime.h
	so that people can just include objc/runtime.h to use the new runtime
	API irrespective of whether the API is provided by the actual runtime
	library or by the compatibility library.

2011-07-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile:
	* Source/GSRunLoopWatcher.h:
	* Source/NSXMLPrivate.h:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSFileHandle.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/NSStream.m:
	* Source/common.h:
	* Source/Additions/GSXML.m:
	* Source/Additions/GSFunctions.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSURLPrivate.h:
	* SSL/GSSSLHandle.m:
	* Makefile.postamble:
	* configure.ac:
	* Headers/GNUstepBase/GSConfig.h.in:
	* Headers/GNUstepBase/GSFunctions.h:
	* Headers/GNUstepBase/GSObjCRuntime.h:
	* Headers/Foundation/NSZone.h:
	* Tools/make_strings/make_strings.m:
	* configure: regenerate
	Remove references to obsolete header.

2011-07-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Fix faulty assert.

2011-07-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileHandle.m:
	* SSL/GSSSLHandle.m:
	* Headers/Foundation/NSFileHandle.h:
	Fixup to let certificate information contain a chaing with intermediate
	certificate authorities.  Simplify handshake using common routine for
	non-blocking handshake attempt.

2011-07-11 14:31 David Chisnall <theraven@gna.org>

	* Source/NSAutoreleasePool.m,
	  Source/NSThread.m: Lazily initialize POSIX
	  threads, matching OS X behaviour and stopping us from crashing
	  when calling autorelease from a thread that was not previously
	  registered explicitly (yuck!)

	  Also do some quite hacky (and not totally correct) things to try
	  to make sure that we aren't confused into thinking that the first
	  NSThread is the main thread, if it's created on a separate
	  thread. Currently only supported on FreeBSD and OpenBSD.

2011-07-11 12:36 David Chisnall <theraven@gna.org>

	* Source/NSNumber.m: [NSNumber -init] should not
	  destroy itself when called as [super init]. This behaviour was
	  breaking anything that subclassed NSNumber in user code (e.g.
	  PyObjC).

2011-07-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSLocale.m (GSLanguageFromLocale): Handle local "C.UTF-8"
	correctly. Needed for Cygwin.

2011-07-11 Fred Kiefer <FredKiefer@gmx.de>

	* config/config.ffi.c: Move declaration of g_dbl to begin of
	function.
	Patch by Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

2011-07-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSTimeZone.m (+systemTimeZone): Support the OpenSuse key
	TIMEZONE in /etc/sysconfig/clock.

2011-07-10  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSObject.m (+zone): Override to ensure that -zone returns
	a valid zone pointer when it is called on a class object.

2011-07-05 Fred Kiefer <FredKiefer@gmx.de>

	* macosx/gnustep.pbproj/project.pbxproj,
	* Tools/make_strings/GNUmakefile.preamble: Remove references to
	obsolete directory Headers/Additions.

2011-07-05 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/GNUstepBase/GNUstep.h: Define the __has_feature macro,
	as this file may be used without preface.h being included first.
	Fixes bug #33708. Patch by Tim Kack <timkack@gmail.com>.

2011-07-04 11:31 David Chisnall <theraven@gna.org>

	* Source/NSObject.m:
	  Switch the order of the reference count and the zone so that the
	  reference count (in reference counted mode) is always immediately in
	  front of the object. Please test this!!

	  Opt NSObject into the fast path for ARC. ARC will now not call
	  the retain / release / autorelease methods on NSObject or any
	  classes that inherit their implementation of these methods from
	  NSObject. In quick and dirty testing, this gives about a 10-20%
	  speedup.

2011-06-30 14:44 David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSArray.h,
	  Headers/Foundation/NSProxy.h,
	  Headers/GNUstepBase/GSVersionMacros.h,
	  Headers/GNUstepBase/preface.h.in,
	  Source/NSProxy.m: Rewrote NSProxy's -retain /
	  -release to be the same as NSObject, not its own ad-hoc thing.

	  Added declaration of __bridge for use in non-ARC mode.

	  Tweaked arrayWithObjects:count: to take a const id* parameter, to
	  avoid ARC
	  treating it as a write-back parameter.

2011-06-29 15:21 David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSNotification.h,
	  Headers/Foundation/NSZone.h,
	  Headers/GNUstepBase/preface.h.in,
	  Tools/make_strings/make_strings.m: More ARC
	  fixes. We don't want to be using __strong void* in ARC mode (it
	  only makes sense in GC mode and is invalid in ARC mode).

2011-06-29 13:13  David Chisnall <theraven@gna.org>

	* Source/NSObject.m: Add support to NSObject for
	  automatically zeroing __weak references when using ARC.

2011-06-29 11:50  David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSAutoreleasePool.h,
	  Headers/Foundation/NSEnumerator.h,
	  Headers/Foundation/NSException.h,
	  Headers/Foundation/NSZone.h,
	  Headers/GNUstepBase/preface.h.in:
	  ARC-compatibility tweaks in the headers. ARC will not track
	  objects inside structures and rejects code that uses object types
	  that are not __unsafe_unretained qualified inside structures.

	  This quick fix just added this type qualifier on all such
	  structures. Several of these should probably not be in headers at
	  all.

2011-06-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSString.m(-_getStart:end:contentsEnd:forRange:lineSep:,
	-getLineStart:end:contentsEnd:forRange:,
	-getParagraphStart:end:contentsEnd:forRange):
	Fix implementation of getParagraphStart:end:contentsEnd:forRange:.

2011-06-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac:
	* config/config.ffi.c (cls_struct_combined_fn): Fix the broken
	test whether libffi works. The test program always failed, but
	this failure was masked by an incorrect use of AC_TRY_RUN.

	* configure: Regenerated.

2011-06-23 Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSBundle.h,
	* Source/NSBundle.m: Add a few 10.6 NSURL methods.
	Based on patch by julian.

2011-06-20  Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* SSL/GSSSLHandle.m:
	* Headers/GNUstepBase/GSFileHandle.h:
	Avoid compiler warnings

2011-06-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Keep zombie working until after atext stuff has
	run.
	* Source/NSUserDefaults.m: fix possible deref of nul pointer.
	* Source/Additions/NSObject+GNUstepBase.m:
	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	Make clanup code a bit more flexible by allowin different cleanup
	methods to be registered.

2011-06-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/NSArray.m:
	* Source/NSNotificationCenter.m:
	* Source/NSObject.m:
	* Source/NSString.m:
	* Source/NSTimeZone.m:
	* Source/NSUserDefaults.m:
	* Source/NSValue.m:
	More leak cleanup.

2011-06-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/NSObject+GNUstepBase.h:
	* Source/Additions/NSObject+GNUstepBase.m:
	Add new category with methods for cleanup of long-lived data structures
	on process exit.
	* Source/NSObject.m: Check GNUSTEP_SHOULD_CLEAN_UP environment variable
	and call +shouldCleanUp: if it is set.
	* Documentation/Base.gsdoc: Document new environment variable.
	* Source/GSLocale.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSUserDefaults.m:
	* Source/NSNotificationCenter.m:
	* Source/GSPrivate.h:
	* Source/externs.m:
	* Source/NSString.m:
	Add some cleanup support.

	Classes may perform cleanup in a +atExit method which is automatically
	called on process exit.
	Classes may use [NSObject+leak:] to 'leak' an object so that it is
	retained for the life of the process, but released immediately before
	the +atExit methods are called if GNUSTEP_SHOULD_CLEAN_UP is YES.
	See the NSObject(AtExit) category documentation for details.

2011-06-18  Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Source/NSObject.m: fix for clang
	* SSL/GNUmakefile: don't link libobjc ... depend on gnustep-make

2011-06-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURL.h:
	* Source/NSURL.m: more 10.6 methods

2011-06-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: Fix error with whitespace at end of attributes.
	* Headers/GNUstepBase/NSURL+GNUstepBase.h: Add method to build a URL
	from separate components.
	* Headers/Foundation/NSURL.h: Add some OSX 10.6 methods for path
	handling, and incorporate documentation from source file.
	* Source/NSURL.m: Add some OSX 10.6 methods for path handling, fix
	minor bug checking resource availability, and move documentation to
	header.
	* Source/Additions/NSURL+GNUstepBase.m: Add method to build a URL from
	components.
	We NEED testcases for these.

2011-06-13 Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSAvahiRunLoopIntegration.m: Declare the local methods in
	the interface.
	Patch by Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

2011-06-11 Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDateFormatter.m,
	* Source/NSTimeZone.m,
	* Source/NSCalendar.m: Protect the name id.
	Patch by Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

2011-06-09  Richard Frith-Macdonald <rfm@gnu.org>

	* configure: Regenerate
	* config.mak.in:
	* configure.ac:
	* Source/Makefile.preamble:
	* Tools/Makefile.postamble:
	* Tools/Makefile.preamble:
	Add --with-gdomap-port= to specify an alternative port

2011-06-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSLock.m:
	Remove notification observation on dealloc.

2011-06-04  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSURL.h,
	* Source/NSURL.m: Add -checkResourceIsReachableAndReturnError:

2011-06-03  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSString.m: [(-getLineStart:end:contentsEnd:forRange:)]
	Fix off-by-one error in reported contents end for DOS style lines.

2011-06-02 Riccardo Mottola <rm@gnu.org>

	* Source/NSTimeZone.m: Disable use of tzname on OpenBSD too.

2011-06-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: Allow for quotes around zone name in
	/etc/sysconfig/time on redhat/centos.

2011-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: Disable use of tzname on FreeBSD as it's not
	fully implemented there.  Add a couple of new mechanisms for
	guessing the timezone on debina and redhat.

2011-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h: Add explicit warnings about OSX
	compatible modifications to values returned by path methods.
	* Source/NSTimeZone.m: Don't guess at tzname[0] if the value of
	daylight shows it's not valid.

2011-05-31  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSCallBacks.h: Adjust callback prototypes to use
	NSUInteger.

2011-05-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GNUstep.h:
	Deprecate autorelease pool macros and make them always create the
	pool.

2011-05-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSMapTable.h:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSXML.m:
	* Source/GSAvahiNetService.m:
	* Source/NSCallBacks.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSConnection.m:
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSTask.m:
	* Source/NSTimeZone.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	Update to use new NSInteger... callback names rather than NSInt...
	for compatibility with OSX
	* Source/NSNotificationCenter.m: revert/rewrite recent GC changes to
	simplify code and preprocessor conditionals and to avoid overheads
	of using a class as an observation except for GC with cland/libobc2.
	Is it really needed even then?  I guess it would be if we weren't
	using the Boehm GC library, and were stuck with a GC system which
	didn't support zeroing weak pointers in unscanned memory.

2011-05-29  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Fix broken atomic ops again.
	* configure: regenerate

2011-05-30 11:40  David Chisnall <theraven@gna.org>

	* Source/NSData.m:
	Add a couple of __strong annotations to pointers. Any non-id pointer
	that can store GC'd memory must be __strong. Currently, this annotation
	is largely ignored, because the runtime is a lot more lax about what
	may store pointers than Apple's, but this will be tightened up in the
	future.

2011-05-28  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNotificationCenter.m,
	* Source/NSUserDefaults.m: Remove compiler warnings.

2011-05-28 18:05  David Chisnall <theraven@gna.org>

	* Source/NSPointerArray.m:
	Make NSPointerArray insert the correct read / write barriers in GC mode.
	* Source/NSConcretePointerFunctions.h:
	Add some helper functions to NSConcretePointerFunctions.h that make it
	easier to do this in the other collections that need to support GC.

2011-05-28  Eric Wasylishen  <ewasylishen@gmail.com>

	* configure.ac: Tweak atomic ops detection
	* Sourcen/NSObject.m: Re-enable atomic ops

2011-05-28 14:51 David Chisnall <theraven@gna.org>

	* Source/NSAutoreleasePool.m,
	* Source/NSObject.m,
	* Source/NSZone.m:
	First pass at hybrid GC mode.  This will try use retain-release mode if
	the collector is not running. Code will run in retain/release mode
	unless something compiled with -fobjc-gc-only is loaded.

2011-05-28  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSString.m (-initWithFormat:locale:): Make sure va_end()
	gets called.
	Patch by Stefan Bidigaray <stefanbidi@gmail.com>.

2011-05-28 12:49  David Chisnall <theraven@gna.org>

	* Source/NSNotificationCenter.m:
	__weak is only allowed on ivars and globals, so we need to turn the
	Observation structure into a class.

2011-05-28  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSObject.m: Disable atomic ops detection for the time being.

2011-05-27 11:48  David Chisnall <theraven@gna.org>

	* Source/NSAutoreleasePool.m:
	Make -drain and -release in NSAutoreleasePool do the same thing (rather
	than one calling the other) in non-GC mode.

	* Source/Additions/GSMime.m,
	* Source/Additions/GSObjCRuntime.m,
	* Source/Additions/NSCalendarDate+GNUstepBase.m,
	* Source/Additions/NSData+GNUstepBase.m,
	* Source/NSBundle.m,
	* Source/NSConnection.m,
	* Source/NSDebug.m,
	* Source/NSDistributedNotificationCenter.m,
	* Source/NSException.m,
	* Source/NSFileManager.m,
	* Source/NSKeyedArchiver.m,
	* Source/NSLog.m,
	* Source/NSMessagePort.m,
	* Source/NSMessagePortNameServer.m,
	* Source/NSPort.m,
	* Source/NSProcessInfo.m,
	* Source/NSRunLoop.m,
	* Source/NSTask.m,
	* Source/NSTimeZone.m,
	* Source/NSUserDefaults.m,
	* Tools/AGSHtml.m,
	* Tools/AGSIndex.m,
	* Tools/AGSOutput.m,
	* Tools/AGSParser.m,
	* Tools/HTMLLinker.m,
	* Tools/gspath.m
	* Tools/pl.m:
	Replace all -release messages sent to autorelease pools with -drain. In
	non-GC mode, these are equivalent.
	In GC mode, these trigger a collection.

2011-05-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Remove useless leftover #define.
	* configure.ac: Get -march flag passed to build process
	* configure: regenerate

2011-05-26  Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Add test to check for availability of atomic builtins.
	* configure: Regenerate.
	* Headers/GNUstepBase/config.h.in: Regenerate.
	* Source/NSObject.m: Fix typo.

	Attempt to set the compiler and linker flags needed to enable compiler
	intrinsics for atomic operations on platforms where those are available.

2011-05-26 18:29  David Chisnall <theraven@gna.org>

	* Source/simple-load.h:
	Use RTLD_NOLOAD, if it's supported.

2011-05-26 13:24  David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSNotification.h,
	* Source/Additions/GSLock.m,
	* Source/Additions/GSObjCRuntime.m,
	* Source/Additions/Unicode.m,
	* Source/GSString.m,
	* Source/NSThread.m,
	* Source/NSZone.m:
	  More GC fixes. Most notably,
	  mark the thread object as not collectable, since it's hidden away
	  in TLS where the GC can't find it.

2011-05-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m:
	Further tweak of atomic assembly code ... don't really know what I'm
	doing here ... perhaps theoriginal author (mostly David?) knows more
	about this assmebly stuff and implementation of atomic primitives on
	different architectures?

2011-05-25 11:15  David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSZone.h,
	* Source/GSString.m,
	* Source/NSData.m,
	* Source/NSMethodSignature.m,
	* Source/NSNotificationCenter.m,
	* Source/NSObject.m,
	* Source/NSZone.m:
	More tweaks for garbage collection mode, including making
	NSNotificationCenter use weak pointers (things are never removed if it
	uses strong pointers because they remove themselves in the -dealloc
	method, which is never called, and can't remove themselves in the
	-finalize method because the -finalize method would not be called
	until after they have been removed - this is consistent with Apple
	behaviour).
	Gorm now works correctly when built with GC enabled.

2011-05-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m:
	Attempt fix for atomic assembler on x86 (bug #33392)

2011-05-24 David Chisnall <theraven@gna.org>

	* Source/NSBundle.m
	* Source/NSGarbageCollector.m
	* Source/NSKeyValueObserving.m
	* Source/NSZone.m
	* Source/NSObject.m
	* Source/NSAutoreleasePool.m
	First pass at supporting fully Apple-compatible GC in -base.
	Code sitting
	on top of -base should not require modifying (in theory, at least, and
	unless it does the sort of evil tricks that LanguageKit does for
	performance).

2011-05-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m:
	Try to better cope with bad code which leaks autorelease pools.
	1. check number of pools in thread when creating a new one, and
	raise an exception if too many are created.
	2. when deallocating a pool, avoid recursively deallocating child
	pools so that a large number of pools won't cause stack overflow.

2011-05-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	Fix to resolve links and standardize path to current executable.

2011-05-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Fixes for encoding quoted-printable document body content.

2011-05-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/NSMethodSignature.m:
	* Source/GSFFCallInvocation.m:
	* Source/GSFFIInvocation.m:
	* Source/NSUnarchiver.m:
	* Source/NSCoder.m:
	* Source/cifframe.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSObjCRuntime.m:
	* Source/NSArchiver.m:
	Fixup objc header includes for gcc-4.6

2011-05-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	* Source/GSHTTPURLHandle.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/NSMessagePortNameServer.m:
	Include/use errno.h for thread-safe errno support.

2011-05-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/GSConcreteValueTemplate.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/GSFFIInvocation.m:
	* Source/NSUnarchiver.m:
	* Source/NSCoder.m:
	* Source/NSURL.m:
	* Source/cifframe.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSObjCRuntime.m:
	* Source/GSValue.m:
	* Source/NSValue.m:
	* Source/NSArchiver.m:
	updates for old/new objc api change.

2011-05-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSArray.m: Fix keyed decoding for GSMutableArray and
	GSPlaceholderArray.

2011-05-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: treat unknown/undefined encodings as utf-8
	so we tolerate bad xml documents better.

2011-05-02  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/Additions/GSObjCRuntime.m (GSSelectorFromNameAndTypes):
	With gcc 4.6 libobjc, GSSelectorFromNameAndTypes was calling some
	functions like sel_get_any_typed_uid that were not declared (they're
	declared in objc/objc-api.h which cannot be imported). I had to copy
	over these function declarations, otherwise incorrect function calls
	are generated which corrupt selectors (at least on x86-64).

2011-05-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m: Fix broken copying of formatters,
	cleanup/simplify decoding, cleanup/simplify by removif macros.

2011-04-30  Quentin Mathe <quentin.mathe@gmail.com>

	* Tools/autogsdoc.m: Fixed OrderedSymbolDeclarations.plist content to
	take in account that existing .gsdoc files are usually not regenerated.
	We now create the plist by merging it with the previously output plist
	file.

2011-04-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/NSNumberFormatter.m: Move the body of -init to a method called
	-_NSNumberFormatterInit, and call this in -initWithCoder: so that
	instances created with -initWithCoder: are initialized correctly.

2011-04-26  Eric Wasylishen  <ewasylishen@gmail.com>

	* Headers/Foundation/NSObjCRuntime.h: Add CGFLOAT_MIN and CGFLOAT_MAX

2011-04-14  Adam Fedor  <fedor@gnu.org>

	* VERSION: Bump version

2011-04-14  Adam Fedor  <fedor@gnu.org>

	* Version 1.22.0

2011-04-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m (GSSelectorFromNameAndTypes):
	Comment out case for __GNU_LIBOBJC__ to avoid breakage with gcc-4.6
	* Source/NSPathUtilities.m: Minor tweak for running testcases.
	* Tests/base/NSBundle/resources.m:
	* Tests/base/NSBundle/basic.m:
	Skip gnustep library bundle tests if not installed.
	* Tests/base/NSNumberFormatter/basic.m:
	Changed a test to a hope for the next release

2011-04-10  Quentin Mathe <quentin.mathe@gmail.com>

	* Tools/AGSOutput.m (-fitWords:from:to:maxSize:output:): Ensure all
	paragraphs are output in the same way. Each paragraph starts on a new
	line now, which results in a GSDoc output that looks a bit better and
	is easier to parse.

2011-04-09  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/Additions/GSObjCRuntime.m (GSSelectorFromNameAndTypes):
	Uncommented case for __GNU_LIBOBJC__.

2011-04-09  Nicola Pero  <nicola.pero@meta-innovation.com>

	* configure.ac: Updated the checks to enable native Objective-C
	exceptions.  If native exceptions were enabled in gnustep-make -
	because the compiler supports them -, but are disabled here
	because there is no uncaught exception handler in the runtime,
	print an explanation without aborting; we now disable them via
	base.make.
	* configure: Regnerated.
	* base.make.in: Set USE_OBJC_EXCEPTIONS to no if we disabled
	native exceptions when configuring.

2011-04-09  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Tests/GNUmakefile: Updated comments.

2011-04-08  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Tests/GNUmakefile: Include rules.make instead of test-tool.make.
	(TOP_DIR): Define using ':=' instead of '='.
	(TEST_TOOL_NAMES): Variable removed.

2011-04-08  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Tools/pl2link.m (main): Fixed determining the installation
	location with the current filesystem layout (Problem reported by
	"Philippe Roussel" <p.o.roussel@free.fr>).

2011-04-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix failure to connect to mail server.

2011-04-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNmberFormatter.m: Tweak macros to avoid compiler warnings.

2011-04-07  Chris Armstrong <carmstrong@fastmail.com.au>

	* Source/NSFileManager.m: Fix bug creating intermediary directories.
	* Tests/base/NSFileManager/general.m: Add test for whether intermediary
	directories are created.

2011-04-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSparser.m: ignore __attribute__ in declarator to fix bug
	#33008

2011-04-05  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Tests/base/coding/decoding.m: Fix bogus byte swap code for
	big-endian hosts.

2011-04-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Attempt to fixup C++ constructor/destructor
	handling to work for all setups.

2011-04-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: on mingw release self and return nil if
	initialiser can't find named timezone.

2011-04-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: ([+initialize]) change to use 'right' path
	handling so that our core paths are established correctly even if
	an app has set the wrong path handling mode for the currenty platform.
	* Tests/base/NSURL/basic.m:
	* Tests/base/NSString/test02.m:
	Fix path portability bugs in tests.

2011-04-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: fix leak spotted by Fred.

2011-04-03  Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>

	* Source/GNUmakefile:
	* Source/NSObject.m:
	* Source/NSTask.m:
	Tweaks for OpenBSD build

2011-04-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	Fix pointer ownership issue in callbacks in GC environment so we let
	the garbage collector handle watchers rather than trying to free them
	explicitly when we shouldn't.

2011-04-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Fix problem with finalization of proxies and
	remove obsolete runtime call to see if a class respons to selector.

2011-03-31 Riccardo Mottola <rm@gnu.org>

	* Source/ObjectiveC2/Makefile.preamble
	Add directory of the local headers.

2011-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/unicode/gsm0338.h:
	Fix error mapping capital C-cedilla.

2011-03-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSUnion.h: Remove problematic types.
	* Source/unix/Makefile.preamble: Remove unused include directory
	* Source/win32/Makefile.preamble: ditto
	* Source/ObjectiveC2/Makefile.preamble: ditto
	* Source/Additions/Makefile.preamble: ditto
	* Source/Additions/Makefile.postamble: link to extra headers for apple
	so we can build the additons library on a pure apple system again.

2011-03-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/GNUstepBase/GSIMap.h:
	* Headers/GNUstepBase/GSUnion.h:
	* Source/GSAttributedString.m:
	* Source/NSArchiver.m:
	* Source/NSConnection.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSNotificationCenter.m:
	* Source/NSPortCoder.m:
	* Source/NSSerializer.m:
	Fixes for problem spotted by David Chisnall ... on a 64bit system where
	the size of an integer is not the same as the size of a pointer the
	union holding map keys and values will have undefined content if we
	assign an integer to it and then use it as a pointer!
	So, we change to use the .nsu accessor for a pointer sized integer
	throughout, and we remove all the odd sized union members.

2011-03-28 Riccardo Mottola <rm@gnu.org>

	* Source/NSPathUtilities.m:
	safer and more portable pointer access

	* Headers/Foundation/NSNetServices.h
	Remove forward protocol declarations as they break gcc 2.95.

2011-03-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: Clarify/add to comments about linked
	list operation and remove redundant/useless line of code.

2011-03-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNumberFormatter.m (-stringForObjectValue:): Swapped a
	few lines of fraction handling code to get the test suite to pass.

2011-03-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSObject.m (-methodSignatureForSelector:): Get method
	right again in case the method is called on a class object and the
	old runtime is used.

2011-03-21 Riccardo Mottola <rm@gnu.org>

	* Tests/base/NSNumberFormatter/basic.m:
	Added new test.

2011-03-18  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Documentation/GNUmakefile (CODING-STANDARDS_TEXI_FILES,
	CODING-STANDARDS_DOC_INSTALL_DIR, CODING-STANDARDS_TEXT_MAIN):
	Removed.
	(DOCUMENT_TEXT_NAME, TOP_DOC_FILES): Fixed names of files to
	generate; for example, INSTALL instead of install.

2011-03-18 Riccardo Mottola <rm@gnu.org>

	* Source/NSSortDescriptor.m:
	Use Cocoa values for the coding keys.

2011-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: Use old API to work around bug in
	current sel_registerTypedName().
	* Source/GSFFIInvocation.m: Use sel_getTypedName() to safely get a
	typed selector.

2011-03-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSProcessInfo.m (_gnu_process_args): Use C runtime system
	functions to access command line arguments and the environment
	under Darwin/Mac OS X.

	* configure.ac: Add special case to disable fake-main by default
	on Darwin/OS X.

	* configure: Regenerated.

2011-03-17 15:02  David Chisnall <theraven@gna.org>

	* Source/NSObject.m: Correctly call C++
	  constructors / destructors for C++ 'objects' in ObjC++ ivars.

2011-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: regenerated wityh latest zone info.
	* Tests/base/NSCalendarDate: Updated to use standardised locale

2011-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Make +initialize thread safety warning optional
	(disabled using GSSilenceInitializeWarning user default) and more
	informative.

2011-03-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m: Padding for fractional part comes at the
	start rather than at the end.

2011-03-14  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m (-getObjectValue:forString:errorDescription:):
	Add implementation.

2011-03-14  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m (-getObjectValue:forString:range:error:):
	Added implementation.
	* Headers/NSNumberFormatter.h: Fixed a couple of typos.

2011-03-14  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Resources/GNUmakefile
	(base-resources_RESOURCE_FILES_INSTALL_DIR): Removed.

2011-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* configure:
	* Headers/Additions/GNUstepBase:
	* Headers/Additions/GNUstepBase/Additions.h:
	* Headers/Additions/GNUstepBase/config.h.in:
	* Headers/Additions/GNUstepBase/.cvsignore:
	* Headers/Additions/GNUstepBase/CXXException.h:
	* Headers/Additions/GNUstepBase/DistributedObjects.h:
	* Headers/Additions/GNUstepBase/GCObject.h:
	* Headers/Additions/GNUstepBase/GNUstep.h:
	* Headers/Additions/GNUstepBase/GSBlocks.h:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	* Headers/Additions/GNUstepBase/GSFunctions.h:
	* Headers/Additions/GNUstepBase/GSIArray.h:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	* Headers/Additions/GNUstepBase/GSLocale.h:
	* Headers/Additions/GNUstepBase/GSLock.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Headers/Additions/GNUstepBase/GSUnion.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Additions/GNUstepBase/NSArray+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSAttributedString+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSBundle+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSCalendarDate+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSData+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSDebug+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSFileHandle+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSLock+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSMutableString+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSNetServices+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSNumber+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSObject+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSProcessInfo+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSStream+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSString+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSTask+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSThread+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSURL+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/preface.h.in:
	* Headers/Additions/GNUstepBase/Unicode.h:
	* Headers/GNUstepBase:
	* Headers/GNUstepBase/config.h.in:
	* Headers/ObjectiveC2:
	* Headers/ObjectiveC2/Availability.h:
	* Headers/ObjectiveC2/blocks_runtime.h:
	* Headers/ObjectiveC2/capabilities.h:
	* Headers/ObjectiveC2/runtime.h:
	* Makefile.postamble:
	* Source/DocMakefile:
	* Source/GNUmakefile:
	* Source/Makefile.postamble:
	* Source/Makefile.preamble:
	* Source/ObjectiveC2/Availability.h:
	* Source/ObjectiveC2/blocks_runtime.h:
	* Source/ObjectiveC2/capabilities.h:
	* Source/ObjectiveC2/caps.c:
	* Source/ObjectiveC2/GNUmakefile:
	* Source/ObjectiveC2/NSBlocks.m:
	* Source/ObjectiveC2/runtime.h:
	* SSL/Makefile.preamble:
	* Tests/GNUmakefile:
	* Tools/Makefile.preamble:
	Simplify header layout.

2011-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/CXXException.m: fix error in include
	* Tests/GNUmakefile: add info for testing local copy of library

2011-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* configure:
	* config.mak.in:
	* Source/GNUmakefile:
	* Headers/Additions/GNUstepBase/config.h.in:
	Add config check for blocks support.
	* Source/NSObject.m:
	* Source/ObjectiveC2/blocks_runtime.m:
	Fixups for mingw

2011-03-12  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Cache property values and reset them
	along with the formatter.
	* Source/NSLocale.m: Add 2 missing unlocks.

2011-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSBlocks.m: Added header
	* Headers/Additions/GNUstepBase/GSBlocks.h: Added header
	* Headers/Foundation/NSRegularExpression.h: Added header
	Added missing copyright headers etc.

2011-03-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Fix bug in resetting ... was ending up
	with an immutable dictionary for the registration domain.
	* Source/NSObject.m: fix references to isa.
	* Source/NSPropertyList.m: Fix unused increments.
	* Source/NSRunLoop.m: Remove unused code.
	* Source/NSSocketPort.m: Remove unused code.
	* Source/NSSocketPortNameServer.m: Remove unused code.
	* Source/NSTimeZone.m: Fix unused increment.
	* Source/NSUnarchiver.m: Fix unused assignment.

2011-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSAttributedString.m: remove unused assignment
	* Source/GSFormat.m: remove unused increments
	* Source/GSHTTPAuthentication.m: remove unused assignment, fix possible
	use of nil as a dictionary key.
	* Source/GSHTTPURLHandle.m: remove unused assignment, check length.
	* Source/GSSocketStream.m: remove unused assignments
	* Source/GSString.m: remove unused assignments
	* Source/NSAttributedString.m: (-description) fix leak
	* Source/NSAutoreleasePool.m: tweak for clang static analyser
	* Source/NSBundle.m: fix memory leak
	* Source/NSCachedURLResponse.m: fix error in -copy
	* Source/NSCalendarDate.m: remove unused increments.
	* Source/NSDate.m: fix parsing string with ordering too long
	* Source/NSHTTPCookie.m: remove unused assignments
	* Source/GSMime.m: fix unused assignments
	* Source/NSInvocation.m: remove unused code
	* Source/unix/NSStream.m: remove unused ivar
	* Tools/gdomap.c: remove unused code

2011-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInternal.h:
	* Source/NSDateFormatter.m:
	* Source/NSNumberFormatter.m:
	Fix for object copying in non-fragile-ivar build spotted by
	Chris Armstrong.

2011-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/NSData+GNUstepBase.m:
	* Source/Additions/NSError+GNUstepBase.m:
	* Source/Additions/Unicode.m:
	* Source/dld-load.h:
	* Source/GSFormat.m:
	* Source/GSMDNSNetServices.m:
	* Source/GSSocketStream.m:
	* Source/GSValue.m:
	* Source/NSArchiver.m:
	* Source/NSCalendarDate.m:
	* Source/NSData.m:
	* Source/NSDebug.m:
	* Source/NSFileManager.m:
	* Source/NSHost.m:
	* Source/NSInvocation.m:
	* Source/NSKeyValueCoding.m:
	* Source/NSMessagePort.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSMethodSignature.m:
	* Source/NSObject.m:
	* Source/NSPathUtilities.m:
	* Source/NSPortCoder.m:
	* Source/NSProcessInfo.m:
	* Source/NSString.m:
	* Source/NSTask.m:
	* Source/NSTimeZone.m:
	* Source/NSUnarchiver.m:
	* Source/NSURL.m:
	* Tools/cvtenc.m:
	* Tools/defaults.m:
	* Tools/locale_alias.m:
	Avoid strcpy and strcat to get rid if some bsd warnings.

2011-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.initialize.m: Correct formatting.  Increase time
	allowed for threads to do their job, to minimise the chance of a
	heavily loaded machine giving a wrong result because threads
	don't get scheduled in time.
	* configure.ac: check for stck return address extraction
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/NSDebug.m: use function to get return address.

2011-03-06 Thomas Gamper <icicle@cg.tuwien.ac.at>

	* config/config.initialize.m: add missing include to fix build.
	Use correct thread handles, adapt sleep times to worst case.
	Remove C99-ism.

2011-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: remove obsolete call to objc_set_thread_callback().
	* Source/NSDebug.m: Try to improve getting return addresses from stack.

2011-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInternal.h:
	* Source/NSDateFormatter.m:
	* Source/NSNumberFormatter.m:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSCache.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSRegularExpression.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLocale.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	Tweaks for running in a garbage collecting environment.

2011-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: AbsolutePathOfExecutable() attempt to fix this
	to return a fully standardised path without symbolic links.
	* Source/NSFileManager.m:
	* Headers/Foundation/NSFileManager.h:
	Rudimentary implementation of a couple of new methods.

2011-03-05  Tom Davie <beelsebob2>

	* Source/NSSet.m:
	* Headers/Foundation/NSSet.h:
	Add block enumeration.

2011-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Small optimisation suggested by Fred.
	* config/config.initialize.m: Test for working +initialize
	* configure.ac: Use test for +initialize thread safety
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* configure: regenerate
	* Source/NSThread.m: Log warning when going multithreaded without
	a reliable runtime.

2011-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m: Make error text compatible with OSX
	* Source/NSSpellServer.m: Use NSLanguages user default
	* Source/NSBundle.m: Use NSLanguages user default
	* Source/NSUserDefaults.m:
	Revert recent attempt to avoid deadlocks (broke thread-safety).
	Rewrite shared defaults initialisation and user language management
	to break the complicated interrelationshp between methods which
	made the  initialisation fragile and incomprehensible.
	Language information derived from operating system or environment
	variables (rather than the defaults database) is now stored in a
	new volatile domain.
	The +userLanguages method just returns the NSLanguages default,
	and +setUserLanguages: now sets NSLanguages in the new volatile domain.
	Simplify setup of shared user defaults to avoid deadlocks.

2011-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: retain operation while finishing so that it
	doesn't get deallocated too soon (when the queue removes it).

2011-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m: Fix -setAllowsFloats to only operate
	in input strings.

2011-03-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m: Fix possible thread race condition.
	* Source/ObjectiveC2/runtime.c: Fix bogus warning messages.

2011-03-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: re-introduce per-queue thread pool.

2011-03-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: reorganise and simplify code, removing the
	pool of threads for handling operations (need to re-add this at a
	later point, but probably as a separate class) ... implement
	support for 'concurrent' operations (ones which manage their own
	executions rather than running in a thread provided by the queue.

2011-03-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Review memory management ... fix possible
	free of non-heap memory.

2011-03-02 Riccardo Mottola <rm@gnu.org>

	* base/NSNumberFormatter/basic.m:
	Add test for checking leading zeroes in fractional part.

2011-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: ([-isMemberOfClass:]) test the class returned
	by the -class method rather than using the runtime to get the actual
	class pointer ... fixes for when one class is pretending to be
	another (key value observing).

2011-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m:
	Retain object while sending notifications so we don't get deallocated
	during the process.

2011-03-01  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSNetServices.h
	* Headers/Additions/GNUstepBase/NSNetServices+GNUstepBase.h:
	Declare a protocol for GNUstep specific delegate methods in
	NSNetServices.

2011-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m:
	Implement dummy version for use with garbage collecting runtime.

2011-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Source/NSPortCoder.m:
	* Source/NSBundle.m:
	* Source/NSPropertyList.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSProcessInfo.m:
	* Source/NSRunLoop.m:
	* Source/NSOperation.m:
	* Source/NSUserDefaults.m:
	* Source/GSArray.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSDebug.m:
	* Source/NSPort.m:
	* Source/NSMessagePort.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSFileManager.m:
	* Source/NSException.m:
	* Source/NSString.m:
	* Source/Additions/NSData+GNUstepBase.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSCalendarDate+GNUstepBase.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSSet.m:
	* Source/NSConnection.m:
	* Source/NSThread.m:
	* Source/GSeq.h:
	* Source/NSLog.m:
	* Source/NSTask.m:
	Tweaks to avoid compiler warnings in garbage collecting environment.

2011-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/GNUmakefile: Use gnustep-make to supply targets.

2011-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFCallInvocation.m:
	* Source/ObjectiveC2/runtime.c:
	* Source/ObjectiveC2/runtime.h:
	* Source/Additions/GSObjCRuntime.m:
	Avoid messy runtime differences by using old runtime api for typed
	selector features not in the Apple runtime.

2011-02-27  Banlu Kemiyatorn <object@gmail.com>

	* Source/NSOperation.m: Fix error checking condition for dependencies.

2011-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Look for gc.h in gc subdirectory
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/GNUmakefile: Don't attempt to build GSBlocks.m until it works
	without causing link failures.
	* Source/NSPortCoder.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSGarbageCollector.m:
	* Source/NSZone.m:
	* Source/GSDictionary.m:
	* Source/GSCountedSet.m:
	* Source/NSNotificationCenter.m:
	* Source/GSAttributedString.m:
	* Source/NSObject.m:
	* Source/NSConcreteMapTable.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSSet.m:
	* Source/NSConnection.m:
	* Source/NSThread.m:
	* Source/NSConcreteHashTable.m:
	Modify location of gc.h header.

2011-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c:
	* Headers/Additions/GNUstepBase/preface.h.in:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Remove last vestiges of runtime specific memory allocation apart from
	obsolete macros (marked as deprecated).

2011-02-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDecimal.m:
	Fix NaN comparison in GSDecimalCompare()
	* Source/NSNumber.m:
	Better match OSX for double comparison.

2011-02-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m:
	Fix error in float comparison.

2011-02-24 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSUserDefaults.m
	* Source/NSKeyValueObserving.m:
	Fix typos.

2011-02-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m:
	* Source/NSArray.m:
	* Source/NSDebug.m:
	* Source/NSCalendar.m:
	* Source/NSURLResponse.m:
	* Source/NSObject.m:
	* Source/NSDecimalNumber.m:
	* Source/Additions/GSMime.m:
	* Source/NSDateFormatter.m:
	* Source/NSDate.m:
	* Source/NSDictionary.m:
	* Source/NSSet.m:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSSet.h:
	Tweaks to avoid compiler warnings on mingw and to make the
	-descriptionWithLocale: method consistently take an id argument
	as it now does on OSX.

2011-02-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix bugs in upper and lower casing of constant
	strings.
	* Source/NSTask.m: Force check of termination status when we call
	-isRunning.

2011-02-22  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/GSFFIInvocation.m (gs_find_best_typed_sel): Implemented
	for __GNU_LIBOBJC__.  Tidied up documentation.

2011-02-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Make private executable path be an absolute path.
	* Source/NSDateFormatter.m:
	* Source/NSLocale.m:
	* Source/NSNumberFormatter.m:
	* Source/NSTimeZone.m:
	Remove a few bogus underscores (pointed out by David) which could
	potentially cause problems with compiler/linker etc.

2011-02-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Modified stringByStandardizingPath and
	stringByDeletingLastPathComponent to better match OSX behavior.

2011-02-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m:
	* Headers/Foundation/NSNumberFormatter.h:
	If we don't have ICU then the actual behavior is 10.0 style
	irrespective of the formatter behavior setting.

2011-02-21 11:05  David Chisnall <theraven@gna.org>

	* Source/GSFFIInvocation.m: Some changes to method
	  type lookup when forwarding. Alway use the compiler-supplied type
	  information if it exists - this is guaranteed to by the correct
	  type encoding for the call frame and lets us deconstruct it
	  correctly. We can then fail gracefully later on when trying to
	  invoke the selector if the types in the callee don't match,
	  rather than by reading nonsense from the stack now.

	  When using the GNUstep runtime, use the safe mechanism for
	  checking whether there is more than one typed selector, and only
	  use that as a guess if it is safe to do so. With the GCC runtime,
	  we are still stuck using the API that it is impossible to use
	  safely (we might be better off just giving up at this point), but
	  now we call this after -methodSignatureForSelector:, so the app
	  developer gets a chance to do the right thing before we do the
	  wrong thing.

	  Also changed the assert to throw an exception if no type
	  signature can be found. This behaviour is consistent with Mac OS
	  X.

2011-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMethodSignature.m:
	* Source/GSArray.m:
	* Source/NSKeyValueObserving.m:
	* Source/GSPrivate.h:
	* Source/GSDictionary.m:
	* Source/NSURLProtocol.m:
	* Source/NSURL.m:
	* Source/NSObject.m:
	* Source/NSDecimalNumber.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSLock.m:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Expose class pointer swizzling function in GSObjCRuntime.
	Replace direct references to 'isa' pointer with objc_getClass() and
	objcSetClass() calls (or occasionally calls to the -class method if
	it seems more appropriate).

2011-02-20  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNumberFormatter.m (-init): Only check the formatter in
	the ICU case.

2011-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m:
	* Source/NSCopyObject.m:
	* Source/NSObject.m:
	Replace old code directly referencing class_pointer ivar with calls
	to the new runtime API treating objects as opaque pointers.

2011-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/common.h:
	* Source/NSObject.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSProxy.m:
	* Source/NSSerializer.m:
	Replace all calls to get_imp() with the new runtime API
	class_getMethodImplementation().

2011-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedNotificationCenter.m:
	* Source/GSFFCallInvocation.m:
	* Source/GSFFIInvocation.m:
	* Source/common.h:
	* Source/NSConnection.m:
	* Source/NSData.m:
	Use GSObjCRuntime functions for selector types until/unless we can get
	a standard runtime API that handles them.

2011-02-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	* Source/NSProcessInfo.m:
	* Source/NSConcretePointerFunctions.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSZone.m:
	* Source/NSCallBacks.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSFileManager.m:
	* Source/NSURLProtocol.m:
	* Source/objc-load.m:
	* Source/NSException.m:
	* Source/cifframe.m:
	* Source/NSLog.m:
	* Tools/defaults.m:
	* Tests/base/NSInvocation/Resources/InvokeProxy.m:
	Remove obsolete calls to objc_malloc() in favour of NSZoneMalloc() or
	malloc() where using zones is not appropriate.

2011-02-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFCallInvocation.m: Updated two obsolete runtime calls
	* Source/common.h: Revert last change as it seemed pointless to
	define macros within a private header which reproduce functions
	we don't actually use (or want to use) within base. I think/hope
	that the tiny change to GSFFcallInvocation.m is all that was needed.

2011-02-19 16:02  David Chisnall <theraven@gna.org>

	* Source/common.h: Add some macros that map some
	libobjc functions to their runtime-specific variants.
	This avoids the need for ugly #ifdefs everywhere (the next commit
	will try to clean up some of this mess), and lets us use the _np
	function names everywhere to explicitly note that we are using
	runtime functions that are not present on OS X - apparently the
	new GCC runtime does not add this suffix for some reason.

2011-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDecimalNumber.m:
	* Source/NSNumber.m:
	Quick hacks to try to get NaN comparison working.

2011-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDateFormatter.m:
	* Source/NSNumberFormatter.m:
	Fix -initWithCoder: methods to create internal ivar storage.

2011-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
	* Documentation/coding-standards.texi:
	* Headers/Foundation/NSXMLParser.h:
	Documentation tweaks.

2011-02-16  Jens Ayton <jens@ayton.se>

	* Source/NSPropertyList.m: Fix to support 64bit integers when parsing
	an XML property list.

2011-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Tests/base: import the testsuite here
	* Tests/GNUmakefile: add trivial makefile to run tests

2011-02-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Resources/German.lproj/Localizable.strings: Add translation for
	undo menu item strings.

2011-02-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSDateFormatter.m (-initWithCoder:, -initWithDateFormat:):
	Add missing calls to super/self initialization.

2011-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/common.h:
	* Headers/Additions/GNUstepBase/GNUstep.h:
	Implement David's idea of allowing some generalisation of the _()
	macro by using a preprocessor define to set the bundle to be used
	to lookup localisation information.

2011-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInternal.h:
	* Source/NSDateFormatter.m:
	* Source/NSNumberFormatter.m:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSCache.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSRegularExpression.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLocale.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	More work on clarifying the use of the reserved/private data
	pointer.  Reinstate accidentally lost '@private', and add the
	GS_UNUSED_IVAR attribute as requested by David to avoid static
	analyser warnings where the reserved pointer is not actually used
	yet. Tidy up latest files to use GSInternal.h

2011-02-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLocale.m:
	* Source/NSTimeZone.m:
	* Source/NSBundle.m:
	* Source/NSProcessInfo.m:
	* Source/NSUndoManager.m:
	* Source/NSFileHandle.m:
	* Source/NSSortDescriptor.m:
	* Source/NSFileManager.m:
	* Source/common.h:
	* Source/externs.m:
	* Source/NSException.m:
	* Source/NSString.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/GSXML.m:
	* Source/NSLocale.m:
	* Source/NSTask.m:
	As suggested by Wolfgang, change the _() macro for localization when
	used inside base to use the base library bundle rather than the main
	bundle.

2011-02-14  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSDateFormatter.m:
	* Source/NSDateFormatter.m: Changes for ABI compatibility.
	* Source/NSNumberFormatter.m: Use unum_clone to copy formatter.

2011-02-14  German Arias <german@xelalug.org>

	* Resources/Spanish.lproj/Localizable.strings: Added localized strings
	for undo/redo.
	* Source/NSUndoManager.m: Added GSBaseLocalizedString() function.

2011-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
	* Source/GSInternal.h:
	* Source/DocMakefile:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/NSConnection.m:
	* Source/NSDateFormatter.m:
	* Documentation/coding-standards.texi:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Tools/DocMakefile:
	* Tools/AGSParser.m:
	Documentation cleanups and fixes ... add new macros to list of symbols
	to ignore.  Add support for @optional and @required. Add support for
	method attributes.

2011-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSCache.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSXMLNode.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSRegularExpression.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLocale.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Make the presence of the pointer for reserved/private data clearer
	and more explicit to try to ensure we actually remember to use it
	to prevent ABI breakage.
	* Source/NSNumberFormatter.m:
	Modified to store new/extra ivars via the _reserved pointer so that
	NSNumberFormatter can be safely subclassed by code outside the
	library.

2011-02-13  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Moved 10.4+ functionality to a subclass.

2011-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: NSFullUserName() ... use short name if
	no long one is available.

2011-02-13  Philippe Roussel <p.o.roussel@free.fr>

	* Source/NSPointerArray.m: replace memcpy with memmove for safety.

2011-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSObject+GNUstepBase.m:
	Use more runtime functions directly.  Standardise exception formats.
	* Source/ObjectiveC2/runtime.c: Fix some cases of dereferencing null
	pointers.

2011-02-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Obtain NSZombie class pointer using
	objc_lookUpClass() to avoid the use of NSString inside the NSObject
	initialize method. Re-order code for safety. Add lots of comments.

2011-02-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/GSPrivate.h:
	* Source/NSNotificationCenter.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSThread.m:
	* Source/NSSerializer.m:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Update with new GS_CONSUMED macro to try to avoid static analyzer
	false positives.

2011-02-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLocale.m: fix memory leak
	* Source/NSThread.m:
	* Source/NSNotificationCenter.m:
	* Source/NSPortCoder.m:
	* Source/NSSerializer.m:
	* Source/NSUserDefaults.m:
	* Source/GSPrivate.h:
	* Source/Additions/NSObject+GNUstepBase.m:
	Add code to try to prevent clang static analyser false warnings.

2011-02-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/NSObject.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	Remove (unused) code for cleanup at program exit. Let's think of a
	better way (eg runtime support to call a +atExit method).

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Avoid some unnecessary locking.
	I think this completes recommitting of all the changes made with
	bugfixes to get them all to at least compile/link on my centos and
	windowsxp systems and to pass the testsuite on centos.

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h: Fixed the new GS_BEGINITEMBUF()
	code ... was causing hard-to-track-down memory corruption which
	unfortunately didn't show up in the testsuite (or I'd not have
	re-comitted this code in the first place).

2_011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m: Recommit
	Reviewed and tested.
	* Source/NAutoreleasePool.m: Make +initialize do nothing so that it
	won't interfere with anythign else when called by [NSObject+initialize]

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLocale.m: Recommit
	* Source/NSUnarchiver.m: Recommit
	I have now test these two and recommited them as working.
	* Source/NSPropertyList.m: Revert
	These was quietly modified/broken since my last commit ...
	reverting to the previous tested/working version.

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: Recommit fixed version
	* Source/GSICUString.h: Formatting fixups
	* Source/GSICUString.m: Recommit
	* Source/NSAttributedString.m: Recommit
	* Source/NSData.m: Recommit
	* Source/NSMethodSignature.m: Recommit

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Recommit with modification fixed and tested.
	* Source/NSOperation.m: new tweak to avoid compiler warning.
	* Source/GSPrivate.h: Recommit most recent version after testing.

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	Revert everything back from boken code at 32071 to wrking code at 32051
	due to loads of commits of code which have been occurring to fast for
	anyone to review, and either don't compile or fail the testsuite.
	Lets go through things checking that they at least compile with gcc
	and pass the testsuite before we recommit them!

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSICUString.m:
	Fix leak spotted by static analyser.
	* Source/NSArray.m:
	Fix error in enumeration changes causing compile failure.

2011-02-11 12:06  David Chisnall <theraven@gna.org>

	* Source/GSPrivate.h: Added exception-safe version
	  of the GS_BEGINITEMBUF() macro. As a side effect, this should
	  silence the zero-sized VLA warnings in the static analyser.

	  Note: This macro is currently only used on GCC 4+ and clang. It
	  depends on __attribute__((cleanup)), which was introduced some
	  time in the 3.x series, but I'm not sure exactly when (3.2 / 3.3
	  I think), so someone who cares about gcc 3.x can tweak this if
	  they want (not sure if anyone does - I think most people use
	  2.95, 4.x, or clang).

2011-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m:
	* Source/NSString.m:
	* Source/NSPointerArray.m:
	* Source/NSAttributedString.m:
	* Source/Additions/GSXML.m:
	* Source/NSData.m:
	* Tools/AGSParser.m:
	Tweaks to try to avoid clang analyser warnings.
	* Source/NSPropertyList.m:
	Revert last change.
	* Source/NSObject.m:
	Rewrite zombie setup code to avoid crashes caused by latest change.

2011-02-11  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m: Avoid multiple memory copy operations.

2011-02-10 18:54  David Chisnall <theraven@gna.org>

	* trunk/config/config.joinable.m,
	  trunk/config/objc-common.g: Don't use Object in
	  configure tests (not present in GNUstep runtime).

2011-02-10 18:53  David Chisnall <theraven@gna.org>

	* Source/NSObject.m: Use NSClassFromString() to
	  look up NSZombie class. This has two advantages:

	  1) Doesn't rely on Apple-incompatible behaviour in the GCC
	  runtime that introduces fun heisenbugs.
	  2) Doesn't require constructing the dtable for NSZombie if we're
	  not actually using it.

2011-02-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSpellServer.m:  Avoid compiler warning.
	* Source/NSPathUtilities.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSURLProtocol.m:
	* Source/NSString.m:
	* Source/NSNumberFormatter.m:
	* Source/NSXMLParser.m:
	Fix memory leaks

2011-02-10 11:02  David Chisnall <theraven@gna.org>

	* Headers/Additions/GNUstepBase/GSMime.h,
	  Headers/Additions/GNUstepBase/GSVersionMacros.h,
	  Headers/Foundation/NSArchiver.h,
	  Headers/Foundation/NSAutoreleasePool.h,
	  Headers/Foundation/NSBundle.h,
	  Headers/Foundation/NSCache.h,
	  Headers/Foundation/NSComparisonPredicate.h,
	  Headers/Foundation/NSDateFormatter.h,
	  Headers/Foundation/NSDecimalNumber.h,
	  Headers/Foundation/NSDistributedLock.h,
	  Headers/Foundation/NSDistributedNotificationCenter.h,
	  Headers/Foundation/NSError.h,
	  Headers/Foundation/NSFileHandle.h,
	  Headers/Foundation/NSFileManager.h,
	  Headers/Foundation/NSHost.h,
	  Headers/Foundation/NSIndexPath.h,
	  Headers/Foundation/NSInvocation.h,
	  Headers/Foundation/NSKeyedArchiver.h,
	  Headers/Foundation/NSLocale.h,
	  Headers/Foundation/NSNumberFormatter.h,
	  Headers/Foundation/NSPort.h,
	  Headers/Foundation/NSPortCoder.h,
	  Headers/Foundation/NSPortMessage.h,
	  Headers/Foundation/NSPortNameServer.h,
	  Headers/Foundation/NSProtocolChecker.h,
	  Headers/Foundation/NSRegularExpression.h,
	  Headers/Foundation/NSScanner.h,
	  Headers/Foundation/NSSortDescriptor.h,
	  Headers/Foundation/NSTask.h,
	  Headers/Foundation/NSThread.h,
	  Headers/Foundation/NSTimer.h,
	  Headers/Foundation/NSUndoManager.h,
	  Headers/Foundation/NSUserDefaults.h,
	  Headers/Foundation/NSXMLNode.h,
	  Headers/Foundation/NSXMLParser.h: Add a
	  GS_PADDING_IVAR macro. This defines the void *gs_unused; instance
	  variable with __attribute__((unused)) on clang so that the static
	  analyser only reports unused ivars that we expect to be used.
	  This also makes it slightly easier to add the padding ivar to new
	  classes.

	  Note: The padding ivar has been added to NSRegularExpression.
	  This will break the ABI for anyone subclassing
	  NSRegularExpression, but hopefully that's no one (done before the
	  next release, to make sure that we don't break the ABI between
	  releases, only for people following -trunk).

2011-02-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
	* Source/NSPropertyList.m:
	* Source/NSUserDefaults.m:
	* Source/NSException.m:
	* Source/NSURL.m:
	* Source/NSDecimalNumber.m:
	* Source/Additions/GSMime.m:
	* Source/GSFileHandle.m:
	* Source/NSNumberFormatter.m:
	* Tools/gdomap.c:
	* Tools/HTMLLinker.m:
	Fix a couple of minor/theoretical memory leaks and make other code
	alterations to try to avoid clang static analyser reporting some
	issues.
	* Source/GSPrivate.h:
	* Source/NSObject.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	New code to provide a single location to cache information which
	should exist for the lifetime of the process, and a function to
	clean it up on process exit.  Just a placeholder so far.

2011-02-09  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSTimeZone.m: ([-daylightSavingTimeOffsetForDate:]) Implement.

2011-02-09  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSTimeZone.m: ([-localizedName:locale:]) Implemented method.

2011-02-09  Stefan Bidigaray <stefanbidi@gmail.com>

	* configure:
	* configure.ac:
	* Headers/Additions/GNUstepBase/config.h.in:
	* Source/NSDateFormatter.m: ([-dateFormatFromTemplate:options:locale:])
	Fix completely broken method using unicode/udatpg.h.

2011-02-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLocale.m: Fix  canonical identifiers to return the input
	string if no other value is found.  Refrain from putting nil locale
	identifier in dictionary.  Fix leak of components dictionary when
	returning an existing locale by id.

2011-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcretePointerFunctions.m: objects with weak memory should
	not be retained.

2011-02-03  Philippe Roussel <p.o.roussel@free.fr>

	* Source/NSPropertyList.m: Fix memory leaks.

2011-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSNetServices.h:
	* Source/GSMDNSNetServices.m:
	* Headers/Foundation/NSNetServices.h:
	Tweaks to get MDNS code to compile again.

2011-02-02  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m: ([-doesRelativeDateFormatting])
	([-setDoesRelativeDateFormatting:]) Implemented methods.

2011-02-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPointerArray.m: ([-allObjects]) implement missing method.

2011-01-29  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSCalendar.m: Handle current calendar updates.

2011-01-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Fix bug with notifications ... was not always
	sending them when a domain was modified.

2011-01-29  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSLocale.h: Use GS_EXPOSE(NSLocale).
	* Source/NSLocale.m: ([-autoupdatingCurrentLocale]) Handle locale
	updates.
	([-currentLocale]) Check Locale default for current user's locale.
	([-preferredLanguages]) Do not add same language multiple times.

2011-01-28  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Fixed errors found by test suite.

2011-01-27  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSCalendar.m: Add -isEqual:.

2011-01-27  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSCalendar.m: Open UCalendar before use.

2011-01-27  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Set some sensible defaults.

2011-01-26  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Add currency code to locale identifier, if present.
	* Source/NSDateFormatter.m: Fix crash on dealloc because of autoreleased
	object.

2011-01-26  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Minor memory mgt fixes.

2011-01-24  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Fixes for formatter behavior.

2011-01-24  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m: Check ICU presence in private function.

2011-01-23  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSDateFormatter.h:
	* Source/NSDateFormatter.m: Redo the calendar code.

2011-01-23  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSDateFormatter.h:
	* Source/NSDateFormatter.m: Add calendar.
	* Source/NSNumberFormatter.m: Compile again.

2011-01-23  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m:
	* Source/NSNumberFormatter.m:
	* Source/NSCalendar.m: Remove use of OS_API_VERSION() in .m files.

2011-01-23 15:42  David Chisnall <theraven@gna.org>

	* Source/NSNumberFormatter.m: Some small fixes in
	  NSNumberFormatter. Mostly stop using == to compare C strings.

2011-01-23  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m: Initialize UDateFormat before using it.
	* Source/NSCalendar.m: Implement -components:fromDate:.

2011-01-23  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSDateFormatter.m: Implemented a few more methods.

2011-01-22  Stefan Bidigaray <stefanbidi@gmail.com>

	* configure:
	* configure.ac:
	* Headers/Additions/GNUstepBase/config.h.in: Added check for
	unicode/udat.h.
	* Headers/Foundation/NSDateFormatter.h:
	* Source/NSDateFormatter.m: Implemented a few methods.

2011-01-22  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSDateFormatter.h:
	* Source/NSDateFormatter.m: Added stub for 10.4 and above methods.

2011-01-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Add support for GlobalDefaults directory
	* Source/NSUserDefaults.m: Document GlobalDefaults directory
	* Documentation/Base.gsdoc: Document GlobalDefaults directory
	Implement suggestion by David Chisnall.
	New GlobalDefaults directory support ... if there are .plist files
	in this subdirectory, merge them in before merging in the contents		of the GlobalDefaults.plist file.
	Deprecate use of the old GNUSTEP_EXTRA config file entry.

2011-01-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Fix to cope with NSXMLParser reporting
	whitespace as character data.

2011-01-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: For OSX compatibility we now quote strings
	in property lists of they contain non-alphanumerics.  We also warn
	when we parse a dictionary with a missing semicolon at the end.
	* Source/NSXMLParser.m: For OSX compatibility we report all character
	data as characters and never as ignorable whitespace, though this
	seems perverse.
	Implement insertion of default attribute values into elements if we
	have parsed an !ATTLIST which defines them.

2011-01-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFormat.m: Print '(null)' rather than '(nil)' for a nil
	object as this seems to be what OSX does now.
	* Source/NSXMLParser.m: Implement partial support for declarations.

2011-01-12  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Implemented more methods.
	([-stringForObjectValue:]): Add code for NSNumberFormatterBehavior10_4.

2011-01-11  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Removed NSLog used for debugging.
	* Source/NSNumberFormatter.m: Fixed decimal separator behavior
	for OS X > 10.4.

2011-01-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: ([-stringByStandardizingPath]) Fix bug when
	dealing with three or more separators at the start of a path ...
	should condense them to a single separator.  Thanks to Robert Slover
	for pointing this out.

2011-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate

2011-01-09  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSNumberFormatter.m: Implemented a few more methods.
	* Source/NSLocale.m: Added code requiring NSNumberFormatter code.

2011-01-09  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Additions/GNUstepBase/config.h.in:
	* Headers/Foundation/NSNumberFormatter.h:
	* Source/NSNumberFormatter.m: Started adding code for new methods.

2011-01-08  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Fixed a few bugs exposed by testsuite.

2011-01-07  Stefan Bidigaray <stefanbidi@gmail.com>

	* configure:
	* configure.ac: Added check for unicode/unum.h.
	* Headers/Foundation/NSNumberFormatter.h:
	* Source/NSNumberFormatter.m: Added stub for 10.4+ methods.

2011-01-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Make zombie log message match current OSX.
	* Source/NSURL.m: Fix -resourceSpecifier by removing incorrect
	special handling for file URLs.
	* Source/NSXMLParser.m: Maketolerant of whitespace around the '='
	in an attribute.  Fix check for xml header being at start of doc.

2011-01-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSObject.m (GSAtomicIncrement, GSAtomicDecrement): MIPS64
	specific adjustment of atomic functions for mips.
	Patch by Sebastian Reitenbach <sebastia@l00-bugdead-prods.de>.

2011-01-01 Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSCalendar.h:
	* Source/NSCalendar.m: Added NSCoding and NSCopying.
	* Source/NSLocale.m: Implement -isEqual: and do a better job of copying.

2011-01-01 Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSCalendar.h:
	* Source/NSLocale.m: Minor fixes.
	* Source/NSCalendar.m: Implemented +currentCalendar.

2011-01-01 Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Fixed typos found by testsuite.

2010-12-31 Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSCalendar.m: Implemented -dateByAddingComponents:toDate:options:
	and -dateFromComponents:.

2010-12-31 Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSCalendar.h:
	* Source/NSCalendar.m: Added iOS 4.0 and later methods
	to NSDateComponents.

2010-12-31 Stefan Bidigaray <stefanbidi@gmail.com>

	* Resources/GNUmakefile:
	* Resources/Languages/Locale.canonical: Added mapping to go from long
	locale identifiers to the shorter identifiers used by ICU.
	* Source/NSLocale.m: Implemented -canonical* and -preferredLanaguges
	methods.

2010-12-31 14:03  David Chisnall <theraven@gna.org>

	* Headers/Foundation/NSBundle.h: Add __attribute__
	  ((format_arg)) to [NSBundle -localizedStringForKey:value:table:].
	  This informs the compiler that the output can be used anywhere
	  that the first argument can be used, and should silence all of
	  the non-constant format string warnings that we get anywhere that
	  _(@"foo") or similar is used.

2010-12-27  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/GSString.m ([GSCString -encodeWithCoder:]): Explicitly
	encode NSStringEncoding variables as 'int' so that we can
	read/write archives across compiler versions.  "enum
	_NSStringEncoding" is an unsigned int, but GCC <= 4.5 incorrectly
	encodes all enums, regardless of the actual integer type they
	represent, as a signed int.
	([GSMutableString -encodeWithCoder:]): Same change.
	([GSUnicodeString -encodeWithCoder:]): Same change.
	* Source/NSString.m ([NSString -encodeWithCoder:]): Same change.
	([NSString -initWithCoder:]): Same change.

2010-12-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/NSCalendarDate.m:
	* Source/NSDate.m:
	* Source/NSProcessInfo.m:
	* Source/NSRunLoop.m:
	Change GSTimeNow() to GSPrivateTimeNow() to indicate scope of function.
	* Source/NSThread.m:
	Remove duplicate declaration of obbjc thread callback.
	* Source/NSXMLParser.m:
	Try to duplicate OSX behavior in handling start of document.

2010-12-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
	([-stringByReplacingCharactersInRange:withString:]) fix memory leak.
	([-stringByReplacingOccurrencesOfString:withString:options:range:])
	ditto.

2010-12-25  Quentin Mathe <quentin.mathe@gmail.com>

	Improved autogsdoc to output symbols such as methods in their header
	declaration order along the gsdoc files.
	Useful for third-party tools that want to generate final documentation
	from the GSDoc ouput and how the original headers were organized.
	* Tools/autogsdoc.m:
	Added OrderedSymbolDeclarations.plist file output and cleaning.
	* Tools/AGSParser.h:
	* Tools/AGSParser.m:
	Added orderedSymbolDecls ivar.
	(-addOrderedSymbolDeclaration:toUnit:,
	-orderedSymbolDeclarationsByUnit): Added.
	(-parseMethodsAsDeclarations:): Modified to call
	-addOrderedSymbolDeclaration:toUnit:.

2010-12-25  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Foundation/NSString.h:
	* Source/NSString.m:
	Added -stringByReplacingCharactersInRange:withString: (Mac OS 10.5
	method).

2010-12-25 12:13-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Tools/pl2link.m: Changes to better integrate with the GNOME
	desktop.  Removed dummy version number.  Added code to
	find the correct locations of the application and it's icon.

2010-12-24  Nicola Pero <nicola.pero@meta-innovation.com>

	* Headers/Foundation/NSPropertList.h: Forward-declare the NSError
	class if appropriate.

2010-12-24  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSObject.m ([+conformsToProtocol:]): Use the new code
	only if __GNU_LIBOBJC__ is defined.
	* Source/Additions/GSObjCRuntime.m (GSTypesFromSelector): Updated
	usage of Modern typed selector API with __GNU_LIBOBJC__.
	* Source/GSFFIInvocation.m (gs_find_best_typed_sel): Same.
	(gs_objc_msg_forward2): Same.
	(GSFFIInvocationCallback): Same.

2010-12-24  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSObject.m ([+conformsToProtocol:]): Fixed to iterate
	over superclasses.  Just calling class_conformsToProtcol() is not
	enough as class_conformsToProtocol() does not iterate over
	superclasses.
	([-conformsToProtocol:]): Updated.

2010-12-23  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Check for objc_setUncaughtExceptionHandler().
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerated.
	* config/config..setUncaughtExceptionHandler.m: New.
	* Source/Additions/GSObjCRuntime.m (GSTypesFromSelector): Use
	sel_getType, not sel_getType_np, if __GNU_LIBOBJC__.
	(GSSelectorFromNameAndTypes): Use sel_registerTypedName, not
	sel_registerTypedName_np, if __GNU_LIBOBJC__.
	* Source/objc-load.h: Do not include objc-api.h.
	* Source/NSBundle.m (_bundle_load_callback): Use the new API to
	iterate over classes when __GNU_LIBOBJC__.
	* Source/NSConnection.m ([NSConnection
	-forwardInvocation:forProxy:]): Use sel_registerTypedName, not
	sel_registerTypedName_np, if __GNU_LIBOBJC__.
	* Source/NSData.m ([NSData
	-deserializeDataAt:ofObjCType:atCursor:context:]): Use
	sel_registerTypedName, not sel_registerTypedName_np, if
	__GNU_LIBOBJC__.  Use sel_registerName, not
	sel_registerTypedName_np, if the type is 0.
	([NSDataStatic -deserializeDataAt:ofObjCType:atCursor:context:]):
	Use sel_registerTypedName, not sel_registerTypedName_np, if
	__GNU_LIBOBJC__.
	* Source/NSDistributedNotificationCenter.m
	([NSDistributedNotificationCenter
	-postNotificationName:object:userInfo:selector:to:]):
	Use sel_registerTypedName, not sel_registerTypedName_np, if
	__GNU_LIBOBJC__.
	* Source/NSException.m: Include <objc/objc-exception.h> if
	HAVE_SET_UNCAUGHT_EXCEPTION_HANDLER.
	([NSException +initialize]): Use objc_setUncaughtExceptionHandler
	if HAVE_SET_UNCAUGHT_EXCEPTION_HANDLER.
	* Source/NSMethodSignature.m: Do not include objc/encoding.h when
	__GNU_LIBOBJC__.
	* Source/NSObject.m ([NSObject -methodSignatureForSelector:]): Use
	method_getTypeEncoding instead of accessing directly the 'types'
	field.
	([NSObject +poseAsClass:]): Always throw an exception since
	class_pose_as is now deprecated or unavailable in most Objective-C
	runtimes.  If you need pose-as, and your runtime supports it, call
	class_pose_as directly.
	([NSObject -error:]): Use vprintf and abort directly instead of
	trying to call objc_verror.
	* Source/NSThread.m: Define objc_thread_callback if we are later
	using it.
	* Source/objc-load.m: Never include objc-api.h or objc-list.h.
	(GSPrivateLoadModule): Removed 'dynamic_handles' variable, no
	longer used. Do not call __objc_resolve_class_links if
	__GNU_LIBOBJC__.
	* Source/GSFFIInvocation.m: Include <objc/message.h> when
	__GNU_LIBOBJC__.
	(gs_find_best_typed_sel): Use sel_getType instead of
	sel_getType_np if __GNU_LIBOBJC__.
	(gs_objc_msg_forward2): Same change.
	(GSFFIInvocationCallback): Same change.

	* Source/NSValue.m ([NSValue +valueFromString:]): Added missing
	return for NSRange values.

2010-12-22  Nicola Pero <nicola.pero@meta-innovation.co>

	* Headers/Additions/GNUstepBase/preface.h.in: When using the new
	GNU Objective-C Runtime library, include <objc/runtime.h> instead
	of <objc/objc-api.h> and <objc/encoding.h>.
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h: When
	OBJC2RUNTIME, do not include <objc/objc-api.h>.
	* Headers/Additions/GNUstepBase/GSVersionMacros.h: Added FIXME.

2010-12-22  Nicola Pero <nicola.pero@meta-innovation.com>

	* config/objc-common.g: Include the correct headers to use the new
	API if using the GNU Objective-C Runtime library from GCC 4.6.

2010-12-22  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac (objc_thread_add): Check removed.
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerated.
	* Source/NSThread.m (objc_thread_add): Unused static function removed.

2010-12-22  Adam Fedor  <fedor@gnu.org>

	* Headers/Foundation/NSCalendar.h: Add NSCopying protocol
	* Source/NSCalendar.m: Retain ivar. Add copyWithZone:
	* Source/NSURL.m (-resourceSpecifier): Separate behavior for
	file scheme vs other schemes.

2010-12-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendar.m: Fix to build with ICU 4.0
	* configure.ac: Permit ICU version as old as 4.0
	* configure: regenerate

2010-12-16  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSCalendar.m: Added code for -maximumRangeOfUnit: and
	-minimumRangeofUnit:.

2010-12-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRegularExpression.m: Move towards coding standards compliance
	* Source/GSICUString.m: ditto

2010-12-16  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Remove redundant/incorrect define of HAVE_ICU.
	Require ICU version 4.6 or later.
	Add comments describing how external dependencies are handled.
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	* config.mak.in: Update for consistency
	* base.make.in: ditto
	* Headers/Additions/GNUstepBase/GSConfig.h.in: ditto
	* Source/GSHTTPURLHandle.m: Improve debug logging a little
	* Source/NSXMLParser.m: Improve error handling. Use sloppy parser.
	* Source/NSRegularExpression.m: Use GS_USE_ICU and nnever HAVE_ICU
	* Source/NSCalendar.m: ditto
	* Source/NSLocale.m: ditto
	* Source/GSICUString.m: ditto

2010-12-15  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/GNUmakefile: Install NSCalendar.h.
	* Headers/Foundation/NSCalendar.h:
	* Source/NSCalendar.m: Started adding code to NSCalendar.

2010-12-15  Stefan Bidigaray <stefanbidi@gmail.com>

	* configure: Regenerate.
	* Headers/Additions/GNUstepBase/config.h.in: Update for unicode/ucal.h.
	* Headers/Foundation/NSLocale.h: Added NSLocaleCalendarIdentifier key.
	* Source/NSLocale.m: Added handling of locale keywords and a few other
	minor changes.

2010-12-14  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Added NSCalendar dependent code.

2010-12-14  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/Foundation.h:
	* Source/GNUmakefile: Include NSCalendar.
	* configure.ac: Check for unicode/ucal.h.
	* Headers/Foundation/NSCalendar.h:
	* Source/NSCalendar.m: Add completely empty NSCalendar and
	NSDateCompoennts classes.

2010-12-14  Stefan Bidigaray <stefanbidi@gmail.com>

	* Source/NSLocale.m: Initialize _components before using it and initilize
	allLocales class variable in +initialize.  Also stop adding blank entries
	to _components dictionary.

2010-12-12  Stefan Bidigaray <stefanbidi@gmail.com>

	* Headers/Foundation/NSLocale.h: Added missing constant.
	* Source/NSLocale.m: Implemented more functionality.

2010-12-06  Riccardo Mottola

	* Source/NSPathUtilities.m:
	Make the Desktop directory relative to the user home.

2010-12-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix possible memory corruption when asked
	to base64 decode corrupt data with too many '=' characters.

2010-12-02  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSRegularExpression.m: Add a guard so this file isn't compiled
	if the ICU version is older than 4.4.

2010-11-29  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSPropertyList.h,
	* Source/NSPropertyList.m: Add a few OSX 10.6 methods.

2010-11-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Remove unnecessary include of Foundation.h
	* Source/Additions/GCDictionary.m: ditto
	* Source/Additions/GCObject.m: ditto
	* Source/Additions/GCArray.m: ditto
	* Source/Additions/GSXML.m: ditto
	* Source/Additions/GSFunctions.m: ditto
	* Source/Additions/GSObjCRuntime.m: ditto
	* Headers/Foundation/Foundation.h.install: obsolete file ... removed
	* Source/Makefile.postamble: Don't install obsolete Foundation.h.install
	header ... we no longer include Foundation.h anywhere so there's no
	need to protect against getting the installed version.

2010-11-19  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSRegularExpression.m: Rearrange for non-C99 compliant
        compilers.

2010-11-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: Fixup use of preprocessor constants.

2010-11-17  Eric Wasylishen

	* Source/NSPredicate.m: Implement MATCHES and LIKE using ICU
	* configure.ac: Check for unicode/uregex.h in ICU checks

2010-11-13  Riccardo Mottola

	* Source/NSPathUtilities.m:
	Make NSDownloadDirectory and NSDocumentDIrectory relative to the
	user home and for the user domain only. Behaviour checked on the Mac.

2010-11-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSIndex.m: ([-setUnitRef:type:]) Fix incorrect special
	handling of category methods.

2010-11-02  Larry Campbell <lcampbel@akamai.com>

	* Tools/make_strings/make_strings.m: Fix line missed in last patch.
	* Source/NSPropertyList.m: Fixes for date serialization byte swaps.

2010-10-31  Larry Campbell <lcampbel@akamai.com>

	* Tools/make_strings/make_strings.m: Permits tool to take nil as the
	table name argument in NSLocalizedStringFromTable and
	NSLocalizedStringFromTableInBundle (as does the corresponding OSX
	utility, genstrings).

2010-10-30  German Arias <german@xelalug.org>

	* Documentation/GNUmakefile: Changes in some files names to
	correspond with the files provided in the Documentation directory.

2010-10-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSMime.h
	* Source/Additions/GSMime.m: Add support for delivery receipts.
	* Source/NSURLConnection.m: Fix simple leak in
	([+sendSynchronousRequest:returningResponse:error:])

2010-10-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m: Revert David's last change ,which caused
	crashes by dereferencing a null pointer, even though I had put a
	comment in the code warning that the pointer could be null!

2010-10-27  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Fix definition of HAVE_ICU
	* configure:
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Headers/Additions/GNUstepBase/GSMime.h
	* Source/Additions/GSMime.m: wrap long lines
	* Source/NSLocale.m: Use HAVE_ICU

2010-10-26 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSLocale.m: Fix -displayNameForKey:value: to interact properly
	with libicu for some common cases.

2010-10-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/GNUmakefile:
	Do not set -march=i686 when on an x86 system as it breaks compilation
	for other cpu types.

2010-10-19  Jonathan Gillaspie  <jonathan.gillaspie@testplant.com>

	* Source/Additions/NSError+GNUstepBase.m: Prevent SegFault when
	FormatMessageW doesn't return a string on Windows.

2010-10-19  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSURL.m (-absoluteURL): Fix test for an absolute URL,
	which got things backward.

2010-10-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: When making a relative file URL copy the host from
	the base URL for OSX compatibility.

2010-10-16 16:53-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* config/objc-common.g: Correct test.  The previous version didn't
	include the { and the } in the ivar section.  This is not correct.
	* Source/ObjectiveC2/sync.m: Correct license text.

2010-10-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Match OSX behavior with file scheme URLS (treat
	them like http/https rather than accorinding to the RFCs).

2010-10-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: If we receive an attribute name with no
	corresponding value, assume it's a minimised attribute in html ...
	and we should set the value to be the same as the name.

2010-10-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: Add support for arbitrary struct
	get/set since OSX has it at last (not just well-known structs).

2010-10-12 David Chisnall <theraven@gna.org>

	* Source/Additions/GSObjCRuntime.m:
	Add special case to KVC accessors for libobjc2: If there is a method
	with the wrong types, try calling the method with the correct types.
	This enables the TDD-fixup code to run and generate a KVC-compliant
	version of an existing method.

2010-10-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Exactly match the percent escaping used by OSX.

2010-10-08  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSAvahiRunLoopIntegration.m: Fix some bugs:
	 - Remove an extra retain of the NSTimer which was leaking memory.
	 - When passed a NULL struct timeval * from avahi, invalidate
	 the timer and don't schedule a new one.

2010-10-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: Add simple implementation of
	evalutedObjectExpression

2010-10-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: Revert to the working version
	from the last release.
	Can't see a changelog for the last change, I guess some local
	hack was accidentally committed... it broke KVC, which showed up
	when the testsuite was run.

2010-10-01  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GNUmakefile: Remove reference to non-existent behavior.h
        * Source/Makefile.postamble: Don't make circular dependency on
        common.h

2010-10-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
	* Source/NSSocketPort.m:
	* Source/NSMessagePort.m:
	* Source/win32/GSFileHandle.m:
	* Source/GSNetwork.h:
	* Source/GSFileHandle.m:
	Standardise the backlog parameter to listen() calls.

2010-10-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Fix for bug #31153 ... allow hash in path when
	initialising.
	* Source/NSURLProtocol.m: Fix thread related crash with deallocation
	of placeholder object.

2010-09-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	Increase the backlog for the listen() call to allow more incoming
	network connections.

2010-09-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m: Remove excess release pointed out by
	Sergey Golovin (bug 31168)

2010-09-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: restore standardisation of header name
	lost in last optimisation.  Fixes bug #31166

2010-09-28  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/objc-load.m: Don't include objc-list with libobjc2

2010-09-28  Eric Wasylishen  <ewasylishen@gmail.com>

	* Source/GSFFIInvocation.m: Remove dead code
	(gs_find_by_receiver_best_typed_sel was static inline and never
	called anywhere)

2010-09-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: implement lowercaseString and uppercaseString
	for improved performance.
	* Source/Additions/GSMime.m: optimise header searches

2010-09-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimer.m: ([-fire]) make firing more robust by retaining
	the target so it cannot be deallocated while we are performing a
	method on it.  Do nothing if timer is already invalidated.

2010-09-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSet.m: Build using the faster but more memory
	hungry implementation.  Add comments to say why we are doing so.

2010-09-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/ObjectiveC2/runtime.c (method_getImplementation,
	method_getName): Fix unchecked pointer dereferences, which could
	cause crashes when attempting to invoke a selector which is not
	implemented by the target.

2010-09-19  Quentin Mathe <quentin.mathe@gmail.com>

	* Headers/Additions/GNUstepBase/preface.h.in:
	Added standard C headers included by CoreFoundation.h.

2010-09-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSBundle.m (+bundleForLibrary:version:): Use proper
	suffix for dynamic libraries on Darwin (.dylib instead of .so).

	* Source/NSTask.m (-launch): Use fork instead of vfork on Darwin,
	since setsid will fail while the child process is in the vfork.

2010-09-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSObject.m (-methodSignatureForSelector:): Fix bug were
	this method would return an incorrect result or crash when asking
	a class object for the signature of one of its class methods.

2010-09-15  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/GSSocketStream.m:
	* Source/NSPortCoder.m:
	* Source/NSSocketPort.m:
	* Source/NSAttributedString.m:
	* Source/NSKeyValueMutableSet.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSUnarchiver.m:
	* Source/GSAttributedString.m:
	* Source/NSKeyValueMutableArray.m:
	* Source/NSXMLParser.m: Fix more unsigned int / ints that should
	be NSUInteger/NSInteger

2010-09-15  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/objc-load.m: Don't compile the dynamic_handles code with
	libobjc2.
	Note that this appears to be dead code anyway, so maybe it should
	be removed altogether?

2010-09-15  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSMessagePort.m:
	* Source/NSFileManager.m:
	* Source/NSCharacterSet.m: Fix some method type mismatches.
	Generally when a private subclass overrides a public method
	taking a NSUInteger with a method taking an "unsigned" parameter.

2010-09-12  Riccardo Mottola

	* Source/GSAttributedString.m: Removed dead assignments and unused variable attrs.
	* Source/GSFormant.m: Removed useless len recalculation.

2010-09-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSConcreteValueTemplate.m:
	* Source/NSSocketPort.m:
	* Source/NSSortDescriptor.m:
	* Source/NSMessagePort.m:
	* Source/GSAttributedString.m:
	* Source/NSNumber.m:
	* Source/GSString.m:
	* Source/NSHost.m:
	* Source/NSDate.m:
	* Source/GSValue.m:
	Fix return types.

2010-09-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPort.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/NSPort.m:
	* Source/NSMessagePort.m:
	* Source/win32/GSRunLoopCtxt.m:
	Remove redundant check for responding to getFds:count: since it's
	always true.  Fix usage of method to correspond to prototype
	(NSInteger arguments rather than int arguments).
	* Source/ObjectiveC2/runtime.c: Fix class_getMethodImplementation()
	and class_getMethodImplementation_stret() so that they don't cause
	a crash when used with proxies.
	* Source/NSKeyValueCoding.m:
	* Source/cifframe.m:
	* Source/Additions/GSLock.m:
	* Source/NSDate.m:
	Tweaks to avoid clang static analyser warnings.

2010-09-09  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSProtocolChecker.m: Replace a -[Protocol name] with
	protocol_getName()

2010-09-09  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSDistantObject.m: #ifdef to disable category
	on Object was forgotten around the interface

2010-09-09  Riccardo Mottola

	* Source/unix/GSRunLoopCtxt.m: only access array if port responds
	to selector, or it is not initialized
	* Source/NSDate.m:
	* Source/NSScanner.m: use init return value

2010-09-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix retain/release bugs spotted by clang.
	* Source/GSFFIInvocation.m: Revert one line in order to get lookup
	of types working again so that proxies can still be used.

2010-09-09  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check for dladdr without requiring -ldl
	* configure, Headers/Additions/GNUstepBase/config.h.in: Regen

2010-09-09  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/ObjectiveC2/runtime.c: fix a typo
	* Source/NSObject.m: c90 compatibliity

2010-09-09  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/ObjectiveC2/runtime.c:
	Change sel_getUid to call sel_registerName, in line with OS X
	behaviour since 10.0

2010-09-02 David Chisnall <theraven@gna.org>

	* Source/NSBundle.m
	* Source/NSMethodSignature.m
	* Source/NSDebug.m
	* Source/GSFFIInvocation.m
	* Source/GSPrivate.h
	* Source/NSInvocation.m
	* Source/NSCopyObject.m
	* Source/NSObject.m
	* Source/Additions/GSXML.m
	* Source/Additions/GSObjCRuntime.m
	* Source/NSConnection.m
	* Source/NSObjCRuntime.m
	* Source/NSProxy.m
	* Source/NSProtocolChecker.m
	* Source/NSSerializer.m
	* Source/NSDistantObject.m
	* Headers/Foundation/NSInvocation.h
	* Headers/Additions/GNUstepBase/DistributedObjects.h

	A huge blob of changes to make -base build with libobjc2, without
	using the old libobjc2 headers.

	Most of these changes involve simply removing direct manipulation
	of any runtime structures and replacing them with runtime function
	calls.  For example class->name becomes class_getName(class) and so on.

	libobjc2, like the Apple runtime, the NeXT runtime, and every
	version of the Objective-C spec, calls the class pointer in id isa.
	A few files now have #define class_pointer isa at the top.
	This line replaces class_pointer in the old GNU libobjc headers
	with isa so either class_pointer or isa can be used for accessing
	the class of an object.  Note: object_getClass() should be used
	in most cases because, in some future version of the runtime,
	this will skip things like lock classes and other hidden classes
	(e.g. KVO classes).

	All of the old forwarding stuff has been removed.  Most of this
	stuff followed convoluted code paths that ended with an exception.
	A few simply broke in exciting ways.  Hopefully no one has used
	them for the last ten years or so, but we can bring them back
	with some #ifndef stuff if they're really needed by anyone.

	There is currently a bug in configure, which prevents dladdr() from
	being detected, so you need to manually tweak config.h to build -
	I have not fixed the fall-back code in objc-load.m to work with
	libobjc2, I just added a new version that uses the loader's
	functionality directly.

	Although -base now builds, it builds with a lot of warnings.
	<string.h> is missing from a lot of files, so memcpy() and strlen()
	generate implicit function declaration warnings.

	Additionally, libobjc2 does still provide the sel_{get,register}_*()
	functions, but they're wrappers around the newer API ones.  These are
	deprecated and are not exposed in the headers.  Although they work,
	we should be replacing them with the libobjc2 versions as soon as
	possible.

	This incorporates a patch by Eric.

2010-09-08  Eric Wasylishen <ewasylishen@gmail.com>

	* Source/ObjectiveC2/runtime.h:
	* Source/ObjectiveC2/runtime.m:
	Implement protocol_copyMethodDescriptionList, protocol_copyProtocolList,
	protocol_getMethodDescription, as well as a dummy version of
	objc_copyProtocolList.
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Source/Additions/GSObjCRuntime.m:
	Implement a convenience method, GSProtocolGetMethodDescriptionRecursive

2010-09-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h:
	* Source/NSObject.m:
	Remove old TypedStream methods
	* Source/NSFileManager.m:
	Warn if filesystem support is not available.

2010-09-07 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Additions/GNUstepBase/preface.h.in: Remove include of
	objc/sarray.h

2010-09-04 Niels Grewe <niels.grewe@halbordnung.de>

	* config/config.non-fragile-ivars.m: Remove useless include of
	objc-common.g (__has_feature is a built-in clang macro).

2010-09-02 David Chisnall <theraven@gna.org>

	* Source/NSObject.m

	Improve the efficiency of NSObject's methodSignatureForSelector by:

	- Moving the linear search over all of the method lists in the class hierarchy to the end.  If we found the type info in the protocol list, we were throwing this info away.  Doing something expensive and then discarding the result is generally not a good idea.

	- Replacing the linear search of the method lists with a dtable lookup on libobjc2.  The type info for methods is part of the slot, so we only need to do the expensive search at all on the old runtime.  With libobjc2, type info lookup costs as little as IMP lookup, so doing things the slow way is not required.

2010-08-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/cvtenc.m: Add -Unicode option.  Fix to allow reading from stdin
	* Tools/cvtenc.1: update

2010-08-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: try to make inter-thread notification via
	pipe more robust.
	* Source/NSTask.m: make windows thread waiting for task into an
	NSThread so that any thread-dependent code can work.

2010-08-25  Jonathan Gillaspie  <jonathan.gillaspie@testplant.com>

	* Source/Objective2/sync.m:  Removed weak declarations

2010-08-24  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSFileHandle.m (-initWithStandardError,
	-initWithStandardInput, -initWithStandardOutput): Restore lost
	assignments which ensure that only one file handle exists for each
	of the standard channels. This fixes a bug where a run loop might
	unexpectedly stop watching the standard channels.

2010-08-23  Riccardo Mottola (patch by Yavor Doganov)

	* configure.ac: Include pthread.h in check program
	* configure: Regenerate

2010-08-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c: Made objc_disposeClassPair() a no-op
	if the class pair is already registered .. to prevent it from causing
	crashes. Made objc_registerClassPair() log error if there is already
	a class of the name.
	* Source/ObjectiveC2/sync.m: Replace with Greg's implementation
	(reported as working though I haven't tested it).

2010-08-19  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check alignment of pthread types
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/GSConfig.h.in: Record alignment

2010-08-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m: Modifications to permit generation of NIBs that
	OSX can read again ... functionality was lost in recent rewrite.

2010-08-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m:
	* Source/NSDistantObject.m:
	Return nil from (methodSignatureForSelector:) if the selector is null.
	* Source/NSObjcRuntime.m:
	Register new selector as needed.

2010-08-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSNotificationQueue.m: remove_from_queue_no_release()
	Add assertions instead of existing hack when removing an item
	from a corrupted list.

2010-08-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationQueue.m: notify() .. buffer notifications
	and remove from list before posting them.
	Prevents re-entrancy problems where another call to notify() could
	post (and remove from the list) notifications.

2010-08-13  Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Foundation/NSLocale.h:
	* Headers/Foundation/NSUserDefaults.h:
	Fix typo (GSAPI_LAST -> GS_API_LATEST)

2010-08-12  Nicola Pero <nicola.pero@meta-innovation.com>

	* Resources/Languages/Locale.aliases: Added many languages which
	were missing from the list.  Data taken from
	gettext-0.18.1.1/gettext-tools/doc/ISO_639 and
	gettext-0.18.1.1/gettext-tools/doc/ISO_639-2.

2010-08-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: thread-safety fix.

2010-08-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/NSURLProtocol.m:
	* Source/GSAttributedString.m:
	* Source/ObjectiveC2/properties.m:
	* Source/NSProtocolChecker.m:
	* Source/NSDistantObject.m:
	* Tools/gdomap.c:
	Functionless changes to avoid compiler warnings reported by Fred.

2010-08-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix for %p AM/PM parsing to implicitly set
	us to use twelve hour clock.

2010-08-06 Doug Simons <doug.simons@testplant.com>

	* Source/NSCalendarDate.m: Fix to AM/PM parsing to recognize
	12 AM as midnight, not noon. When format calls for a time zone,
	return nil if no time zone is given (the same as Cocoa).

2010-07-31  Quentin Mathe <quentin.mathe@gmail.com>

	* Tools/AGSParser.h:
	* Tools/AGSParser.m:
	(-canWrapWithParagraphMarkup:, -generateParagraphMarkupForString:):
	Tweaked paragraph generation to ignore /n/n sequences inside <example>
	markup.
	(-parseDeclaration): Added enum documentation parsing.

2010-07-26  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Documentation/GNUmakefile (REF_DOC_INSTALL_DIR): Use
	GNUSTEP_DOC, not GNUSTEP_DOCUMENTATION, which has been deprecated
	for over 3 years.
	* Documentation/Makefile.postamble (after-uninstall): Rewritten to
	be more accurate.

2010-07-26  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSBundle.m ([+_addFrameworkFromClass:]): Added support
	for class lists of frameworks with a relative path.  If the
	framework path is relative, convert it to absolute by prepending
	the launch directory to it, since that must be how the dynamic
	linker located the framework to load it.

2010-07-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Change to use ([-isKindOfClass:]) in a couple
	of places. Revert David's last change entirely ... in the svn log
	he said: 'Do the same stupid thing Apple does (return NO), rather
	than the stupid thing we were doing (segfault), when passing a proxy
	as the argument to [NSString isEqualToString:]', but this comment
	seems to be almost entirely wrong as:
	1. we don't segfault (on my machines ... perhaps we do on other
	systems but if so we should find the underlying bug and fix it)
	2. Apple (OSX Snow Leopard) doesn't behave that way ... the testsuite
	(NSProxy test00.m) shows it behaving the saem way as GNUstep.
	3. The change also broke string subclasses (bug #30511)

2010-07-19  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/ObjectiveC2/runtime.c:
	* Source/ObjectiveC2/runtime.h:
	Add sel_getType_np(), which just calls sel_get_type().

2010-07-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: User domain handling improvements.
	Match gnustep-make in allowing absolute paths to be specified for the
	user domain directories rather than always treating user domain paths
	as being within the user's home directory.
	Also, add support for simple field substitution into the path:
	'%u' --> user name
	'%i' --> user id
	'%%' --> '%'
	* Documentation/Base.gsdoc: Document the new behavior.

2010-07-19  Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Additions/GNUstepBase/GSConfig.h: Define GS_USE_ICU when
	  the configure script indicates libicu availablity.
	* Headers/Foundation/Foundation.h: Import NSLocale.h
	* Source/NSLocale.m: Change tests to use GS_USE_ICU.
	Make sure that the parts of NSLocale relying on ICU actually get built
	when libicu is available.

2010-07-17  Quentin Mathe <quentin.mathe@gmail.com>

	* Tools/autogsdoc.m:
	* Tools/AGSParser.m:
	Added the ability to generate paragraph markup. Turned off by default.
	For each paragraph break ('/n/n' sequence) and when no incompatible
	elements exist in the scanned paragraph, <p> tags can be automatically
	inserted (more explanations in -canWrapWithParagraphMarkup: doc).

2010-07-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSNetServices.h:
	* Source/GSAvahiClient.h:
	* Source/GSNetServices.h:
	* Source/GSAvahiNetService.m:
	Attempt to get ahavi code working without breaking ABI.

2010-07-13 Niels Grewe <niels.grewe@halbordnung.de>

	* Headers/Foundation/NSNetServices.h: Update to a version working with
	both mDNSResponder and Avahi.
	* Source/GSAvahiNetService.m: Fix leftover duplicate variables.
	* Source/GSNetServices.h: Revert to r30954, but add padding ivars to
	the Avahi classes.
	Make Avahi-NSNetServices work again.

2010-07-13 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/NSNetServices.m: Replace with the new version.
	* Source/GSNetServices.h: Add missing header.
	Add code missing from the previous patch.

2010-03-27 Niels Grewe <niels.grewe@halbordnung.de>

	* configure.ac: Add check for avahi-client.
	* configure: Regenerate
	* base.make.in: Add build-variables for Avahi.
	* Source/GNUmakefile: Add avahi-based NSNetServices to build
	* Source/GSAvahiRunLoopIntegration.h:
	* Source/GSAvahiRunLoopIntegration.m:
	* Source/GSAvahiClient.h:
	* Source/GSAvahiClient.m:
	* Source/GSAvahiNetService.m:
	* Source/GSAvahiNetServiceBrowser.m: Add avahi-based NSNetServices
	implementation
	* Source/GSMDNSNetServies.m: Move mDNS-implementation to this file
	* Source/GSNetServices.h: New private header for NSNetServices
	* Source/NSNetServices.m: Abstract superclasses
	* Headers/Foundation/NSNetServices.h: Adopt to new class structure
	* Headers/Additions/GNUstepBase/GSConfig.h.in: Add zeroconf related
	variables.
	* Header/Additions/GNUstepBase/Additions.h:
	* Headers/Additions/GNUstepBase/NSNetServices+GNUstepBase.h: Add header
	with extensions for the avahi-based NSNetService class.
	Implement NSNetService and NSNetServiceBrowser on top of the
	avahi-client API. Both classes are now abstract superclasses of the
	concrete implementations based on the mDNSResponder or avahi-client
	APIs. The API to be used can be configured with the
	--with-zeroconf-api=API (mdns, avahi, or any) configure-switch. If both
	APIs are available, the avahi API will be preferred.

2010-07-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Fix logic error in recnt mod.  Add some debug.

2010-07-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Addictions/NSError+GNUstepBase.m:
	Declare _XOPEN_SOURCE so that glibc gives us the correct version of
	the strerror_r function.

2010-01-07  Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GNUmakefile
	* Source/Makefile.postamble:
	Fix makefile to copy common.h into $GNUSTEP_TARGET_DIR so that it is
	found when building with a non-flattened namespace.

2010-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/CXXException.m: Fixup to get base to compile again.
	I think this API needs improving ... this should be an NSException
	subclass or category, and catching it should be transparent to the
	developer.

2010-06-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedUnarchiver.m: Workaround for buggy inttypes.h on older
	Solaris systems.

2010-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSet.m: Fix incorrect return value in NSMutableSet's
	-classForCoder method.

2010-06-28  Quentin Mathe <quentin.mathe@gmail.com>

	* Tools/autogsdoc.m: Improved to search for .m files among the
	command-line arguments in addition to the current directory and
	documentation directory.

2010-06-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Remove the Object(NSObjectCompat) category as the
	use of the Object class is *really* obsolete, and also there appears
	to be an objc runtime bug whaich adds the category methods to NSZombie
	even though NSZombie is not a subclass of Object.
	* Tools/gdomap.c: Avoid strange hang when trying to register on port 0

2010-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Implement keyed coding
	* Source/NSBundle.m: When fetching a localised resource for a specific
	language, ignore the language list in the user preferences, and just
	look for that language asn for unlocalised data.

2010-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	Implement NSInteger methods and add range checking when decoding.

2010-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLocale.m
	* Headers/Additions/GNUstepBase/config.h.in
	* config/icu.m4
	* configure.ac
	* configure
	* config.mak.in
	Autoconf support for ICU

2010-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/Foundation.h: add NSLocale
	* Headers/Foundation/NSLocale.h: rewrite/document
	* Source/GNUmakefile: add NSLocale
	* Source/NSLocale.m: fixup headers and disable temporarily (so that
	base will still build)

2010-06-25  Stef Bidi <stefanbidi@gmail.com>

	* Headers/Foundation/NSLocale.h
	* Source/NSLocale.m
	Partial NSLocale implementation wrapping ICU

2010-06-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: When looking up paths, if no extension is provided
	then try to obtain it from the name.  Mimics OSX behavior.

2010-06-22  David Wetzel <dave@turbocat.de>

	* Headers/Foundation/NSFileManager.h
	* Source/NSFileManager.m
	add attributesOfItemAtPath:error:

2010-06-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Include header for ObjC2 blocks support if the compiler had that.

2010-06-20  Richard Frith-Macdonald <rfm@gnu.org>

        * Version 1.21.1

2010-06-20  Richard Frith-Macdonald <rfm@gnu.org>

        * Version 1.20.1

2010-06-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Remove inappropriate warning (when library
	used without resources).

2010-06-16  Sergey Golovin

	* Source/NSTimeZone.m: find timezone from localtime file when it's
	a copy rather than a link to a file whose name is a timezone name.

2010-06-16  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: better control over constant string class
	* configure: regenerate
	Don't allow build if compiler doesn't let us set the constant string
	class ... unless explicitly overridden (add warning).
	Explicitly deprecate ffcall

2010-06-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSInvocation: For portability, use NSPageSize() to find
	size for page alignment.
	* Source/NSString.m: Raise exception on pul pointer passed to
	+stringWithCString:encoding: as per OSX.
	* Source/Additions/GSXML.m: Fix minor memory leak
	* Source/NSArray.m: ([-valueForKey:]) for for @count

2010-06-15 Riccardo Mottola

	* Source/NSInvocation:
	Protect page-aligned and unprotect before freeing.

2010-06-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Fix indirect through null pointer.

2010-06-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m: Fix breakage of +numberWith... in subclasses.

2010-06-12  Yavor Doganov

	* Source/NSZone.m:
	* Source/GSPThread.h:
	* Source/objc-load.h:
	* Source/objc-load.m:
	* Source/NSException.m:
	* Source/ObjectiveC2/sync.m:
	* Source/NSString.m:
	* Source/NSDecimalNumber.m:
	* Source/NSDecimal.m:
	* Source/NSLock.m:
	* configure.ac: Use autoconf AC_USE_SYSTEM_EXTENSIONS
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	Simplification of source code by using autoconf to enable extensions
	for Unix98 thread handling etc.

2010-06-11 Riccardo Mottola

	* Source/NSZone.m
	* Source/GSPThread.h
	* Source/NSLock.m
	* Source/ObjectiveC2/sync.m: Attempt of fixing test for defining
	_XOPEN_SOURCE again

2010-06-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPortNameServer.m: Improve automated gdomap startup log
	* configure.ac: Don't install gdomap setuid by default.
	* configure: regenerate

2010-06-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Raise exception if a null pointer is passed to
	+stringWithUTF8String: for compatibility with OSX.
	* Source/Additions/GSMime.m: Alter hash and isEqual implementations
	for headers and document so that copies are equal to the original
	and can be stored and looked up in maps.

2010-06-09  David Wetzel <dave@turbocat.de>

	* Source/Additions/GSXML.m:
	check for NULL string
	stringWithUTF8String: raises on OSX if you feed it with a NULL string.

2010-06-09  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for gcrypt library for TLS
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/GSConfig.h.in: Remove unused declaration
	* Source/NSProcessInfo.m: log and exit rather than raising exception on
	failure to call internal method to set up argv/envp.
	* Source/Additions/GSMime.m: Rewrite header parsing to avoid copying
	email body unnecessarily.  Also attempt to parse multipart body
	without copying too much.

2010-06-09  Yavor Doganov

	*Source/ObjectiveC2/sync.m: Fix test for defining _XOPEN_SOURCE

2010-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: When encoding OSX binary property list,
	try to differentiate between integer and float items which have the
	same numeric value (bug #30040).

2010-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m:
	Return nil for -path if initialised with empty string ... OSX compat.

2010-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m:
	Further fixup to earlier invocation breakage ... my previous attempt
	didn't cover all cases.

2010-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m:
	* Source/cifframe.h:
	* Source/cifframe.m:
	Removed distinction between GC and non-GC code.

2010-06-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInvocation.h:
	* Source/GSFFIInvocation.m:
	* Source/NSInvocation.m:
	* Source/cifframe.h:
	* Source/cifframe.m:
	Rework memory management for frame used in FFI invocation so that
	the memory has a retain count and multiple invocations can use the
	same frame since it looks like the way FFI works, if you cache the
	method implementation of a proxy, the same frame memory is re-used
	in multiple invocations.

2010-06-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m: Fix breakage caused by David's changes.
	* Source/ObjectiveC2/runtime.m: Fix handling of nul arguments in
	class_sespondsToSelector().

2010-06-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/Makefile.postamble: Fix breakage of instalation of gdomap
	(was installing setuid to wrong user ID!).

2010-06-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: revert change of order of sources for zone
	info since tzname does not appear to be more reliable than filename.
	Allof timezone to be specified as an abbreviation rather than a name.

2010-06-02  Nicola Pero  <nicola.pero@meta-innovation.com>

	* configure.ac: Added --disable-setuid-gdomap option to disable
	installing gdomap as setuid.
	* configure: Regenerated.
	* config.mak.in (GNUSTEP_INSTALL_GDOMAP_AS_SETUID): New variable.
	* Tools/Makefile.postamble:
	(after-install): Instal gdomap as setuid only if
	GNUSTEP_INSTALL_GDOMAP_AS_SETUID is set to 'yes'.  Updated
	messages for the changes and generally tidied messages up.

2010-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: add diagnostic to report the source of the
	timezone name when we can't create the local timezone.
	Use tzset()/tzname in preference to the name of the default timezone
	file ... in case of evil systems where the file has the wrong name.

2010-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSPropertyList+GNUstepBase.m:
	New category to replace property list write functionality no longer
	present in OSX.
	* base.make.in: Link with base additions library on OSX

2010-05-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: ([+encodingFromCharset:])
	Experimental extension to support NSStringEncoding symbolic constants
	in string form, in addition to more common characterset names
	(primarily for gdl2/gsweb).

2010-05-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
	* Source/Additions/NSString+GNUstepBase.m:
	* Headers/Foundation/NSString.h:
	* Headers/Additions/GNUstepBase/NSString+GNUstepBase.h:
	Revert last change ... there's no such method as +encodingNamed:
	in OSX/OpenStep, so it definitely shouldn't be in NSString.[hm]
	I think we can debate whether to add it to the additions library,
	though I'm not sure that it's actually a generally useful addition
	(if I understand correctly, it's used only in gdl2/gsweb and ought
	probably to be a category there ... assuming that there's really
	no existing/standard mechanism to do the job).

2010-05-30  David Wetzel <dave@turbocat.de>

	* Source/NSString.m
	* Source/Additions/NSString+GNUstepBase.m
	* Headers/Foundation/NSString.h
	* Headers/Additions/GNUstepBase/NSString+GNUstepBase.h
	added encodingNamed:

2010-05-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.h:
	Floating point fix for openbsd suggested by Sebastian Reitenbach

2010-05-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSAttributedString.m (-initWithCoder:, -encodeWithCoder:):
	Fix keyed archiving and unarchiving of (mutable) attributed
	strings with multiple attribute ranges.

2010-05-30  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: Update to latest zone info.

2010-05-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Attempted fix for bug #29920

2010-05-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcreteHashTable.m:
	* Source/NSHashTable.m: In ([-allObjects]) fix buf overrun (bug #29980).
	* Source/NSXMLParser.m: Fix off-by-one error handling whitespace.
	* Headers/Additions/GNUstepBase/GSMime.h: Revert xml charset method.
	* Source/NSURL.m: Allow a URL made from an empty string (OSX compat).

2010-05-28  Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSKeyValueCoding.m: Added missing support to ValueForKey() as
	described in Apple Key-Value-Coding guide. -isKey is now treated as a
	KVC-compliant getter, and _isKey and isKey as KVC-compliant ivars.

2010-05-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: ([-parser:foundCharacters:]) don't trim
	the supplied string ... we need to retain whitespace around entities
	in value test.  If inside a <string> element, treat ignorable
	whitespace as normal whitespace.
	* Source/NSXMLParser.m: Add support for ignorable whitespace so that
	it doesn't get handed to the delegate as normal characters.

2010-05-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObjCRuntime.h:
	Remove include of stdint.h ... already included by GSConfig.h
	* Source/ObjectiveC2/runtime.h:
	Revert 'guarding' of stdint.h inclusion to get things to compile
	again ... we *require* stdint.h to be present.
	I guess on any system old enough not to have it, the solution
	would be to generate and install our own version.

2010-05-21 Riccardo Mottola <rmottola@users.sf.net>

	* Source/ObjectiveC2/runtime.h:
	correctly import config.h

2010-05-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSMime.h: Expose xml charset method.
	* Source/NSXMLParser.m: Determine correct charset when parsing.

2010-05-21 Riccardo Mottola <rmottola@users.sf.net>

	* Source/inet_pton.c
	Source/ObjectiveC2/runtime.h
	Headers/Foundation/NSObjCRuntime.h:
	Guarded stdint.h inclusion.

2010-05-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: GSObjCMethodNames() fix for
	bug #29910

2010-05-10  Adam Fedor  <fedor@gnu.org>

	* Fix typos, clarify unstable release documentation

2010-05-08  Adam Fedor  <fedor@gnu.org>

	* Unstable Version 1.21.0

2010-05-08  Adam Fedor  <fedor@gnu.org>

	* Version 1.20.0

2010-05-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Limit config files to containing a thousand entries
	for safety/security.

2010-05-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	* Source/NSURLProtocol.m:
	Fix for bug #29764 ... add percent escapes to the path when generating
	the URI in the HTTP request.

2010-05-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Tools/gdomap.c: security updates.
	* Tools/Makefile.postamble: make warning messages a bit clearer and
	more informative about gdomap being best started at system boot.

2010-05-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h,
	* Source/NSString.m: Add 10.4 write methods.
	Fixes part of bug report #29736.

2010-05-02  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSString.h,
	* Source/NSString.m: Add a few missing 10.4 initWithContentsOfXXX:
	methods. Fixes part of bug report #29736.

2010-05-01  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Additions/GSObjCRuntime.m (GSObjCAllSubclassesOfClass):
	Fix bug in previous change that made GSObjCAllSubclassesOfClass
	return all superclasses instead of all subclasses.

2010-04-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m:
	Attempt fix for bug #29720

2010-04-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSObject.m (GSAtomicIncrement, GSAtomicDecrement): Use
	local labels in PowerPC assembler code to avoid a compile error
	when this code is inlined more than once. In addition, use the
	optimized assembler definitions also on PowerPC machines running
	Darwin/Mac OS X.

2010-04-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSFileHandle+GNUstepBase.m: fix to only build on OSX

2010-04-22 David Wetzel <dave@turbocat.de>

    * Source/Additions/Unicode.m: replace objc_malloc with NSZoneMalloc
    and objc_free with NSZoneFree

    * Source/Additions/NSFileHandle+GNUstepBase.m: should work with ipv6
    (The old code does fail on Snow Leopard, even with ipv4 addresses.)

    * Source/Additions/GSXML.m: added GSObjCRuntime.h
    * Headers/Additions/GNUstepBase/GSObjCRuntime.h:
    replace objc_malloc with NSZoneMalloc and objc_free with NSZoneFree


2010-04-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: ([mainBundle]) Fix error determining whether
	the bundle is an app or not ... was breaking lookup of tool resources.

2010-04-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/cifframe.m (cifframe_type): Fix the cached information
	for the NSRange type.  Was causing incorrect forwarding of NSRange
        arguments on 64bit systems.

2010-04-18   Nicola Pero <nicola.pero@meta-innovation.com>

	Fixed inefficiencies in building the SSL bundle.
	* SSL/Makefile.postable: Do not create GNUSTEP_TARGET_DIR/config.h
	from config.h; do not depend on config.status.
	* SSL/Makefile.preamble: Corresponding updates to includes.

2010-04-18   Nicola Pero <nicola.pero@meta-innovation.com>

	Fixed bug 25356 ("make ignoring installation domain configuration
	on windows").
	* configure.ac: Moved the path configuration here so that it is
	executed at the right time.  Removed duplicated code for all the
	path config options.  (AC_CONFIG_SUBDIRS): Removed
	Source/pathconfig.
	* configure: Regenerated.
	* config.mak.in: Merged code from
	Source/pathconfig/pathconfig.mak.in.
	* Source/pathconfig: Removed.
	* GNUmakefile: Do not include
	Source/pathconfig/pathconfig.mak.
	* Documentation/GNUmakefile: Same change.
	* NSTimeZones/GNUmakefile: Same change.
	* Source/GNUmakefile: Same change.
	* SSL/GNUmakefile: Same change.
	* Tools/GNUmakefile: Same change.
	* Source/Makefile.postamble (after-distclean): Do not remove
	files in pathconfig/.
	* Source/NSPathUtilities.m: Do not include pathconfig.h.
	* GNUmakefile: Include config.mak after common.make.

	* configure.ac: Exit immediately if GNUSTEP_MAKEFILES can not be
	determined.
	* configure.ac: Fixed determining GNUSTEP_LOCAL_HEADERS and
	GNUSTEP_LOCAL_LIBRARIES when adding them to CPPFLAGS and LDFLAGS.
	Add GNUSTEP_NETWORK_HEADERS and GNUSTEP_NETWORK_LIBRARIES as well.

2010-04-18   Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac (AC_CONFIG_SUBDIRS): Fixed list of subdirs by
	removing Source/mframe, which no longer exists.
	* configure: Regenerated.

2010-04-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Fix unregistering of threads to properly clean
	up and deallocate, avoiding descriptor and memory leak.

2010-04-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: when decoding a pointer to an object,
	autorelease the object to avoid a leak.

2010-04-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c: work around buggy objc_skip_argspec()
	* Source/NSConnection.m: work around buggy objc_skip_argspec()
	* Source/NSObjCRuntime.m: Fix NSGetSizeAndAlignment() so it's OSX
	compatible and can be used to replace objc_skip_argspec() (as that
	function calls objc_skip_offset() which can skip a character too far).

2010-04-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: ([-initWithContentsOfFile:]) added ugly OSX
	compatibility hack ... return the mutable array deserialized from
	the property list rather than an instance of the same class as
	the receiver.  The original GNUstep behavior made more sense.

2010-04-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationQueue.m: Fix error traversing queue.
	Reverse direction of links in queue to be intuitive/consistent
	with other linked lists.

2010-04-12 Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Rewritten test for -Wdeclaration-after-statement
	to be more accurate.
	* configure: Regenerated.

2010-04-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m:
	* Headers/Foundation/NSObject.h: Document behavior of +load and
	+initialize to preserve information I'm sure I once knew but had
	forgotten.  Obscure details.

2010-04-07 Doug Simons <doug.simons@testplant.com>

	* Source/NSPathUtilities.m: Prefer USERPROFILE for the
	NSHomeDirectory() on Windows if HOMEPATH is set to '/'.

2010-04-07 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Fix for bug #29291 based on suggestion by Niels Grewe
	* Source/GSFileHandle.m: Fix possible descriptor leak.

2010-04-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/cifframe.m (cifframe_type): Fix the defunct test for the
	standard structure types. The failure to detect those types was
	causing a substantial space leak in some gui applications.

2010-03-29 Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.ffi.c: add test for libffi functionality
	* configure.ac: use new test
	* configure: regenerate
	Greg had the good idea of testing libffi version to make sure it
	works ... unfortunately I couldn't see an easy way to test the
	version, so I added a test for functionality adapted from the
	test case I made for the libffi people to demonstrate a bug in
	passing floats on 64bit intel.

2010-03-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDecimalNumber.m: override getter methods of superclass

2010-03-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSException.h:
	Fix typos in last change (spotted by Eddie McCreary).

2010-03-03 Doug Simons <doug.simons@testplant.com>

	* Source/ObjectiveC2/sync.m: Avoid crash on Windows.

2010-03-25 Riccardo Mottola <rmottola@users.sf.net>

	* Source/GSPThread.h
	* Source/NSZone.m
	* Source/ObjectiveC2/sync.m
	* Source/NSLock.m:
	change defines for GNU/HURD

2010-03-23 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSObject.m: Atomic increment and decrement functions for mips

2010-03-19 Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.reuseaddr.c:
	* Examples/nsconnection_client.m:
	* Examples/nsconnection_server.m:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	* Headers/Additions/GNUstepBase/preface.h.in:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSRunLoop.h:
	* Source/Additions/NSError+GNUstepBase.m:
	* Source/Additions/NSTask+GNUstepBase.m:
	* Source/cifframe.h:
	* Source/GSFileHandle.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSNetwork.h:
	* Source/GSPortPrivate.h:
	* Source/GSPrivate.h:
	* Source/GSRunLoopCtxt.h:
	* Source/GSRunLoopWatcher.m:
	* Source/GSSocketStream.m:
	* Source/GSStream.m:
	* Source/NSBundle.m:
	* Source/NSCalendarDate.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSDebug.m:
	* Source/NSException.m:
	* Source/NSFileManager.m:
	* Source/NSHost.m:
	* Source/NSInvocation.m:
	* Source/NSLog.m:
	* Source/NSObject.m:
	* Source/NSPage.m:
	* Source/NSPathUtilities.m:
	* Source/NSPipe.m:
	* Source/NSProcessInfo.m:
	* Source/NSSocketPort.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSString.m:
	* Source/NSTask.m:
	* Source/NSThread.m:
	* Source/NSTimeZone.m:
	* Source/NSURL.m:
	* Source/NSUserDefaults.m:
	* Source/objc-load.m:
	* Source/ObjectiveC2/blocks_runtime.m:
	* SSL/GSSSLHandle.m:
	* Tools/gdnc.m:
	* Tools/gdomap.c:
	* Tools/gspath.m:
	Use __MINGW__ rather than __MINGW32__ for windows tests.

2010-03-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	* Headers/Additions/GNUstepBase/GSMime.h:
	GSMimeSMTPClient code to send emails now working ... but still very
	experimental.

2010-03-18 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* config.mak.in:
	* Source/ObjectiveC2/GNUmakefile:
	Only build objc synchronisation compatibility code if it is not
	already in runtime.

2010-03-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m:
	Added preliminary/experimental code for SMTP send.

2010-03-17 Richard Frith-Macdonald <rfm@gnu.org>

	* configure:
	* configure.ac:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Add experimental --enable-mixedabi configure option for building
	with the nonfragile abi, but able to link with other code which
	is built with the fragile abi.

2010-03-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: Fix for memory leak ... autorelease
	objects returned by method in remote process because the invocation
	won't do it for us (we call -setReturnValue: which will have the
	invocation retain the object, so when it releases it again later
	the retain count is the same as at the point when we decoded the
	object, and another release is needed).
	I'm not certain this fix is right, but it seems ok.

2010-03-13  Yavor Doganov  <yavor@gnu.org>  (tiny change)

        * Source/NSCalendarDate.m (outputValueWithFormat)
        ([-initWithString:calendarFormat:locale:]): Recognize %k as
        conversion format specifier.
        ([-descriptionWithCalendarFormat:locale:]): Update docstring.

2010-03-17 Anibal Rindisbacher <anibal784@gmail.com>

	* Headers/Additions/GNUstep/GNUstep.h: Tidy up casts

2010-03-16 Vincent Richomme <forumer@smartmobili.com>

	* Source/Additions/NSFileHandle+GNUstepBase.m:
	* Tools/gdomap.c:
	Minor tweaks porting to mingw64

2010-03-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSet.m: Optimise for cases when huge ranges of
	characters are added to a set (as suggested by Fred).

2010-03-15  Adam Fedor  <fedor@mallory>

	Source/Additions/NSFileHandle+GNUstepBase.m: Define INADDR_NONE
	for Solaris.

2010-03-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSString.m (-initWithCoder:): Handle format used for
	XIB encoding.

2010-03-14  Adam Fedor  <fedor@mallory>

	* Source/NSHTTPCookie.m (+requestHeaderFieldsWithCookies:):
	Correct format syntax.

2010-03-13 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Note use of nonfragile abi
	* configure: regenerate
	* Headers/Additions/GNUstepBase/GSConfig.h.in: save nonfragile abi state
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Fix check for nonfragile-abi state, and raise an error if the current
	compile doesn't atch the state used to build the base library.

2010-03-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedArchiver.m:
	Create _+clsMap lazily so it's there for subclasses even if the
	initialiser was not called.

2010-03-11 12:14-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GNUmakefile: Remove reference to synchonization.m.
	* Source/synchronization.m: Remove, since ObjectiveC2 has been
	merged.

2010-03-11 Richard Frith-Macdonald <rfm@gnu.org>

	* configure:
	* config.mak.in:
	* NSCharacterSets/GNUmakefile:
	* Source/unix/Makefile.preamble:
	* Source/win32/Makefile.preamble:
	* Source/ObjectiveC2/Makefile.preamble:
	* Source/Additions/Makefile.preamble:
	* Source/Makefile.preamble:
	* SSL/Makefile.preamble:
	* configure.ac:
	* Documentation/manual/GNUmakefile:
	* Resources/GNUmakefile:
	* Examples/Makefile.preamble:
	* Examples/GNUmakefile:
	* Tools/Makefile.preamble:
	* Tools/make_strings/GNUmakefile.preamble:
        Improve setting of warning flags.

2010-03-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m:
	* configure.ac:
	* configure:
	* Headers/Foundation/NSException.h:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
        Improve checks for native-objc-exception support and try to ensure that
        user code is build with the same settings as base.

2010-03-10  Adam Fedor  <fedor@mallory>

	* Source/NSURLProtocol.m ([_NSHTTPURLProtocol -stream:stream:event]):
	Add default Content-Type to POST methods if none is present.

2010-03-09  Adam Fedor  <fedor@gnu.org>

	* Source/NSHTTPCookie.m: Finish off implementation
	* Source/HSHTTPCookieStorage.m: Finish off implementation.

2010-03-10 Riccardo Mottola <rmottola@users.sf.net>

	* /Source/ObjectiveC2/sync.m,
	* /Source/NSZone.h,
	* /Source/GSPThread.h : use proper _XOPEN_SOURCE
	instead of __USE_UNIX98 to enable needed thread features on glibc

2010-03-08 Roland Schwingel <roland.schwingel@onevision.de>

	* Source/NSFileManager.m: implement fileSystemNumber for mswindows.

2010-03-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m:
	* Source/Additions/GSObjCRuntime.m:
	* Documentation/Base.gsdoc:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Add GNUSTEP_BEHAVIOR_DEBUG enovironment variable to turn on logging
	of the use of behaviors/overrides of class methds by a list of
	methods from another class.

2010-03-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSArray.m: Re-remove [GSMutableArray count] (GSMutableArray
	uses the GSArray implementation).
	* Source/GSDictionary.m:
	* Source/GSCountedSet.m:
	* Source/GSSet.m:
	Add the same sort of NSUInteger fixups that Fred added to GSArray.m
	* Headers/Additions/GNUstepBase/GSUnion.h:
	Add support for NSInteger and NSUInteger (so GSCountedSet can use them).

2010-03-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/GSArray.m: Re-add [GSMutableArray count]. Change all
	method parameters from int or unsigned to NSUInteger to match
	super classes.

2010-03-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Add function to add 'overrides' as a form of programmatically
	controlled category similar to behaviors, giving an app control
	over the order in which methods are added to a class.

2010-03-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSCompatibility.h:
	* Source/Additions/GSCompatibility.m:
	* Source/Additions/GSNextRuntime.m:
	Remove obsolete OSX compatibility files.

2010-03-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSArray.m:
	* Source/GSDictionary.m:
	* Source/NSURLProtocol.m:
	* Source/NSNotificationCenter.m:
	* Source/GSAttributedString.m:
	* Source/NSURL.m:
	* Source/NSObject.m:
	* Source/NSString.m:
	* Source/Additions/NSAttributedString+GNUstepBase.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/GSString.m:
	* Source/NSData.m:
	* Source/GSValue.m:
	* Source/NSValue.m:
	* Source/NSArchiver.m:
	* Source/NSURLConnection.m:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Remove reference to GSObjCZone and use -zone instead.

2010-03-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Source/Additions/GSObjCRuntime.m:
	Old 'experimental/work-in-progress' functions mostly removed ...
	GSAllocMethodList() GSAppendMethodToList() GSRemoveMethodFromList()
	GSMethodListForSelector() GSMethodFromList() GSAddMethodList()
	GSRemoveMethodList()
	Other functions rewritten in terms of the new runtime API and marked
	as deprecated if they add nothing.

2010-03-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m: use class_addMethod() to add setters
	to replacement class.

2010-03-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDate.m: Fix last change to conform to coding standards.
	* Source/NSCalendarDate.m: Fix last change to avoid attempts to
	access beyond the end of the format string.

2010-03-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c: Fix class data copying functions to
	match OSX.
	* Source/Additions/GSObjCRuntime.m: Implement adding classes using
	new runtime functions.

2010-03-03 Doug Simons <dpsimons@testplant.com>

	* Source/NSDate.m: Fix natural language date parsing to handle AM/PM.
	* Source/NSCalendarDate.m: Fix to %I (12-hour clock) to show midnight
	hour as 12, not 00. Skip over field widths while parsing in init.

2010-03-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c: Bugfixes for getting superclass and
	for adding ivars to a class.
	* Source/Additions/GSObjCRuntime.m: Rewrite class creation code in
	terms of the new runtime api.

2010-03-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/behavior.h:
	* Source/Additions/behavior.m:
	* Source/Additions/GNUmakefile:
	Remove obsolete, unused, and long deprecated code.
	The functionality is still present in GSObjCRuntime.[hm]

2010-03-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObjCRuntime.h:
	* Source/NSObjCRuntime.m:
	Fix NSGetSizeAndAlignment() update argument types to match lates OSX

2010-02-28 Richard Frith-Macdonald <rfm@gnu.org>

	Update header files with further changes for non-fragile-abi.
	Also fixup some GSObjCRuntime.m functions for using the new runtime
	API.

2010-02-28 Thomas Gamper <icicle@cg.tuwien.ac.at>

	* runtime.c:
	Backport another one of David's fixes for @synchronize(class), all
	necessary flags now are set in objc_allocateMetaClass.

2010-02-27 Richard Frith-Macdonald <rfm@gnu.org>

	* runtime.c:
	* sync.m:
	* runtime.h:
	Backport David's fixes for @synchronize(class), suitably modified to
	build with older compilers.

2010-02-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: ([methodSignatureForSelector:]) remote the check
	(and exception) to see if the sel types are the same as the signature
	types, since this method is used precisesly when we think we may have
	a selector with the wrong type information (eg we are using KVC and
	generated the selector name to access an ivar and the runtime gave us
	a selector with the type infor for accessing an ivar of another class).
	Should fix bug #29015

2010-02-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Apply suggested fix for bug #29012

2010-02-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m:
	* Source/GSInternal.h:
	* Source/NSConnection.m:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSOperation.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Rework hiding of instance variables for big classes (lots of ivars)
	where we expect the class lifetime to be long enough that it makes
	sense to hod the ivars in a private subclass.

2010-02-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNetServices.m:
	* Source/NSURLHandle.m:
	* Source/NSMethodSignature.m:
	* Source/NSInvocation.m:
	* Source/NSURL.m:
	* Source/Additions/Makefile.preamble:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Source/Additions/GSFunctions.m:
	* Source/Additions/NSAttributedString+GNUstepBase.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/NSConnection.m:
	* Source/NSLock.m:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Alterations to build additions with NO_GNUSTEP defined ... after all,
	they should be able to build like that on OSX with the Apple Foundation.

2010-02-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m:
	* Source/NSTimeZone.m:
	* Source/NSURLCredential.m:
	* Source/GSSocketStream.m:
	* Source/NSURLHandle.m:
	* Source/NSTimer.m:
	* Source/NSScanner.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSSocketPort.m:
	* Source/NSAttributedString.m:
	* Source/NSRunLoop.m:
	* Source/NSMethodSignature.m:
	* Source/GSRunLoopWatcher.m:
	* Source/GSArray.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSKeyValueMutableSet.m:
	* Source/GSStream.m:
	* Source/NSKeyedArchiver.m:
	* Source/unix/NSStream.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSDistributedLock.m:
	* Source/NSKeyValueObserving.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSURLCredentialStorage.m:
	* Source/NSPort.m:
	* Source/GSFFIInvocation.m:
	* Source/NSMessagePort.m:
	* Source/GSDictionary.m:
	* Source/win32/GSFileHandle.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/NSStream.m:
	* Source/GSCountedSet.m:
	* Source/NSUnarchiver.m:
	* Source/NSInvocation.m:
	* Source/NSURLProtocol.m:
	* Source/GSAttributedString.m:
	* Source/NSKeyValueMutableArray.m:
	* Source/NSException.m:
	* Source/NSCopyObject.m:
	* Source/NSURL.m:
	* Source/NSObject.m:
	* Source/NSString.m:
	* Source/Additions/NSFileHandle+GNUstepBase.m:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GCArray.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSLock.m:
	* Source/GSSet.m:
	* Source/NSNotification.m:
	* Source/NSNumber.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSHost.m:
	* Source/NSDate.m:
	* Source/GSValue.m:
	* Source/NSValue.m:
	* Source/NSCountedSet.m:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/NSSet.m:
	* Source/NSCharacterSet.m:
	* SSL/GSSSLHandle.m:
	Always DESTROY(self) rather than RELEASE(self) so that the pointer
	is nil if/when another method is called from the method where self
 	was potentially deallocated.  This is so that the libobjc2 runtime
	doesn't try dereferencing self when it points to a deallocated
	object.

2010-02-25 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* configure:
	* Headers/Additions/GNUstepBase/config.h.in:
	* Source/NSString.m:
        Update printf handling for very latest glibc

2010-02-25 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add test for socklen_t type
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/GSNetwork.h:
	* Source/NSSocketPort.m: Fix for socklen_t
	* Source/NSMapTable.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSConcreteHashTable.m:
	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSMapTable.h:
        Use NSUInteger values for OSX API compatibility

2010-02-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/ObjectiveC2/runtime.c:
	* Source/ObjectiveC2/blocks_runtime.m:
	Avoid compiler warnings.

2010-02-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAssertionHandler.m:
	* Source/NSObject.m:
	* Source/Additions/NSDebug+GNUstepBase.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/NSObject+GNUstepBase.m:
	* Headers/Foundation/NSObject.h:
	* Headers/Additions/GNUstepBase/NSObject+GNUstepBase.h:
	Remove a few old deprecated methods and move others to the
	additions library.
	Make GSMime build on OSX

2010-02-23 Riccardo Mottola <rmottola@users.sf.net>

	* Source/ObjectiveC2/runtime.h: provide gcc-style macros
	* Source/ObjectiveC2/sync.m: removed c99-ism

2010-02-23  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNumber.m: Autorelease the values returned by the
	numberWithXXX: methods.

2010-02-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSSpellServer.m (-isWordInUserDictionaries:caseSensitive:):
	Make sure word is checked against the current list of ignored
	words regardless of whether the user (already) has a set of
	learned words in the current language.

2010-02-22  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Additions/Unicode.m (GSToUnicode): Fix my own bug fix to
	avoid potential null pointer dereferences, as that fix could lead
	to attempts to free() memory on the stack.

2010-02-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m:
	* Source/NSPortCoder.m:
	* Source/NSCalendarDate.m:
	* Source/NSPropertyList.m:
	* Source/GSConcreteValueTemplate.m:
	* Source/NSScanner.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSSortDescriptor.m:
	* Source/GSFFIInvocation.m:
	* Source/NSUnarchiver.m:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/NSConcreteMapTable.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSData.m:
	* Source/NSDate.m:
	* Source/NSProxy.m:
	* Source/NSObjCRuntime.m:
	* Source/NSProtocolChecker.m:
	* Source/GSValue.m:
	* Source/NSSerializer.m:
	* Source/NSCountedSet.m:
	* Source/NSSet.m:
	* Source/NSDistantObject.m:
	* Source/NSArchiver.m:
	* Source/NSCharacterSet.m:
	* Source/NSConcreteHashTable.m:
	* Headers/Additions/GNUstepBase/NSDebug+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Deprecate some GS... runtime wrappers in favour of using the new
	ObjC2 API where we have emulation for systems which are actually
	usig the old API.  Work in progress.

2010-02-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix incorrectly initialized zone ivar.
	Foixes bug #28939

2010-02-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Modified the sense of the 'NO_GNUSTEP' preprocessor constant slightly.
	It is now always defined (GSVersionMacros.h defines it to zero if it
	was not defined externally).  A sbefore, defining it to 1 should prevent
	the inclusion of GNUstep specific headers.
	This change should make it easy for us to change the default behavior
	at a later date.

2010-02-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Makefile.postamble:
	* Source/GNUmakefile:
	* configure.ac:
	* configure:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Make runtime.h objc2 compatibility header available in installed
	headers if we are using objc2 compatibility in base.

2010-02-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcreteNumber.h: Remove unused file
	* Source/NSNumberMethods.h:
	* Source/NSNumber.m:
	* Source/GSNumberTypes.h:
	Updates to match OSX behavior.

2010-02-19 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add check for ObjC2 support in runtime.
	* config.mak.in: define OBJC2RUNTIME to yes or no
	* configure: regenerate
	* Source/GNUmakefile: Build/link ObjectiveC2 compat code if needed
	* Source/ObjectiveC2/Availability.h:
	* Source/ObjectiveC2/runtime.c:
	* Source/ObjectiveC2/GNUmakefile:
	* Source/ObjectiveC2/properties.m:
	* Source/ObjectiveC2/sync.m:
	* Source/ObjectiveC2/blocks_runtime.m:
	Attempt to build in ObjectiveC2 compatibility functions when we don't
	have an ObjC2 runtime.

2010-02-19 Richard Frith-Macdonald <rfm@gnu.org>

	Simplify header imports with common headers handled in the correct
	order.

2010-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/NSDebug+GNUstepBase.h:
	* Headers/Additions/GNUstepBase/NSThread+GNUstepBase.h:
	* Source/Additions/NSDebug+GNUstepBase.m:
	* Source/Additions/NSThread+GNUstepBase.m:
	* Headers/Additions/GNUstepBase/Additions.h:
	* Headers/Foundation/Foundation.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSThread.h:
	* Source/Additions/GNUmakefile:
	* Source/DocMakefile:
	* Source/GNUmakefile:
	* Source/NSDebug.m:
	* Source/NSOperation.m:
	Move some gnustep specific extensions into additions library so they
	can be used to port apps to OSX in future (when the additions library
	builds on OSX again).

2010-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* SSL/configure.ac: Check for latest thread ID callback
	* SSL/configure: regenerate
	* SSL/GSSSLHandle.m: Add thread-safety support callbacks.

2010-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/Foundation.h.install:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSTask.h:
	* Tools/GNUmakefile:
	Have standard foundation headers include any corresponding GNUstep
	extension headers unless NO_GNUSTEP is defined (building code with
	strict OSX compatibility) or GNUSTEP_BASE_INTERNAL is defined
	(building the base library etc itsself, and needing to ensure we
	don't accidentally include installed headers from a previous version).

2010-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSpellServer.m:
	* Source/NSMethodSignature.m:
	* Source/NSString.m:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSObjCRuntime.h:
	Fix minor 64bit compatribility errors spotted by Fred.

2010-02-18 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: remove obsolete checks for integer limits constants
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* configure: regenerate
	* Source/NSScanner.m:
	* Source/NSNumber.m:
	* Source/GSFormat.m:
	New code to define LLONG_MAX,LLONG_MIN,ULLONG_MAX in terms of
	__LONG_LONG_MAX__ where they are not found in the normal location.

2010-02-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSXML.h:
	* Source/Additions/GSXML.m: new method to allow an additional DTD
	directory to be set for the parser.
	* Tools/autogsdoc.m: Add flag to allow command line setting of extra
	DTD directory.
	* Source/DocMakefile: Set extra DTD directory to the Tools directory
	so that gsdoc DTDs can be found even when they haven't been installed.

2010-02-16 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/Additions/GSXML.m:
	Modify to use default catalog when GNUstep specific information
	cannot be found.

2010-02-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistantObject.m:
	Cache method signatures to avoid asking remote end for them
	repeatedly.

2010-02-16  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/Additions/Unicode.m (GSToUnicode): Fix bug where
	GSToUnicode attempted to read from a null pointer.

2010-02-15 Richard Frith-Macdonald <rfm@gnu.org>

	Various reorganisation tweaks.
	Enable NSInteger/NSUInteger/CGFloat support at last.

2010-02-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m: Implement keyed decoding for
	multiple attributes correctly.
	Based on code by Nikolaus Schaller <hns@computer.org>.

2010-02-14 David Chisnall <theraven@sucs.org>

	Rewrote NSNumber implementation.

2010-02-14 Richard Frith-Macdonald <rfm@gnu.org>

	Major change merge back of 'reorg' branch into trunk.
	The gross changes are:
	1. reorganisation of categories for additional non OSX methods into
	separate files in the Additions library.
	2. changes to headers to hide instance variables if we are using
	the non-fragile-abi with clang.
	3. additions of a void* instance variable for future expansion to
	almost all classes (avoid the fragile ivar issue).
	4. various code changes to support the nonfragile-abi (the use of
	@defs is no longer allowed).
	NB. This revision breaks binary compatibility ... all code using base
	needs to be rebuilt.  However, future releases of the base library
	should all maintain abi compatibility with the first release based
	on these changes (at least, as far as class instance size issues
	are concerned).

2010-02-12 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Remove a couple of obsolete tests and add a couple for
	new runtime features.
	* config/config.objc_condition_timed_wait.c: remove
	* config/config.non-fragile-ivars.m: add
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate

2010-02-11  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/Makefile.postamble: Removed obsolete manual dependency
	rules.  Dependencies of object files on header files are
	automatically computed by gnustep-make, so these rules were
	superfluous.
	* Source/GNUmakefile: Compile Additions as a subproject before the
	two libraries that are built on top of it.  This will prevent
	problems when libraries from the same GNUmakefile are built in
	parallel.
	* Source/GNUmakefile (GNUmakefile.local): Do not try including
	this non-existing file.
	* Examples/GNUmakefile: Same change.
	* NSTimeZones/GNUmakefile: Same change.
	* Resources/GNUmakefile: Same change.
	* SSL/GNUmakefile: Same change.
	* Tools/GNUmakefile: Same change.

2010-02-11 07:37-EST Gregory John Casamento <greg.casamento@gmail.com>

	* install.sh: Removed configure.

2010-02-09 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSOperation.m: Move declaration upwards to fix compile error.

2010-02-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSAttributedString.m:
	* Source/Additions/GSCategories.m:
	* Headers/Foundation/NSString.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	Re-instated the immutableProxy mathod, but as a clean category on
	NSMutableString in the additions library.
	Use for the -string method of NSAttributedString

2010-02-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAttributedString.m: minor cosmetic change
	* Source/GSAttributedString.m: Re-introduce proxy for -string
	and comment to try to avoid it being accidentally removed again.
	* Source/GSString.m: Fixups to work properly with string proxies.
	* Source/NSException.m: Re-instate correct behavior and make the
	comment about it more emphatic.

2010-02-08 Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/NSException.m
	* Removed redundant call to _NSFoundationUncaughtExceptionHandler
	and added else blocks to allow a set uncaught exception handler
	to NOT exit if capable of recovering.

2010-02-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSOperation.h:
	* Source/NSOperation.m:
	Complete implementation of NSOperationQueue (OSX 10.6 apart from the
	methods using objc2 blocks).

2010-02-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSOperation.h:
	* Source/NSOperation.m:
	Partial implementation of NSOperationQueue (OSX Leopard functionality
	plus a little of Snow Leopard).

2010-02-05 Riccardo Mottola <rmottola@users.sf.net>

	* Headers/Additions/GNUstepBase/GSIMap.h: fixed c99-ism
	* Headers/Additions/GNUstepBase/GSBlocks.h : provide gcc 2.95
	variadic macro

2010-02-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSOperation.h:
	* Source/NSOperation.m:
	Implement and document the NSOperation class.
	As OSX 10.6 minus the objc2 specific 'block' methods.

2010-02-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: cleanup indentation etc, and apply fix suggested
	by David Ayers

2010-02-04 Jonathan Gillaspie <jonathan.gillaspie@testplant.com>

	* Source/NSLock.m:
	([lockWhenCondition:beforeDate:])
	Switched to use timeIntervalSince1970.
	added a loop to lockWhenCondition since pthread_cond_timedwait can
	return to delay expiring. Hold the lock on a delayed acquire
	(and YES return).
	([tryLockWhenCondition:]) No longer reports a deadlock when we
	already have the lock, now just returns NO.

2010-02-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m:
	Don't use usleep() on windows .. it performas a busy wait so the
	Sleep() function is better.

2010-02-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m:
	* Source/NSThread.m:
	Tweaks to try and get default thread correctly terminated on exit.

2010-01-30  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPropertyList.m (GSBinaryPLParser -rootObject,
	-initWithData:mutability:): Get root index from the binary
	property list data and use this to return the root object.

2010-01-24 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Option for using libbfd for stack traces
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/NSException.m: Re-instate code for using libbfd to provide
	symbolic stack traces (because the backtrace_symbols function doesn't
	work on most platforms).  Add warning about the fact that this alters
	the license of the library.

2010-01-23 Niels Grewe <niels.grewe@halbordnung.de>

	* Source/GSFFCallInvocation.m:
	* Source/NSZone.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GCObject.m:
	* Source/synchronization.m:
	* Source/GSPThread.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Updates for switch to using pthreads

2010-01-21 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Foundation/NSObjCRuntime.h: define CGFLOAT_DEFINED when
	defining CGFloat.
	Also check that NSINTEGER_DEFINED and CGFLOAT_DEFINED are undefined
	before defining NSInterger and CGFloat.

2010-01-21 16:20-EST Gregory John Casamento <greg.casamento@gmail.com>

	* install.sh: Add --with-installation-domain=SYSTEM to the script
	to allow automated build on Windows.

2010-01-20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m:
	Always remove task from controlling terminal, not just when using
	pseudo-terminals.  This is compatible with OSX behavior
	(testcase added to the testsuite).
	Also remove some redundant/duplicate code

2010-01-11 Quentin Mathe <quentin.mathe@gmail.com>

	* Source/NSFormatter.m (-copyWithZone:, -initWithCoder:,
	-encodeWithCoder:): Removed the subclass responsibility,
	in order to have subclasses automatically coding and copying
	compliant as Cocoa does.
	You can also now safely call [super copyWithZone:/initWithCoder:] in a
	subclass.

2010-01-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMapTable.m:
	* Source/NSHashTable.m:
	* Source/NSPropertyList.m:
	* Source/GSStream.m:
	* Source/NSURLResponse.m:
	* Source/NSPointerArray.m:
	* Source/Additions/GSMime.m:
	* Source/NSURLRequest.m:
	Fix mistaken strategy for avoiding clang warnings.

2010-01-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSConcreteMapTable.m (NSCreateMapTableWithZone): Set the
	concreteClass, when this isn't already set.

2010-01-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMapTable.m:
	* Source/NSHashTable.m:
	* Source/NSPropertyList.m:
	* Source/NSScanner.m:
	* Source/GSArray.m:
	* Source/GSStream.m:
	* Source/NSPredicate.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSURLResponse.m:
	* Source/NSPointerArray.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GSMime.m:
	* Source/NSData.m:
	* Source/NSSerializer.m:
	* Source/NSURLRequest.m:
	* Source/GSFormat.m:
	* Source/NSXMLParser.m:
	* SSL/GSSSLHandle.m:
	* Tools/sfparse.m:
	* Tools/gdnc.m:
	* Tools/gdomap.c:
	* Tools/pl.m:
	* config/config.loadtest.m:
	Tweaks towards making base build/work better with clang

2010-01-09 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSetData.h:
	* NSCharacterSets/newlineCharSet.dat:
	Add VT ad FF as newline characters for OSX compatibility as suggested
	by Eric.

2010-01-09 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* Source/NSException.m:
	* Headers/Additions/GNUstepBase/config.h.in:
	* config/config.unexpected.m:
	* config/config.set_unexpected.m:
	* configure:
	Modified to suppport native exceptions with libobjc2 which is missing
	the objc_set_unexpected() function and just uses direct assignment of
	a function pointer.

2010-01-05 Eric Wasylishen <ewasylishen@gmail.com>

	* Headers/Foundation/NSCharacterSet.h
	* Source/NSCharacterSet.m
	* Source/NSCharacterSetData.h:
	Implement +[NSCharacterSet newlineCharacterSet]. This includes
	rebuilding NSCharacterSetData as described in the mkcharsets
	README.
	Note that the Apple docs count 0x000B (vertical tab) and 0x000C
	(form feed) as newline characters, and include them in
	newlineCharacterSet and whitespaceAndNewlineCharacterSet, while
	GNUstep does not at the moment.

2009-12-29 David Chisnall <theraven@gna.org>

	* Source/GSDictionary.m
	* Source/NSDictionary.m
	* Headers/Foundation/NSDictionary.h
	Added fast enumeration support to GSDictionary, and GSMutableSet.
	* Source/GSSet.m
	* Source/GSCountedSet.m
	* Source/NSSet.m
	* Headers/Foundation/NSSet.h
	Added fast enumeration support to GSSet, GSMutableSet, and GSCountedSet
	* Headers/Additions/GNUstepBase/GSIMap.h
	Added function for implementing fast enumeration with GSIMaps.

2009-12-27 David Chisnall <theraven@gna.org>

	* Source/NSArray.m
	* Headers/Foundation/NSArray.h
	Added some block method implementations.

	* Headers/Foundation/NSObjCRuntime.h
	Added constants for enumeration.


2009-12-27 David Chisnall <theraven@gna.org>

	* Source/GSFastEnumeration.h: Added macros implementing for..in loops.

2009-12-27 David Chisnall <theraven@gna.org>

	* Headers/Additions/GNUstepBase/GSBlocks.h: Added block macros.

2009-12-23  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSUndoManager.m (_canCoalesceUndoWithTarget:selector:object):
	Auxiliary method to support coalescing undo operations in
	NSTextView.

2009-12-22 17:15-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSObject.m: Conditionally compile weak attribute for
	Windows since it is not supported by the win32 linker.

2009-12-20 David Chisnall <theraven@gna.org>

	* Source/NSObject.m: Set block superclass.

2009-12-19 13:53-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GNUmakefile: Add synchronization.m to GNU_MFILES
	and correct some formatting.
	* Source/synchronization.m: Fix @synchronize support on
	Windows.   The __weak__ attribute doesn't work on Windows.

2009-12-11 01:44-EST Gregory John Casamento <greg.casamento@gmail.com>

	* Source/synchronization.m: Corrected header text.

2009-12-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Use -hash from GSString rather than from NSString
	to optimise hashing.  Fix string comparison error as pointed out by
	Doug Simons.

2009-12-02 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePortNameServer.m:
	* Source/NSMessagePort.m:
	On initialisation, remove any old ports/names for the current process
	idntifier.  Also remove ports/names for processes which don't exist.
	Avoids any possibility of nameserver confusion between two processes
	with the same ID.

2009-12-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePortNameServer.m: Tolerate '*' host name.
	* Source/NSConnection.m: Clarify documentation slightly.
	* NSSocketPort.m:
	* win32/GSFileHandle.m:
	Fixup missing notification changes.

2009-11-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationQueue.m: Rewrite queue handling to attempt to
	fix bug #28104 by posting notifications matching the current run loop
	mode and leaving others queued.
	Also, change the meanining of a nil modes argument when enqueing a
	notification to match OSX and assume NSDefaultRunLoopMode.
	* Source/Additions/GSXML.m: Fix minor sax callback bug.
	* Source/NSConnection.m: Don't send a response packet if the method
	is oneway void return type and has no output parameters.

2009-11-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: When serializing 'xml' style property lists
	call -description to ensure that dictionary keys are strings since no
	other option is permitted in the dtd.

2009-11-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationQueue.m:
	* Source/NSRunLoop.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/GSPrivate.h:
	Pass current runloop mode to notification functions.  Next we need
	to add code to use this information.

2009-11-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Revert last change, which broke XML
	generation by placing illegal character entities in the output.
	Fix menu position problem by adding missing code to unescape
	the /U escapes we put in the output when we read back in again.
	NB. should check that we use character entities for all legal
	characters and only use the escape mechanism for *really* illegal
	ones (such as the menu location key).

2009-11-26  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSPropertyList.m (XString): Write out proper XML encoding
	for control characters. Fixes a bug where menu positions in GUI
	programs would appear not persistent.

2009-11-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFIInvocation.m: make better guess when forward2 is not
	available in runtime.

2009-11-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Remove spurious semicolons
	* Source/NSConnection.m: autogsdoc ignore confusing section
	* Source/NSLock.m: autogsdoc ignore (just use header)
	* Tools/AGSParser.m: add feature to ignore sections
	* Tools/autogsdoc.m: document new ignore markup

2009-11-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: ([-drain]) Copy undocumented OSX behavior
	calling -release (suggested by Christopher James Elphinstone Chandler).

2009-10-26  Adam Fedor  <fedor@gnu.org>

	* Source/Makefile.postamble: Add flag filter for
	libgnustep-base-entry.m (for GCC 4.4 on MinGW).

2009-10-20  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSObject.m (NSIncrementExtraRefCount): Properly release
	allocation lock.

2009-10-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m:
	* Headers/Foundation/NSProcessInfo.h:
	* Tools/gspath.m:
	* Tools/plmerge.m:
	* Tools/xmlparse.m:
	* Tools/sfparse.m:
	* Tools/plparse.m:
	* Tools/pldes.m:
	* Tools/defaults.m:
	* Tools/plget.m:
	* Tools/pl2link.m:
	* Tools/gdnc.m:
	* Tools/plser.m:
	* Tools/autogsdoc.m:
	* Tools/HTMLLinker.m:
	* Tools/cvtenc.m:
	Add function for easy process initialisation when the automatic
	mechanisms don't work (eg calling ObjC code from within a C or C++
	application).

2009-10-11 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/NSKeyValueObserving.m: add setters for common structures.

2009-10-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h:
	* Source/NSString.m:
	* Source/GSString.m:
	Remove obsolete immutable proxy method.
	* Source/NSIndexPath.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSAttributedString.m:
	* Source/GSArray.m:
	* Source/GSFFCallInvocation.m:
	* Source/GSFFIInvocation.m:
	* Source/GSAttributedString.m:
	* Source/NSConnection.m:
	* Source/NSThread.m:
	Replace unnecessary calls to NSDeallocateObject().

2009-10-07  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Add librt for sched_yield on solaris.

2009-10-05 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: enable ffcall if ffi is disabled
	* configure: Regenerate
	* Source/mframe:delete
	* Source/mframe.m: delete
	* Source/GSInvocation.h:
	* Source/GNUmakefile:
	* Source/NSMethodSignature.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSKeyValueObserving.m:
	* Source/GSFFIInvocation.m:
	* Source/NSInvocation.m:
	* Source/cifframe.m:
	* Source/NSConnection.m:
	* Source/callframe.m:
	* Source/NSDistantObject.m:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSInvocation.h:
	Update for removal of mframe code.

2009-10-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile:
	* Source/NSMethodSignature.m:
	* Source/GSFFCallInvocation.m:
	* Source/mframe/mframe.head:
	* Source/GSFFIInvocation.m:
	* Source/NSInvocation.m:
	* Source/cifframe.h:
	* Source/mframe.m:
	* Source/cifframe.m:
	* Source/NSConnection.m:
	* Source/callframe.h:
	* Source/NSObjCRuntime.m:
	* Source/callframe.m:
	* Headers/Additions/GNUstepBase/DistributedObjects.h:
	* Headers/Additions/GNUstepBase/preface.h.in:
	Remove lots of obsolete code as part of the ong term process of
	scrapping the old mframe stuff.

2009-10-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/cifframe.h: Remove unused code
	* Source/cifframe.m: ditto
	* Source/callframe.h: ditto
	* Source/callframe.m: ditto
	* Source/NSConnection.m: Use NSInvocation functionality directly
	rather than duplicated versions of the code in ffi/ffcall/mframe
	specific files.  Should simplify things and make maintenance easier.

2009-10-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInvocation.h:
	* Source/GSFFIInvocation.m:
	* Source/NSInvocation.m:
	Fix to always store return value in memory owned by the GSFFIInvocation
	object.  Fix for bug #27233

2009-10-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m:
	Don't allow the root object of a connection to be released simply
	because the remote proxy is released ... the connection itsself
	may have been retained at the remote end, and the code there may
	call the -rootProxy method and start sending messages to it again.
	Fix for bug #27128

2009-10-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSConcreteMapTable.m:
	* Source/NSConnection.m:
	* Source/NSSerializer.m:
	* Source/NSArchiver.m:
	* Source/NSConcreteHashTable.m:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	Explicitly specify types present in GSIUnion

2009-09-30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Fix BOOL methods to return YES or NO.
	* Source/win32/GSFileHandle.m: Implement nul device handle.
	* Source/NSTask.m: Try to avoid annoying colsole window with mingw32
	* Source/GSLocale.m: Try to handle locale setup in non-utf8 locales.

2009-09-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandle.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/NSStream.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSPipe.m:
	* Source/NSTask.m:
	Fixes to try and improve subtask handling on windows.
	1. change scheme to create all handles as not inheritable, and
	just make the handles we want the child to have inheritable while
	we are launching the child.
	2. peek the data on pipes and refrain from notifying about data
	availability if the pipe doesn't really have data.  This is horrid and
	means we poll pipes ... I guess we really need to be doing async
	reads instead ... perhaps someone can do that based on the code in
	Source/win32/NSMessagePort.m which already does it.

2009-09-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: OSX compatibility tweaks ... allows initialisation
	using a string containing a simple path without any scheme.

2009-09-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexSet.m:
	([-shiftIndexesStartingAtIndex:by:]) fix to properly merge index
	ranges when shifting left.

2009-09-15 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSMime.h:
	* Source/Additions/GSMime.m:
	Add new -excess method to return any excess data left over from parsing.
	Previously the code just used to NSLog() this data as a warning.

2009-09-14 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Workaround for bug in some linux SMP systems
	* Source/NSConnection.m: fix for bug #27446

2009-09-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Add optional diagnostics to detect system
	time changes and warn about them.
	* Source/NSException.m: Clean up to match coding standards.
	Fix uninitialised variable bug.
	* Source/NSObject.m: clean up and fix missing dealloc.
	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSValueTransformer.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	Fix up errors in version of feature addition to GNUstep. Some
	GNUstep version constants had leading zeros so they were interpreted
	as octal rather than decimal.

2009-09-11 David Chisnall <csdavec@swan.ac.uk>

	* Source/NSException.m:
	*Headers/Foundation/NSException.h:

	Rewrote exception callstack generation to use the backtrace() and
	backtrace_symbols() code.  Implemented the -callStackSymbols method from
	10.5 using this.  For this to be enabled, the configure script will
	require a small modification, which Gregory will add later.

2009-09-10 David Chisnall <csdavec@swan.ac.uk>

	* Source/GSFFIInvocation.m:
	* Source/NSObject.m:
	* Headers/Foundation/NSObject.h:
	Added implementations of the hooks provided by the new runtime.  This
	brings NSObject up to feature-parity with the OS X 10.5 implementation
	when using the new runtime and up to feature-parity with the 10.6
	implementation if you are using the new runtime and compiling with
	clang.

	Also removes the objc_mutex_wibble stuff from NSObject in favour of just
	using NSLocks (which, with the new implementation, are now faster than
	using objc_mutex_stuff).

2009-09-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: ([-limitDateForMode:]) on OSX it seems that only
	one timer fires each time this method is invoked ... so I rewrote this
	method to only fire one timer (excluding the private housekeeping one).
	Changing to only fire one timer actually allows the code to be simpler
	so it's a good update in its own right, not just a OSX compatibility
	tweak.  I also made incrementing repeated timers a bit more robust,
	checking that they provide a valid increment time interval and
	removing them from the loop if they don't.
	* Source/NSTimer.m: slightly tidy/clarify initialisation code and
	documentation.

2009-09-08 Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* configure:
	* config.mak.in:
	* Source/GNUmakefile:
	Attempt to tidy up config now that pthreads are mandatory.
	* Source/NSThread.m:
	Fix various bugs related to thread exit,  Prevent crashes at program
	termination ...nastily obvious on mingw.
	* Source/Additions/GSLock.m:
	Remove -dealloc implementations which called -finalize, since the
	superclass implementationd does that too, and finalizing twice is
	a bad, bad thing.

2009-09-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSConnection.h:
	* Source/NSConnection.m:
	Remove ivars from public header.
	Improve debug by reporting the connections's registered name and/or
	the name of the remote port it is connecting to.

2009-09-07 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/GSRunLoopCtxt.h:
	Add some logging to help debug problems where code is adding too
	many events into a run loop.

2009-09-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Fix the ([-tryLock]) and [(-lockBeforeDate:])
	implementations for NSLock and NSCondictionLock to return NO for
	recursive locking.  Fix to only initialise mutex attributes once
	(to avoid leaking a set of attributes with every lock created on
	platforms where attributes need to be destroyed when no longer used).
	Reorganise to make it easy to replace method implementations.
	Fix for bug #25444 ... OSX compatibility change.

2009-09-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Fix for rare problem if someone changes the
	system time backwards.
	* configure.ac: Check for pthread.h and type sizes.  Insist on having
	pthread.h in order to build, now that it is a requirement.
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/GSConfig.h.in: Declare abstract types.
	* Source/NSLock.m: including pthread.h
	* Headers/Foundation/NSLock.h: Avoid including pthread.h
	Basically, insist on finding pthread.h at configure time, and get size
	of essential types so we can avoid exposing them directly in our
	public headers.  This should discourage developers from using things
	they shouldn't, but it does not solve the issue that copies of the base
	library built with different pthread implementations on the same
	platform may have binary incompatible NSLock classes (with respect to
	subclassing as the pthread specific ivars differ in size).  However
	this is *really* unlikely to be an issue in practice.

2009-09-05 David Chisnall <csdavec@swan.ac.uk>

	* Source/NSEnumeration.m: Added enumeration mutation callback.

2009-09-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Fix a few variable declarations to work with older
	compilers.  Fix indentation/whitespace for coding standards consistency.
	* Source/NSURLProtocol.m: Fix attempt to use deallocated stream.

2009-09-01 David Chisnall <csdavec@swan.ac.uk>

	* Source/NSLock.m
	* Headers/Foundation/NSLock.h
	Completely rewritten implementations of NSLock.h classes.  These are now
	faster, more complete, OS X-compatible, and most importantly actually
	work.  The old ones, for example, called functions that were not
	implemented on Windows.
	* Source/NSThread.m
	Call pthread functions directly in NSThread instead of via the libobjc
	abstraction layer.  Also fixed a few issues, such as GC not being
	initialized properly for NSThread subclasses that override -main
	(Javaism supported by OS X) and tidies up the code in several places,
	removing premature optimizations, especially those that introduce a
	test for an unlikely case at the start of a method and thus slow
	everything down.

	As a result of this change, GNUstep now depends on an implementation of
	POSIX threads.  This is included as standard on all modern UNIX systems,
	and as an option on less-modern UNIX systems and non-UNIX systems,
	including Windows.  If you are building GNUstep on Windows,
	please install the pthreads-win32 package, available from:

	http://sourceware.org/pthreads-win32/

	PLEASE TEST THIS!  There may be some code that depended on the old
	behaviour.  I have been running the new NSLock implementation on FreeBSD
	for a few weeks without issue; please report to me any problems that you
	have on your platform.

2009-09-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Version: bump to 1.19.3
	* Documentation/news.texi: update
	* Documentation/ReleaseNotes.gsdoc: update
	Make 1.19.3 release.

2009-09-01 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSCache.h:
	* Source/NSCache.m:
	Great additions... tweaked with whitespace changes to conform to
	coding standards, addition of copyright headers, addition of standard
	prevention of multiple inclusion, include changes to build independant
	of any existing installation.

2009-08-31 David Chisnall <csdavec@swan.ac.uk>

	* Headers/Foundation/NSCache.h:
	* Headers/Foundation/Foundation.h:
	* Source/NSCache.m:
	* Source/GNUmakefile:
	Added NSCache implementation.

2009-08-31 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSConnection.m:
	Improve -description to include the registered names (if any) of ports.
	Include full port description in connection description.

2009-08-30 David Chisnall <csdavec@swan.ac.uk>

	* Headers/Foundation/NSObject.h: Added NSDicardableContent protocol from
	Snow Leopard.

2009-08-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSCategories.m:
	* Source/Additions/GSCompatibility.m:
	Move -fullPath to correct place to build on OSX

2009-08-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAttributedString.m: ([-string]) was returning proxy to
	mutable string ... bad if calling code does not expect it.

2009-08-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURL.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	* Source/NSURL.m:
	* Source/Additions/GSCategories.m:
	Add new -fulPath method to do what -path used to do, because for OSX
	compatibility the -path method now returns a path without any
	trailing slash, making it impossible to reconsitute a URL string
	from its individual parts :-(
	* Source/GSHTTPURLHandle.m:
	* Source/NSURLProtocol.m:
	Use the new -fullPath method to build the request line sent to the
	remote web server.

2009-08-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Version: bump to 1.19.2
	* Documentation/news.texi: update
	* Documentation/ReleaseNotes.gsdoc: update
	* Source/DocMakefile: Avoid warning about WINAPI
	* Source/NSURLDownload.m: Documentation cleanups
	* Source/NSFileManager.m: ditto
	* Source/Additions/GSCategories.m: ditto
	* Source/Additions/GSMime.m: ditto
	* Source/NSURLConnection.m: ditto
	* Headers/Foundation/NSTimeZone.h: ditto
	* Headers/Foundation/NSURLDownload.h: ditto
	Make 1.19.2 release

2009-08-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
	* Source/GSString.m:
	* Headers/Foundation/NSString.h:
	Tweak boolValue behavior to better match OSX and document exact
	behavior.

2009-08-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandle.m: Fix for write in background on windows
	if a write is not already in progress, do it immediately because
	winsock won't tell us when we can write.  Also, improve the test to
	see if a handle is a socket, as the previous code was not working for
	incoming connections, resulting in a busy poll rather than a blocking
	poll, and thus loading the system unnecessarily.

2009-08-21 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSConnection.m: Joined split-line string constant

2009-08-21 Doug Simons <dpsimons@testplant.com>

	* Source/NSUserDefaults.m: Remove one of the locks in +userLanguages
	to avoid a deadlock.
	Patch applied by: Gregory Casamento <greg.casamento@gmail.com>

2009-08-21 Doug Simons <dpsimons@testplant.com>

	* Source/NSUserDefaults.m: Changes to bulletproof NSUserDefaults from
	deadlocks when it is accessed by more than one thread.
	Patch applied by: Gregory Casamento <greg.casamento@gmail.com>

2009-08-19 Eric Wasylishen <ewasylishen@gmail.com>

	* Source/Additions/GSObjCRuntime.m:
	Behave consistently with MacOS-X when a getter or setter method
	returns a type of data which is not supported by KVC.

2009-08-15 David Chisnall <theraven@gna.org>

	* Source/NSObject:
	- Tweaked NSObject to use atomic ops with LLVM as well as gcc (this
	  probably isn't actually needed)
	- Fixed SIGFPE problem on FreeBSD using proper interfaces instead of
	an asm hack.
	* Removes various mframe things from being compiled when ffcall/libffi
	is used (mframe.m, NSConnection.m, NSInvocation.m)
	* Turned a nested function in make_strings.m into a macro.

2009-08-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Remove some redundant methods and add checks for
	attempts to use a null pointer to set bytes in the data.
	* Source/NSCharacterSet.m: Save mem with index set rather than
	bitmap set

2009-08-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAttributedString.m: Fix keyeded encodgin decoding for
	both NSAttributedString and NSMutableAttributedString.

2009-08-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Fix memory leak introduced with GC changes.
	* Source/Additions/GSMime.m: Use memmove() as fix for bug #27224

2009-08-10 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Fix memory leak introduced with GC changes.

2009-08-05 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
	* Headers/Foundation/NSFileManager.h:
	Updated comments/documentation to say that directory enumeration order
	is undefined.

2009-08-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.m: Escape non-ascii characters etc in author.

2009-08-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Fix for handling empty key values in
	XML property lists.

2009-08-03 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Fix error in memory allocation debug when
	swizzling a class.

2009-07-30  Quentin Mathe <qmathe@club-internet.fr>

	* Headers/Foundation/Foundation.h: Included NSKeyValueObserving.h.

2009-07-28 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: Correct the text in exception when attempting
	to read a response on an invalidated connection.
	* Source/Additions/GSMime.m:
	Fixup incorrect declaration of method in wrong class implementation.

2009-07-27  David Ayers  <ayers@fsfe.org>

	* Source/Additions/GSCompatibility.m ([-boolValue]): Only compile
	for OS X Versions below 10.5 and sync implementation with -base.
	Reported by: Georg Fleischmann

2009-07-23 Richard Frith-Macdonald <rfm@gnu.org>

	* GSHTTPURLHandle.m:
	* NSURLProtocol.m:
	Include the port in the 'Host' header if it's specified in the URL.

2009-07-21 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSInternal.h: New macros for CLANG/non-fragile ivar compat.
	* Source/NSOperation.m: Use new macros.

2009-07-17 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSOperation.m: Fix includes and text of comments at start
	of document.

2009-07-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSOperation.h:
	* Source/NSOperation.m:
	Various changes for maintainability and coding standards ... nothing
	which should effect functionality.

2009-07-14 20:02-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/NSOperation.h
	* Source/NSOperation.m: Added initial implementation of
	NSOperationQueue.

2009-07-13 14:15-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Headers/Foundation/Foundation.h
	* Headers/Foundation/NSOperation.h
	* Source/GNUmakefile
	* Source/NSOperation.m: Initial implementation of NSOperation
	class.

2009-07-11 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcreteMapTable.m: Add some comments.
	* Source/NSConcreteHashTable.m: Dito
	* Headers/Additions/GNUstepBase/GSIMap.h: Make explicit that fields in
	enumerator are all big enough to hold pointers.

2009-07-04 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: Add daignostic check.
	* Source/NSSocketPort.m: Make sure socklen_t is defined.
	Shoudl fix bug #26856

2009-06-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* configure.ac:
	* configure:
	* config/config.poll-dev.c: Add test to configure to avoid using
	the broken poll implementation on Mac OS X 10.4 and later, which
	does not support devices.

2009-06-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: ([-parse]) don't split whitespace strings
	at newline.

2009-06-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSRunLoopCtxt.m: Fix error sending received event
	handle to watcher.  Had broken TCP/IP ports.

2009-06-19 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Fix incorrect attempt to free memory
	we shouldn't.  Should fix bug #26843

2009-06-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePort.m: Don't use NSLog() to report error
	when writing to mailslot ... it's usually just that the remote
	end has terminated, so invalidating the port silently is better.
	* Source/GSFileHandle.m: Adjust code to deal with fstat() returning
	a failure on windows if the descriptor is a pipe/socket.

2009-06-13 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSArchiver.h:
	Fix error cleaning up a define.

2009-06-12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedNotificationCenter.m: add explicit size casts
	to avoid compiler warnings.
	* Source/NSUserDefaults.m: Save defaults in xml format and add some
	error checking.
	* Source/NSPropertyList.m: tolerate NSNumber values used as dictionary
	keys, by using their string representation.

2009-06-09 Richard Frith-Macdonald <rfm@gnu.org>

	* SSL/Source/GSSSLHandle.m: Disable v2 by default due to
	security issues.  GSPermitSSLv2 user default can enable it again.

2009-06-08 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Optimise somewhat for converting
	from unicode (UTF-2) to UTF-8
	* Source/GSString.m: Optimise 8 bit string equality tests a little.

2009-06-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Optimise case where we are converting
	from unicode to latin1 or ascii.
	* Source/GSString.m: Optimise -hash method of NXConstantString too.

2009-06-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/GSFFIInvocation.m
	(-initWithCallback:returnp:values:frame:signature:): Fix bug
	#26419 by removing bogus code which was used on targets where
	MFRAME_STRUCT_BYREF is defined.

2009-06-06 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: When converting from a characterset
	to unicode, and we know that there is a one to one correspondence
	between the characterset values and unicode values, shift the
	buffer sizing outsize the loop through the characters to avoid
	unnecessary checks for the end of the buffer in each iteration.
	Optimisation suggested by Fred Kiefer

2009-06-05 18:12-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSDistantObject.m: NSProxy subclasses must override -init
	or an exception will be thrown. This change calls the forwarding
	mechanism to invoke -init on the remote object.
	Patch by David Chisnall <theraven@sucs.org>

2009-06-04 Georg Fleischmann <G.Fleischmann@vhf.de>

	* Source/Additions/unicode/nextstep.h: Fixups for encoding mapping.

2009-06-02  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSUndoManager.m (-undo, -redo): Call -_begin instead of
	-beginUndoGrouping to avoid creation of a spurious top-level group
	while performing undo or redo operations, which was causing the
	recorded actions to be dropped silently.

	* Source/NSUndoManager.m (-beginUndoGrouping): Post
	NSUndoManagerCheckpointNotification also during undo as on OS X.

	* Source/NSUndoManager.m (-endUndoGrouping): Post
	NSUndoManagerWillCloseUndoGroupNotification before changing the
	group so that clients see the same grouping level as on OS X.

2009-05-29 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSObject.m: Atomic increment and decrement functions for m68k

2009-05-29 Nicola Pero <nicola.pero@meta-innovation.com>

	* GNUmakefile: Use $(warning ...) instead of $(info ...) since
	$(info ...) exists only in GNU make >= 3.81.
	* NSCharacterSets/GNUmakefile: Same change.
	* Source/GNUmakefile: Same change.
	* SSL/GNUmakefile: Same change.
	* Documentation/GNUmakefile: Same change.
	* Resources/GNUmakefile: Same change.
	* NSTimeZones/GNUmakefile: Same change.
	* Examples/GNUmakefile: Same change.
	* Tools/GNUmakefile: Same change.

2009-05-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Updates to match latest MacOS-X behavior.
	The +new and -init methods now return nil.
	Timers are now treated like input sources for purposes of deciding
	whether the loop will block and whether performerds will execute.
	* Source/NSTimer.m: Updates to match latest MacOS-X behavior.
	The +new and -init methods now return nil.

2009-05-24 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: Use lock to prevent race condition setting up
	runloop info for thread.

2009-05-23 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m:
	Permit setters which return values.

2009-05-22 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m:
	* Source/NSBundle.m:
	Try to get the path right for loading dynamic library code on windows
	when NSExecutable doesn't have the .dll path extension.

2009-05-16 Doug Simons <doug@riverrock.org>

	* Source/NSCalendarDate.m:
	Implement field widths for numeric fields in a date format for
	MacOS-X compatibility.

2009-05-16 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Add support for file URLs on mswindows.  The path
	may be of the form C:/... rather than /... (and the colon might be
	a vertical bar).
	Also makefile fixes for bug #26446

2009-05-11  Adam Fedor  <fedor@gnu.org>

	* Source/NSXMLParser.m: Fix include location

2009-05-10  Adam Fedor  <fedor@gnu.org>

	* Version 1.19.1

2009-05-06  Adam Fedor  <fedor@gnu.org>

	* Documentation/news.texi, Documentation/releasenotes.texi: Update.

2009-05-04  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSObject.m: Correct asm for PPC.
	Patch by Eric Wasylishen <ewasylishen@gmail.com>
	* Source/NSObject.m: Add support for new gcc atomic build
	ins. Currently still disabled.
	Patch by David Chisnall <theraven@sucs.org>

2009-05-04 Richard Frith-Macdonald <rfm@gnu.org>

	* NSCharacterSets/GNUmakefile:
	* Source/GNUmakefile:
	* SSL/GNUmakefile:
	* Documentation/GNUmakefile:
	* Resources/GNUmakefile:
	* Examples/GNUmakefile:
	* NSTimeZones/GNUmakefile:
	* GNUmakefile:
	* Tools/GNUmakefile:
        Add help info for the case when gnustep-config can't tell us the
        location of the makefiles.

2009-05-03 Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSURLProtocol.m: Removed c99-ism

2009-05-03 Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GNUmakefile.postamble: remove generated files from pathconfig
        subdirectory on distclean.

2009-04-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix bug #26360 plus optimise a little.
	* Source/NSURL.m: Send over DO bycopy as default.

2009-04-27 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSData.h:
	* Source/NSData.m:
	Implement new MacOS-X methods for writing data (no support for
	returning NSError objects yet).

2009-04-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFTPURLHandle.m: Implement full support for multiline
	responses. Fix for bug #26348

2009-04-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSZone.h:
	* Source/NSHashTable.m:
	* Source/NSZone.m:
	* Source/NSDecimal.m:
	Fix errors generating documentation.

2009-04-26 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: ([changeFileAttributes:atPath:]) optimise
	to avoid unnecessary creation of NSNumber objects as suggested by
	Greg.

2009-04-25 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Reinstate incorrectly reverted changes.
	Fix actual bug in Fred's patched version ... some code incorrectly
	returning an integer when it should return an NSNumber.

2009-04-25 08:35-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/NSFileManager.m: Partial reversion of previous patch.
	The calls in the method changeAttribues:atPath: to the GSAttrDictionary
	which is used there were erroneously changed to assume an NSNumber.
	This was causing a crash in various applications.

2009-04-24  Fred Morcos <fred.morcos@gmail.com>

	* Headers/Foundation/NSFileManager.h:
	* Source/NSFileManager.m:
	Fix -fileOwnerAccountID and -fileGroupOwnerAccountID to return the
	correct type.  Also fix return type of HFS methods (though these are
	Apple filesystem specific and do nothing in GNUstep).

2009-04-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHashTable.m:
	* Source/NSConcreteHashTable.m:
	* Source/NSMapTable.m:
	* Source/NSConcreteMapTable.m:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	Changes for GC zeroing weak pointers.  Implement enumeration stuff for
	new classes. Add code to support subclassing.

2009-04-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: Implement the
	([countByEnumeratingWithState:objects:count:]) method.

2009-04-18 10:15-EDT Gregory John Casamento <greg.casamento@gmail.com>

	* Source/GSURLPrivate.h: Addition of private method to NSURLProtocol
	category.
	* Source/NSURLConnection.m: Changes to use the new method and to correct
	bug #26107.  Patch by: doug@riverrock.org
	* Source/NSURLProtocol.m: Addition of static method to look up class
	which can handle the given connection protocol.
	Patch by: doug@riverrock.org

2009-04-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSHasTable.h: new OSX 10.5 API
	* Source/NSHashTable.m: New abstract class
	* Source/NSConcreteHashTable.m: concrete implementation
	* Source/NSKeyValueObserving.m: Fix incorrect hash table references.

2009-04-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Change placeholder string initialisation so that,
	in a GC world, it checks to see if the buffer passed to it is
	collectable and forces a copy if it isn't.  This prevents memory leaks
	when a malloc'ed buffer is passed to the initialiser.

2009-04-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h: New private functions.
	* Source/NSObject.m: Add function to swizzle isa pointer safely.
	* Source/NSZone.m: Add function to check for collectable memory.
	* Source/NSData.m: Add finalisation for shared memory and mapped
	files. Add finalized subclasses to deal with memory which must be
	freed when the NSData is collected.

2009-04-11 01:12-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSLock.m: Move the warning to a debug log.

2009-04-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/cifframe.m:
	* Source/callrame.m:
	Update for GC to use scanned memory to hold pointers we got from
	the stack so that memory will persist as long as the invocation
	needs it.

2009-04-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/GSString.m:
	* Source/NSZone.m:
	GC tweaks ... Improve realloc when in gc world.

2009-04-03  Adam Fedor <fedor@gnu.org>

	* Source/NSObject.m: Revert previous patch (David to fix up later).

2009-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSInvocation.h:
	* Source/NSInvocation.m:
	Remove unused private method pointed out by David Chisnall.

2009-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSDebug.h:
	* Source/mframe.m:
	* Source/NSObject.m:
	Cleanups for building with other compilers as suggested/provided
	by David Chisnall.

2009-03-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix error in parsing root of UNC path

2009-03-28  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSSocketPort.m (-receivedEvent:...forMode:): Fix usage of
	ET_WDESC for MINGW32.

2009-03-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.h:
	* Source/GSSocketStream.m:
	Avoid unnecessary memory allocation.
	Use weak pointers to break finalisation cycles.
	* Source/NSZone.m: Use GC debug unless built with 'debug=no'
	Allocate memory ignoring pointers into the allocated data.

2009-03-21  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac:
	* configure:
	* Headers/Additions/GNUstepBase/config.h.in:
	* Source/NSDebug.m:
	Try using sigsetjmp for dealing with signals during stack trace,
	in case it helps work arouns bugs in signal handling.

2009-03-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	Fix to treat exceptional (out of band) event as meaning a readable
	rather than a writable descriptor.

2009-03-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLCredential.m:
	* Source/NSURLAuthenticationChallenge.m:
	* Source/NSURLDownload.m:
	* Source/NSURLCredentialStorage.m:
	* Source/NSURLResponse.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLCache.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSCachedURLResponse.m:
	* Source/NSHTTPCookie.m:
	* Source/NSURLProtectionSpace.m:
	* Source/GSHTTPAuthentication.m:
	* Source/NSURLRequest.m:
	* Source/NSXMLParser.m:
	* Source/NSURLConnection.m:
	Fix some errors in header comments.

2009-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationQueue.m: Fix dealloc bug pointed out by
	Larry Campbell.

2009-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandle.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSConcreteMapTable.m:
	* Source/Additions/GSCompatibility.m:
	* Source/Additions/GSCategories.m:
	* Source/NSData.m:
	Fixes for windows and changes to GC code, plus changes for old
	compilers which don't support anonymous unions, plus improvement
	to error reporting on windows, plus fix to correctly rename
	protected files if possible.

2009-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcretePointerFunctions.h: Minor GC tweaks
	* Source/NSMessagePortNameServer.m: Fix map table declaration
	* Source/NSKeyedUnarchiver.m: ditto
	* Source/NSKeyValueObserving.m: ditto
	* Source/NSObject.m: ditto
	* Source/GNUmakefile: Add NSConcreteMapTable.m
	* Source/NSConcreteMapTable.m: New file for new class
	* Source/NSMapTable.m: Change to be an abstract class
	* Headers/Foundation/NSMapTable.h: Add new MacOS-X 10.5 API
	* Headers/Additions/GNUstepBase/GSIMap.h: Some changes for
	new map table API.

2009-03-12  Bernard Cafferelli <voyageursp@gmail.com>

	* configure.ac: Add --disable-zeroconf option to control whether
	NSNetServices (and a dependency on libdns_sd) is enabled.

2009-03-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSIArray.h:
	* Source/NSNotificationCenter.m:
	* Source/NSRunLoop.m:
	* Source/NSZone.m:
	Various small GC bugfixes to get more of testsuite passing.

2009-03-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSIArray.h:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	* Headers/Foundation/NSZone.h:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/Unicode.m:
	* Source/GSAttributedString.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSPrivate.h:
	* Source/GSSet.m:
	* Source/NSArchiver.m:
	* Source/NSConnection.m:
	* Source/NSHashTable.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSMapTable.m:
	* Source/NSNotificationCenter.m:
	* Source/NSPortCoder.m:
	* Source/NSRunLoop.m:
	* Source/NSSerializer.m:
	* Source/NSURL.m:
	* Source/NSZone.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	More moves towards OSX 10.5 GC compatibility.
	With GC add some use of typed memory and remove the old
	GNUstep specific GSAtomicMallocZone() from public API.
	Still needs new NSHashTable and NSMaptable implementations.

2009-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m:
	* Source/GSStream.m:
	* Source/NSConnection.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSObject.m:
	* Source/NSPort.m:
	* Source/NSXMLParser.m:
	GC tweaks to use new API.

2009-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Remove unused code for holding reference counts
	in an external map.

2009-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Implement new mechanism for handling
	SOAP responses with HTTP status 500.  Interim measure lntil the
	NSURLConnection family of class is more complete.

2009-03-01  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSBundle.m (-localizedStringForKey:value:table): Correct
	output when NSShowNonLocalizedStrings is YES.

2009-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m:
	Fix for retry with authentication based on patch by Philippe Roussel

2009-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
	Fix for bug #25720 as suggested by Michael Johnston

2009-02-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSetData.h:
	* Source/GSRunLoopWatcher.h:
	* Source/GSRunLoopWatcher.m:
	* Source/GSRunLoopCtxt.h:
	Add missing copyright/license comments.

2009-02-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUndoManager.m: Revert last change (to match OSX 10.5)
	Also rework a little to recreate undocumented OSX behavior of
	implicitly creating a top-level undo group if -beginUndoGroup
	is called for a manager configured with groupByEvent.

2009-02-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m:
	* Source/GSSocketStream.h:
	* Source/NSTimeZone.m:
	* Source/NSNetServices.m:
	* Source/NSURLCredential.m:
	* Source/GSSocketStream.m:
	* Source/NSURLAuthenticationChallenge.m:
	* Source/NSCalendarDate.m:
	* Source/NSPropertyList.m:
	* Source/GSConcreteValueTemplate.m:
	* Source/NSAffineTransform.m:
	* Source/NSConcretePointerFunctions.h:
	* Source/NSPathUtilities.m:
	* Source/NSScanner.m:
	* Source/NSProcessInfo.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSNotificationQueue.m:
	* Source/NSGeometry.m:
	* Source/NSConcretePointerFunctions.m:
	* Source/NSRunLoop.m:
	* Source/NSAttributedString.m:
	* Source/NSUndoManager.m:
	* Source/NSMethodSignature.m:
	* Source/NSUserDefaults.m:
	* Source/NSArray.m:
	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSDebug.m:
	* Source/unix/NSStream.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSURLDownload.m:
	* Source/NSPredicate.m:
	* Source/NSAssertionHandler.m:
	* Source/NSZone.m:
	* Source/NSPort.m:
	* Source/GSPrivate.h:
	* Source/win32/NSStream.m:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/NSURLResponse.m:
	* Source/NSURLCache.m:
	* Source/NSCoder.m:
	* Source/NSException.m:
	* Source/NSCopyObject.m:
	* Source/NSURL.m:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/NSDecimalNumber.m:
	* Source/cifframe.m:
	* Source/Additions/GCArray.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GSMime.m:
	* Source/NSNumber.m:
	* Source/NSDecimal.m:
	* Source/GSString.m:
	* Source/NSThread.m:
	* Source/NSHTTPCookie.m:
	* Source/NSData.m:
	* Source/NSProxy.m:
	* Source/NSURLProtectionSpace.m:
	* Source/NSError.m:
	* Source/NSDictionary.m:
	* Source/NSURLRequest.m:
	* Source/NSValue.m:
	* Source/NSCountedSet.m:
	* Source/NSIndexSet.m:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/NSSet.m:
	* Source/NSArchiver.m:
	* Source/NSXMLParser.m:
	* Source/GSURLPrivate.h:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSNetServices.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSAffineTransform.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSNotificationQueue.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSDecimal.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSZone.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	* Tools/gdnc.h:
	* Tools/gdnc.m:
        Conversion of everything to use the new MacOS-X 10.5 API where return
        values and arguments use the NSInteger, NSUInteger, and CGFloat types.
        For now, as suggesed by David, the proper 10.5 behavior is turned off
        and those types are equivalent to the types used by the old API.
        Edit Headers/Foundation/NSObjCRuntime.h to turn on the new behavior
        where the integer types are the same size as a pointer, and the float
        type is actually a double on 64bit processors.

2009-02-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m:
	make float and double interchangable to cope with MacOS-X 10.5
	API which can use either for CGFloat.

2009-02-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSGeometry.h:
	* Source/NSGeometry.m:
	Inspired by Matt Rice's comments on NSEqualRects(), moved the
	equality testing functions from the header to the implementation
	file and added conditionally compiled code to allow us to do a
	fuzzy equality test.  Still need to decide whether this is actually
	the correct thing to do though.

2009-02-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUnarchiver.m:
	make float and double interchangable to cope with MacOS-X 10.5
	API which can use either for CGFloat.
	* Source/NSXMLParser.m: optimize sloppy parser somewhat.

2009-02-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/mframe/i386/linux:
	* Source/mframe/i386/sysv4.2MP:
	* Source/mframe/i386/linux-gnu:
	* Source/mframe/i386/sysv4.2uw2.1.3:
	* Source/mframe/i386/freebsd:
	* Source/mframe/i386/openbsd:
	* Source/mframe/i386/generic:
	Update/fix macro to build method signature information.

2009-02-20  Richard Frith-Macdonald <rfm@gnu.org>

        * configure.ac: Add checks for backtrace() function
        * Headers/Additions/GNUstepBase/config.h.in: regenerate
        * configure: regenerate
        * Source/NSDebug.m: Use backtrace() to get stack if possible ...
        it's more reliable than gcc's __builtin_frame_address() function.
        * Source/cifframe.m: Allocate a slightly larger buffer when
        processing invocations ... somehow this fixes a write outside
        allocated memory by the ffi library on my 64bit debian system.

2009-02-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUndoManager.m: Don't post checkpoint notification when
	beginning top level group.  Fix for #25607

2009-02-16  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Look in LOCAL for headers/libs

	* Headers/Foundation/NSObjCRuntime.h: Define NSINTEGER_DEFINED.
	* Headers/Additions/GNUstepBase/GSCategories.h,
	Headers/Additions/GNUstepBase/GSUnion.h: Additional definitions to compile
	with apple-apple-apple.

2009-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/pathconfig/configure.ac: Warn if gnustep-config not found.
	* Source/pathconfig/configure: regenerate
	* Headers/Foundation/NSPointerArray.h: Add more comments.

2009-02-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPointerArray.m: Initial implementation.  Untested.
	No coding/decoding support.

2009-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPointerFunctions.m: Add some more functions to be set by
	options.

2009-02-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPortCoder.m: Use scanned memory to hold array
	* Source/NSKeyedUnarchiver.m: ditto
	* Source/NSFileManager.m: ditto

2009-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUnarchiver.m:
	* Source/NSString.m:
	* Source/Additions/GSMime.m:
	* Source/NSData.m:
	* Source/GSHTTPAuthentication.m:
	* Source/NSSerializer.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	Various changes to use unscanned collectable memory with GC.

2009-02-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationCenter.m: Fix bug removing observations for
	collected observers.
	* Headers/Foundation/NSGarbageCollector.h:
	* Source/NSGarbageCollector.m:
	* Source/NSObject.m:
	Update the behavior of the -zone method to match MacOS-X 10.5 and
	always return the default zone when used with GC.

2009-02-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConcretePointerFunctions.h:
	* Source/NSConcretePointerFunctions.m:
	* Source/NSPointerFunctions.m:
	* Source/NSPointerArray.m:
	* Source/GNUmakefile:
	Partial implementation of concrete pointer functions class.

2009-02-09  Xavier Glattard <xavier.glattard@online.fr>

	* Headers/Foundation/NSPredicate.h:
	* Source/NSPredicate.m: Declare and implement two new methods for
	filtering NSSet:
	  * [-filterUsingPredicate:]
	  * [+filteredSetUsingPredicate:]

2009-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortNameServer.m: Fix GC error on windows
	as reported by Ly Liyi
	* configure.ac: Check for new GC_allow_register_threads() function.
	* Source/NSThread.m: Attempt to fix thread registration for GC.
	* Source/NSObject.m: Initialise finalize on mingw as well as unix.
	* Source/NSZone.m: Remove unnecessary casts.

2009-02-09  Matt Rice  <ratmice@gmail.com>

	* Headers/Foundation/NSZone.h (GSMakeWeakPointer): Rename class
	variable to theClass for objc++.

2009-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: Implement new methods for inserting and replacing
	objects at indexes in an NSIndexSet.
	* Headers/Foundation/NSObject.h: Minor whitespace fix
	* Source/NSNetServices.m: Mark unimplemented method.
	* Headers/Foundation/NSXMLDocument.h: new class
	* Headers/Foundation/NSXMLNode.h: new class
	* Headers/Foundation/NSXMLNodeOptions.h: new class
	* Headers/Foundation/NSXMLDTD.h: new class
	* Headers/Foundation/NSXMLDTDNode.h: new class
	* Headers/Foundation/NSXMLElement.h: new class
	* Headers/Foundation/Foundation.h: Add new class headers
	* Source/NSXMLDocument.m: skeleton of class
	* Source/NSXMLDTD.m: skeleton of class
	* Source/NSXMLNode.m: skeleton of class
	* Source/NSXMLDTDNode.m: skeleton of class
	* Source/NSXMLElement.m: skeleton of class
	* Source/NSXMLPrivate.h: Private header for all NSXMLNode based stuff.
	* Source/GNUmakefile: Add new NSXML classes
	* Source/DocMakefile: ditto
	Mostly, add the (unimplemented) XML classes introduced in the latest
	version of MacOS-X.  Currently the classes are unimplemented method
	stubs, but the idea is to wrap libxml2 in a similar way to that in
	which GSXML does it.
	NB. The current ivar layout is reverse engineered from MacOS-X on the
	assumption that we will try to be extremely compatible and use the
	same (inferred) mechanism of having the libxml2 tree be the master
	data and only using the objc ivars to cache information when we
	retrieve it in the form of NSStrings etc. Maybe we will chose to
	do something different later.

2009-02-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: Correct error comparing method
	signatures.  Fixes bug #25520

2009-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Use pointerValue rather than
	nonretainedObjectValue  to hold classes ... because the garbage
	collector might collect the latter, and we really just need to
	hold references to classes without sending messages to them.
	* Headers/Additions/GNUstepBase/GSIArray.h: Alterations for noe
	Apple GC API
	* Source/NSIndexSet.m: Use scanned memory for arrays.

2009-02-04 15:00-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUnarchiver.m: Correct issue with printing class name
	when the unarchiver can't find the class.

2009-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMapTable.m:
	* Source/NSHashTable.m:
	* Source/NSPortCoder.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSGarbageCollector.m:
	* Source/NSZone.m:
	* Source/GSDictionary.m:
	* Source/GSCountedSet.m:
	* Source/GSAttributedString.m:
	* Source/NSNotificationCenter.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/GSSet.m:
	* Source/NSConnection.m:
	* Source/NSSerializer.m:
	* Source/NSArchiver.m:
	* Headers/Foundation/NSZone.h:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	Scrap GSScannedMallocZone().. not really needed.

2009-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m: Add some diagnostics and ensure that
	delegates are removed from streams.
	* Source/NSURLConnection.m: Add diagnostics for redirect.
	* Source/GSStream.m: Set delegate to nil after failure.

2009-02-04  David Chisnall <csdavec@swansea.ac.uk>

	* Source/GSArray.m: Further fast enumeration bugfixes.
	* Source/GSEnumerator.m: ditto.

2009-02-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSZone.m: Restore binary compatibility with earlier code.
	Thanks to David Chisnall for the idea.

2009-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: For file URL, make relative path absolute.
	* Source/GSHTTPURLHandle.m:
	* Source/Additions/GSMime.m:
	Change HTTP status code to be an NSNumber rather than NSString
	for MacOS-X compatibility

2009-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/readme.texi:
	* README: Remove reference to Testing
	* Examples/nsconnection_server.m:
	* Examples/diningPhilosophers.m:
	* Examples/nsconnection_client.m:
	* Examples/nsconnection.m: Transferred from Testing
	* Testing: removed
	Removed Testing subdirectory.  Now that locking tests are in the
	testsuite all the code here is probably obsolete.  If we find any
	cases where that's not the case, we should recover anything we
	need from svn and add it to the testsuite.

2009-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Fixed last change to match MacOS-X behavior.

2009-01-29 17:49-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSLock.m: Change to correct documented/tested and observed
	inconsistency between Cocoa (and OpenStep) and GNUstep.
	Reinstatement of correction for bug #25307.   Testing on both OpenStep
	and on Cocoa clearly illustrates that throwing an exception in this
	case was incorrect.  It now emits a warning when the lock is attempted
	again, but does not throw an exception.
	* Testing/locktest/locktest.m: Change to test to correctly test
	[NSConditionLock lock]

2009-01-28 21:48-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Testing/locktest/GNUmakefile
	* Testing/locktest/GNUmakefile.preamble
	* Testing/locktest/locktest.1
	* Testing/locktest/LockTestInfo.plist
	* Testing/locktest/locktest.m
	* Testing/locktest/locktest_Prefix.pch
	* Testing/locktest/locktest.xcodeproj/project.pbxproj
	* Testing/locktest/PC.project: Test which confirms the behavior
	observed on Mac OS X/Cocoa.

2009-01-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSEnumerator.m: Fix bug in fast enumeration code.
	* Source/GSArray.m: Fix bug in array insertion introduced by last
	patch.

2009-01-28  David Chisnall <csdavec@swansea.ac.uk>

	* Headers/Foundation/NSEnumerator.h:
	* Source/NSEnumerator.m:
	* Source/GSArray.m:
	* Source/GSprivate.h:
	Add Apple's fast enumeration protocol.

2009-01-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Fix problem preventing stack traccces from
	being generated.

2009-01-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSValue.m: ([valueWithNonretainedObject:]) zero the reference
	when the object is collected.

2009-01-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Compatibility tweaks for a few MacOS-X oddities...
	Initialise file URLs with a host of 'localhost' even though they
	should really have none.
	Return paths without a trailing slash, even when they were set
	with one.

2009-01-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Fix for bug #25400
	* Tools/gdnc.m: Fix failure to log exception (bug #25396)
	* Tools/gdomap.c: Use snprintf for paranoid double check
	of data in log buffer.

2009-01-23  Riccardo Mottola <rmottola@users.sf.net>

	* Source/NSPointerFunctions.m,
	* Headers/Foundation/NSPointerFunctions.h: Fix return pointer type

2009-01-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GNUstep.h:
	Optimise retain/release management macros for the case where they
	are dealing with none-nil values.
	* Headers/Additions/GNUstepBase/GSIMap.h:
	Some changes moving towards use of typed memory for gc.
	* Headers/Foundation/NSPointerArray.h: New class header.
	* Source/NSPointerArray.m: Skeletal (non-working) implementation

2009-01-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	Improve debug logging by including the address of the actual
	handle concerned so that you can see which handle is doing what
	when there are multiple handles in use.
	* Source/NSGarbageCollector.m: Implement last methods.
	* Headers/Foundation/NSGarbageCollector.h: Improve documentation.
	* Source/NSAutoreleasePool.m: ([-drain[) Implemented.
	* Headers/Foundation/NSAutoreleasePool.m: ([-drain]) fix comment.
	* Source/NSPointerFunctions.m: New class implementation
	* Headers/Foundation/NSPointerFunctions.h: Fix some declarations
	* Headers/Foundation/Foundation.h: Include NSPointerFunctions.h
	* Source/GNUmakefile: Build and install NSPointerFunctions

2009-01-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: ([setObject:forKey:]) copy the object
	rather than just retaining it. Fixes bug #23570

2009-01-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/manual/ExceptionHandling.texi: Fix error in
	example of use of NS_VALUERETURN spotted by David Chisnall.

2009-01-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m: Automtically remove collected observers
	In a garbage collecting environment.
	* Headers/Foundation/NSZone.h:
	* Source/NSZone.m:
	Add new functions for handling weak pointers.  This allows all code
	which uses the boehm garbage collector header to be localised in
	NSZone.m and NSGarbageCollector.m
	* Source/NSNotificationCenter.m:
	Update to use new functions.
	* Source/Additions/GSInsensitiveDictionary.m:
	Fix to use scanned memory in a garbage collecting environment.

2009-01-19  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add options from pathconfig
	* configure: regenerate

2009-01-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSZone.h:
	* Source/NSZone.m:
	Add NSAllocateCollectable() and NSReallocateCollectable() functions.
	Move inline stuff from header to source fle so that GC differences
	are hidden.   Change behavior under GC so that the default malloc
	zone is non-collectable (as under MacOS-X).
	* Headers/Additions/GNUstepBase/GSIMap.h:
	Use scanned collectable memory for map.
	* Source/Additions/GSObjCRuntime.m:
	Use NSAllocateCollectable() for fast buffer.
	* Source/GSArray.m:
	* Source/GSCountedSet.m:
	* Source/GSDictionary.m:
	* Source/GSSet.m:
	* Source/NSArchiver.m:
	* Source/NSConnection.m:
	* Source/NSHashTable.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSMapTable.m:
	* Source/NSNotificationCenter.m:
	* Source/NSObject.m:
	* Source/NSPortCoder.m:
	* Source/NSSerializer.m:
	* Source/NSPropertyList.m:
	Use scanned collectable memory in places where we allocate memory to
	hold pointers.  This change is needed because of the switch to have
	the default zone use unscanned uncollectable memory as in MacOS-X.
	These changes probably just scratch the surface ... we need to review
	all memory allocation as, anywhere we allocate memory now will need
	to be done differently under GC.  This does mean that all existing
	code needs more work to port to GC than it otherwise would.  On the
	other hand, a switch to GC is really quite a major design change.

2009-01-17  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/unix/GSRunLoopCtxt.m (+awakenedBefore): Fix typo.

2009-01-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Revert last change.
	The Cocoa documentation actually says nothing about exceptions either
	way.  I recall there was some discussion about lock behavior a few
	years ago, which concluded that the GNUstep behavior was the best
	available ... it returns NO if the lock is unavailable, but raises an
	exception if you try to lock the lock twice from the same thread,
	since locking twice from the same thread is almost guaranteed to be
	a programming error.
	If we want to remove this check, we need to do it consistently for
	all locks and document the new behavior.

2009-01-16 17:26-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSLock.m: Correction for bug #25307.  According to Cocoa
	documentation, NSConditionLock should return NO, if the lock is
	unavailable.  No exception should be thrown.

2009-01-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Revert temporary hack to work around bug in
	NSAnimation, hopefully fixed in NSAnimation now.

2009-01-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Cleaned up a little and added hack as a temporary
	fix for #25327, though I'm suspecting that the actual problme is in the
	NSAnimation code.

2009-01-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/GSRunLoopCtxt.h:
	* Source/win32/GSRunLoopCtxt.m:
	Introduce new method to quickly check for notification of methods
	to perform in the current loop.

2009-01-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSGarbageCollector.m: Avoid compiler warning
	* Source/pathconfig/pathconfig.mak.in: Fix syntax error in warning
	* Headers/Additions/GNUstepBase/GSCategories.h: remove obsolete methods
	* GNUmakefile: Fix order of includes
	* Source/GSArray.m: Remove unused line from last change
	* Source/NSNotificationCenter.m: Remove unused line

2009-01-13 18:35-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GSArray.m
	* Source/NSNotificationCenter.m: Quick fixes for two compiler
	errors introduced by previous change.

2009-01-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSGarbageCollector.m: Mark the two unimplemented methods.
	* Source/NSNotificationCenter.m: Automatically remove observers if
	they are collected by the GC system.
	* Source/NSThread.m: Make the GC system aware of each thread if poss.
	* Source/GSArray.m: Don't use inline array class with GC.
	* configure.ac: Add check for GC_register_my_thread

2009-01-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile:
	* Headers/Foundation/NSGarbageCollector.h:
	* Source/NSGarbageCollector.m:
	* Headers/Foundation/Foundation.h:
	Add new MacOS-X class.

2009-01-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/NSMessagePort.m:
	* Source/NSNotificationCenter.m:
	* Source/GSAttributedString.m:
	* Source/NSObject.m:
	* Source/Additions/GSLock.m:
	* Source/NSConnection.m:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/NSDistantObject.m:
	* Source/NSTask.m:
	* SSL/GSSSLHandle.m:
	* Documentation/Base.ispell:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	Change GC finalization API to match MacOS-X ... abandon libFoundation
	compatibility in GC behavior.

2009-01-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSTimeZone.m:
	* Source/GSInvocation.h:
	* Source/GSSocketStream.m:
	* Source/NSValueTransformer.m:
	* Source/NSPortCoder.m:
	* Source/NSSpellServer.m:
	* Source/NSBundle.m:
	* Source/NSURLHandle.m:
	* Source/NSPropertyList.m:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/GNUmakefile:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/NSUserDefaults.m:
	* Source/NSArray.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSDebug.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSKeyValueObserving.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSFFIInvocation.m:
	* Source/NSMessagePort.m:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/NSURLResponse.m:
	* Source/NSURLProtocol.m:
	* Source/NSException.m:
	* Source/NSURL.m:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/NSDecimalNumber.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GNUmakefile:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GSMime.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSThread.m:
	* Source/NSHost.m:
	* Source/NSProtocolChecker.m:
	* Source/GSHTTPAuthentication.m:
	* Source/NSSerializer.m:
	* Source/NSClassDescription.m:
	* Source/GSFileHandle.m:
	* Source/NSSet.m:
	* Source/NSDistantObject.m:
	* Source/NSTask.m:
	* Source/NSNumberFormatter.m:
	* Source/GSFTPURLHandle.m:
	* SSL/GSSSLHandle.m:
	* configure.ac:
	* configure:
	* base.make.in:
	* Tools/sfparse.m:
	* Tools/plget.m:
	* Tools/AGSParser.m:
	* Tools/autogsdoc.m:
	* Tools/AGSOutput.m:
	* Tools/HTMLLinker.m:
	Tweaks to get things to compile with garbage collection again
	and (mostly) compile without warnings.

2009-01-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimer.m: ([invalidate]) release target and user info.

2009-01-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Revert last change.  Remove undocumented code
	which looked for operating system specific files. Also changed
	behavior when given a nil/empty extension to match MacOS-X.
	Also optimised and simplified code and changed a private method
	which was missing the leading underscore.

2009-01-07 16:33-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBundle.m: Correct issue where *-gnustep.* is not
	searched for when explicitly calling pathForResource:...

2009-01-06  Richard Frith-Macdonald <rfm@gnu.org>

	* configure:
	* config.mak.in:
	* Source/NSPathUtilities.m:
	* Source/GNUmakefile:
	* Source/pathconfig:
	* Source/pathconfig/configure:
	* Source/pathconfig/configure.ac:
	* Source/pathconfig/pathconfig.h.in:
	* Source/pathconfig/pathconfig.mak.in:
	* SSL/GNUmakefile:
	* configure.ac:
	* Documentation/GNUmakefile:
	* NSTimeZones/GNUmakefile:
	* GNUmakefile:
	* Tools/GNUmakefile:
	* Testing/GNUmakefile:
	Move path configuration stuff into separate subdirectry/file so that
	we can hack it more easily and so that only the code that needs it
	will include it.

2009-01-06  Nicola Pero <nicola.pero@meta-innovation.com>

	* config.mak.in: Check here if GNUSTEP_BASE_DOMAIN and
	GNUSTEP_INSTALLATION_DOMAIN do not match when using relative
	paths.  If they do not match, print a long explanation of how to
	fix the problem, and abort.  If relative paths are not used,
	automatically set GNUSTEP_INSTALLATION_DOMAIN to the domain that
	was chosen at configure time - unless overridden on the command
	line.
	* Makefile.postamble: Removed before-all rule that was doing the
	check now in config.mak.in.

	* SSL/Makefile.postamble (config.mak): Touch config.mak after
	running config.status to prevent spurious invocations of
	config.status.
	(config.h): Always touch config.h after running config.status for
	the same reason.

2009-01-06  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Detect relative paths in the paths that we
	hardcode into gnustep-base, and set the
	GNUSTEP_BASE_RELATIVE_PATHS variable if any is found.
	* configure: Regenerated.
	* config.mak.in: Added GNUSTEP_BASE_RELATIVE_PATHS.
	* Makefile.postamble: Only do the automatic reconfiguration at
	install time if GNUSTEP_BASE_RELATIVE_PATHS is set.  Make the
	message printed when we reconfigure more prominent.

2009-01-05 17:58-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSBundle.m: Use CFBundleExecutable if NSExecutable isn't
	present when loading the bundle object code.

2009-01-05  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueObserving.m (-overrideSetterFor:): Only output
	a NSDebugLLog() not an NSLog() when the class has no setter for
	the key.

2009-01-05  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSString.m (-paragraphRangeForRange:,
	-getParagraphStart:...): Basic implementation of these methods.

2009-01-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: check for performers in thread even if there are
	no input sources available.
	* Source/unix/GSRunLoopCtxt.m: Add diagnostics
	* Source/win32/GSRunLoopCtxt.m: Add diagnostics
	* Testing/thread.m: Change to allow perform in maion thrad to take
	place and program to terminate.

2009-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/mframe/sparc64/generic: guess at a config
	* Source/mframe/sparc64/openbsd: guess at a config
	* Source/mframe/configure.ac: add sparc64
	* Source/mframe/configure: regenerate
	Guess at config for sparc64 openbsd

2009-01-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: ([+bundleForLibrary:]) return nil if the
	supplied library name is empty.

2008-12-31  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDecimalNumber.m (-initWithBytes:objCType:): Avoid
	memory leak and memory corruption by retaining notANumber before
	returning it.

2008-12-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Makefile.postamble (before-all): Remove test for mingw on situation
	which can occur on all systems, not just mingw.

2008-12-25 11:10-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/GNUmakefile: Add new NSObjectNSComparisonMethods.m
	category to the makefile.
	* Source/NSObject+NSComparisonMethods.m: Added to implement
	Mac OS X specific methods for comparison of objects.  On Cocoa these
	are in NSScriptWhoseTests.h, but since GNUstep doesn't support
	Apple Script I've put them in a separate category for now.  Some
	applications use these to do comparisons (even though they are for
	scripting). The location of these may change in the future depending
	on if we implement scripting.

2008-12-24  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Improved help for --with-installation-domain=xxx.
	If no --with-installation-domain=xxx option is used, and
	gnustep-config supports the new option
	--installation-domain-for=gnustep-base, use it to determine the
	installation domain as accurately as possible (including
	supporting the environment variable GNUSTEP_INSTALLATION_DOMAIN
	and the installation-domains.conf file).  Otherwise fall back to
	LOCAL.  If an invalid installation domain is provided on the
	command-line, abort with an error.
	* configure: Regenerated.
	* GNUmakefile: Set PACKAGE_NAME before importing common.make.  Do
	not try to set GNUSTEP_BASE_DOMAIN or GNUSTEP_INSTALLATION_DOMAIN.
	* Makefile.postamble (before-all): Only check that
	GNUSTEP_BASE_DOMAIN matches GNUSTEP_INSTALLATION_DOMAIN on MinGW.
	Quote GNUSTEP_BASE_DOMAIN and GNUSTEP_INSTALLATION_DOMAIN to catch
	the case when one of them is empty.  Added ECHO_NOTHING to the
	rule to suppress ugly code output.  Print an error message when
	reconfiguring automatically.

2008-12-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Version 1.19.0
	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc:
	Update for new release.
	* configure.ac: Fix error checking for objc_set_unexpected
	* configure: regenerate

2008-12-22  Richard Frith-Macdonald <rfm@gnu.org>

	* config.mak.in:
	* configure:
	* Makefile.postamble:
	* configure.ac:
	* GNUmakefile:
	Update from stable branch.

2008-12-21  Adam Fedor  <fedor@gnu.org>

	* Update documentation for version 1.18.0

2008-12-19  Nicola Pero <nicola.pero@meta-innovation.com>

	* All GNUmakefiles: removed GNUSTEP_CORE_SOFTWARE=YES and
	added PACKAGE_NAME=gnustep-base.
	* GNUmakefile: Export PACKAGE_NAME to reduce chances of a problem
	if a GNUmakefile in a subdirectory is missing it.
	* Tools/make_strings/GNUmakefile: Do not set PACKAGE_NAME to
	make_strings.
	* Testing/synctest/GNUmakefile: Do not set PACKAGE_NAME to Synctest.

2008-12-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Merge in bugfixes from stable branch.

2008-12-18  Nicola Pero <nicola.pero@meta-innovation.com>

	* All GNUmakefiles: added GNUSTEP_CORE_SOFTWARE=YES at the
	beginning.
	* GNUmakefile: Export GNUSTEP_CORE_SOFTWARE to reduce chances of a
	problem if a GNUmakefile in a subdirectory is missing it.
	* Documentation/General/GNUmakefile: Removed setting
	GNUSTEP_INSTALLATION_DOMAIN to SYSTEM.

2008-12-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m:
	* Tools/gdnc.m:
	Enable keepalive only on mswindows and for server connections using
	NSMessagePort.

2008-12-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLock.m: Tiny cleanup of lock finalisation process.

2008-12-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: When initialising with schem, host and path, allow
	the host to contain username, password and port as well as just the
	host.  Document this change (which seems to be how MacOS-X works).

2008-12-09  Wolfgang Lux  <wlux@uni-muenster.de>

	* Source/unix/GSRunLoopCtxt.m (-pollUntil:within): Add missing
	local variable declaration and fix incorrect arguments for some
	receivedEvent:type:extra:forMode: messages in the select based
	implementation.

2008-12-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedUnarchiver.m: ([versionForClassName:]) implement
	* Source/NSUnarchiver.m:
	* Source/NSCoder.m:
	* Headers/Foundation/NSCoder.h:
	Update method to return NSInteger.

2008-12-07  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Add custom objc library check from gnustep-make
	(So we can find libobjc in LOCAL domain).

2008-12-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSConnection.h:
	* Source/NSConnection.m:
	Fix keepalive bugs.

2008-12-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/NSTask+GS.h: NSTask category
	* Headers/Additions/GNUstepBase/GSCategories.h: remove NSTask
	* Source/NSDistributedNotificationCenter.m: Use new header
	* Source/NSSocketPortNameServer.m: Use new header
	Reorganise so we have a lightweight header for the category of
	NSTask containing additional gnustep specific methods.

2008-12-06  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSBundle.m (+bundleForLibrary:version:): Fix infinite
	loop in code dropping the extension from the library name.

2008-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m:
	Hack to avoid issues on systems where the xml headers use the reserved
	word 'id'.

2008-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSCategories.m: ([+launchPathForTool:])
	Convenience method to locate a tool in the standard locations or in the
	PATH so that it can be used as the launch path of a task.

2008-12-05  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: On mingw32, set GNUSTEP_BASE_PATH to
	GNUSTEP_LOCAL_TOOLS by default to match the new default
	installation domain.  Added new option --with-installation-domain
	allowing to override this setting.
	* configure: Regenerated.

2008-12-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: ([bundleForLibrary:version:]) extract version
	from end of library name if possible.
	([_addFrameworkFromClass:]) find the framework directory from path to
	the dll on windows.

2008-12-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: Fix minor thread-safety issue
	with behaviors ... lock the runtime while modifying method lists.
	* Source/NSDictionary.m: Fix initialisation order so that if two
	threads are initialising the cached class info should always be
	set up in the correct order.
	* Source/NSSet.m: ditto.

2008-12-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Implement ipv6 addresses as per RFC2732
	Fixes #25003

2008-12-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m:
	Add class for caching pairs of socket streams so we can eventually
	implement connection keepalive.

2008-12-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
	* Source/NSURLProtocol.m:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Testing/nsconnection_client.m:
	When working with abstract selectors, try to use untyped ones so that
	we don't confuse checks we put into the method signature code.

2008-11-30  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* install.sh: Fix header syntax and provide default for make
	command argument.

2008-11-28  Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.unexpected.m: Add check for objc_set_unexpected
	* configure.ac: Use new check
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	* Source/GSSocketStream.m: Fix reliabce on expression evaluation order
	* Source/NSException.m: Implement uncaught exception handler for
	when native objc exceptions are enabled.

2008-11-27  Fred Kiefer <FredKiefer@gmx.de>

	* configure.ac: Correct typing error in last change.
	* configure: regenerate

2008-11-27  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: check for native exceptions use.
	* configure: regenerate
	Disable the use of ffcall with native exceptions as the two are
	incompatible (ffcall changes the stack so that throwing an exception
	will crash the process).

2008-11-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedNotificationCenter.m:
	* Tools/gdnc.h:
	* Tools/gdnc.m:
	Use NSUInteger for the observer ID.

2008-11-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/GNUmakefile:
	* GNUmakefile:
	* NSCharacterSets/GNUmakefile:
	* NSTimeZones/GNUmakefile:
	* Resources/GNUmakefile:
	* Source/GNUmakefile:
	* SSL/GNUmakefile:
	* Tools/GNUmakefile:
	Removed GNUSTEP_INSTALLATION_DOMAIN.
	NB.  This means that gnustep-base will now install in the local domain
	by default, and to get the old behavior you will need to do
	'make GNUSTEP_INSTALLATION_DOMAIN=SYSTEM install'
	The rationale for this change is that the system domain is for
	resources installed by the operating system packagers, but the
	local domain is for add-ons you install yourself (to be used by
	all users of the system), and you don't normally want to overwrite
	the operating system supplied version by accident.

2008-11-26 10:09-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Additions/GNUstepBase/GSVersionMacros.h: Add
	defines for earlier version of Mac OS X back to 10.0.
	* Source/synchronization.m: Correct a problem found during testing.
	* Testing/synctest/main.m: Updated test.

2008-11-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: ([methodSignatureForSelector:]) Check that the
	types of the selector (if known) and the types of the actual method
	match.  Raise an NSInternalInconsistencyException if they don't.

2008-11-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/unicode/gsm0338.h: Add more mappings from unicode
	characters representing accented letters to simple letters in the gsm
	alphabet for lossy conversion.

2008-11-22  Richard Frith-Macdonald <rfm@gnu.org>

	* re-bump version to 1.17.0 for next release when we make a new
	unstable branch.

2008-11-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: set to 1.15.4 for new release on unstable branch.
	* Documentation/ReleaseNotes.gsdoc: Document the 1.15.4 release
	Make new release on unstable branch to that it's keeping up with
	the bugfixes in the stable branch.

2008-11-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSConnection.h: New ivars
	* Source/NSConnection.m: Add diuagnostic information and implement
	private mechanism for keepalive (for mswindows, where the NSMessagePort
	implementation doesn;t know if the remote end has gone away until it
	attempts to send to it).
	* Tools/gdnc..m: Use private keepalive mechanism.

2008-11-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Fix bug #24883
	* Headers/Foundation/NSRange.h: Update to use NSUInteger

2008-11-19  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Changes to tolerate older version of gnutls
	* configure: regenerate
	* config/pathtls.m4: Fix typos
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/GSSocketStream.m: Fix to send required events to handler
	after SSL or SOCKS module has dealt with them.
	* Source/GSStream.h: New method to reset sent events mask
	* Source/GSStream.m: ditto
	* Source/GSString.m: Fix nil pointer reference

2008-11-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Check class of arguments to designated initialiser
	* configure.ac: Warn about bug in libkvm
	* configure: Regenerate
	* Source/NSProcessInfo.m: Report problem in libkvm and suggest
	workarounds.

2008-11-17  Roland Schwingel <roland.schwingel@onevision.de>

	* Source/GSSocketStream.m:
	* Source/NSPropertyList.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSArray.m:
	* Source/inet_ntop.c:
	* Source/NSDebug.m:
	* Source/NSPredicate.m:
	* Source/GSHTTPURLHandle.m:
	* Source/GSFFIInvocation.m:
	* Source/NSMessagePort.m:
	* Source/win32/GSFileHandle.m:
	* Source/win32/NSUserDefaults.m:
	* Source/win32/NSMessagePort.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSKeyValueMutableArray.m:
	* Source/NSURL.m:
	* Source/mframe.m:
	* Source/NSObject.m:
	* Source/NSString.m:
	* Source/NSDecimalNumber.m:
	* Source/cifframe.m:
	* Source/Additions/GSXML.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSProxy.m:
	* Source/GSFormat.m:
	* Source/NSSet.m:
	* Source/NSTask.m:
	* Source/NSCharacterSet.m:
	* Source/NSNumberFormatter.m:
	Cosmetic changes plus a couple of fixes for 64bit mswindows.

2008-11-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: Remove useless sysctl command.
	* Source/NSMessagePort.m: Ensure port is not deallocated while
	being invalidated.  Fix memory leak of port lock.
	* Source/NSSocketPort.m: ditto

2008-11-15  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSMessagePort.m (-invalidate, -removeHandle:): Fix
	potential crash while closing a message port.

2008-11-14  Wolfgang Lux  <wolfgang.lux@gmail.com>

	* Source/NSProcessInfo.m (-processorCount, -activeProcessorCount):
	Improve portability.

	* Source/NSPathUtilities.m (NSTemporaryDirectory): Use /var/tmp on
	Darwin since /tmp is cleaned regularly.

2008-10-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPage.m: Update to use NSUInteger and to cope with large
	address space in windows.
	* Headers/Foundation/NSObjCRuntime.h: typedef NSUInteger earlier
	* Headers/Foundation/NSZone.h: Update to use NSUInteger.
	* Source/NSProcessInfo.m; implement new MacOS-x 5 methods based on
	Fred's suggestion and Scotts code as fallback and wiht a version
	for mswindows too.

2008-10-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: implement KVC methods to get and set values
	as these appear to be an undocumented feature of MacOS-X (bug #24807).

2008-11-05 17:27-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Testing/synctest/GNUmakefile
	* Testing/synctest/GNUmakefile.postamble
	* Testing/synctest/GNUmakefile.preamble
	* Testing/synctest/main.m
	* Testing/synctest/PC.project
	* Testing/synctest/PC.project.backup
	* Testing/synctest/SyncTestInfo.plist: Added test tool for
	@synchronize.

2008-10-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Improve error messages and information about
	the -a option.
	* Source/NSPredicate.m: parse literal strings

2008-10-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Fix stacktrace to be available when built
	without DEBUG=YES.  Check environment variable to activate/deactivate.
	* Documentation/Basegsdoc: Improve documentation of stack trace.

2008-10-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Cope with loads of leading space in
	intValue and doubleValue.

2008-10-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFormat.m: Fix possible problem when current unix locale
	does not use '.' as the decimal separator.

2008-10-27  Nicola Pero <nicola.pero@meta-innovation.com>

	* Headers/Foundation/NSFileManager.h: Fixed typo - declare NSError
	class before referencing it.

2008-10-26 20:59-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Foundation/NSFileManager.h: Added declaration for new method
	here.
	* Source/NSFileManager.m: Added implementation for the method
	-(BOOL)createDirectoryAtPath:withIntermediateDirectories:attributes:
	error:.

2008-10-19  Wolfgang Lux <wolfgang.lux@gmail.com>

	* configure.ac: fix test for sychronization in objc runtime.

2008-10-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/synchronization.m: make internal functions private.

2008-10-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix typo (bug #24573)

2008-10-14  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSSocketStream.m: Fix for #24564
	* Source/inet_pton.c: Fix for #24563
	* Source/inet_ntop.c: Fix for #24563

2008-10-12  Larry Campbelln

        * Source/NSDate.m: Add keyed archiving support.

2008-10-11  Eric Wasylishen

        * Source/NSBundle.m: fix bug #24320

2008-10-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZones/NSTimeZones.tar: updated.

2008-10-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Ensure that we always return NO when we
	need mo more data to complete parsing.
	* Source/GSHTTPURLHandle.mL: Fix check for response parse completion.

2008-10-01  Adam Fedor  <fedor@gnu.org>

	* Source/DocMakefile: Add NSAffineTranform

2008-09-29 22:54-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/synchronization.m: Remove uneeded objc_sync_remove_node
	function.

2008-09-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Fix compilation problem on systems
	without iconv.

2008-09-25 00:18-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/synchronization.m: Correct issue in objc_sync_remove_node()
	method where it could do a NULL dereference.  Also moved the locks on
	the tables to the highest level so to reduce the possibility of
	threading issues.

2008-09-24 17:26-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUserDefaults.m: Corrected previous change.

2008-09-24 08:25-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUserDefaults.m: -addSuiteNamed change so that we don't
	rely on the value of NSNotFound being -(2^32)-1 and a rollover to
	0.

2008-09-23 20:31-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* config.mak.in: Added reference to HAVE_OBJC_SYNC_ENTER
	* configure: Recompiled script
	* configure.ac: Changed configure to check for objc_sync_enter
	function.
	* Headers/Additions/GNUstepBase/config.h.in: Added #define here for
	HAVE_OBJC_SYNC_ENTER
	* Source/GNUmakefile: Added check for the value, if no, then compile
	synchronization.m
	* Source/synchronization.m: Implementation for @synchronize support.

2008-09-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: add a couple of checks to ensure correct
	initialisation of class.
	* Source/NSDate.m:
	* Source/NSCalendarDate.m: Check for time interval since reference
	date being NaN, and raise an exception.

2008-09-21 00:05-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* COPYINGv3: Adding back in.

2008-09-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedLock.m: Standardise the path we are given for
	the lock file.

2008-09-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSThread.m: try to make firing of thread performers
	more robust.
	* Source/Additions/GSMime.m: make some NSLog() calls be debug only.

2008-09-14 13:20-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* install.sh: Install script for use by compile-all.

2008-08-25 18:55-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* COPYINGv3: Remove since GNUstep is now GPLv2 again.
	* Headers/Foundation/NSNumberFormatter.h
	* Source/NSNumberFormatter.m: Added methods missing from GNUstep
	that are present in 10.4 (stringFromNumber:, numberFromString:)

2008-08-25  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSAutoreleasePool.m (-drain): Implement.
	* Source/NSAutoreleasePool.m (-dealloc): Reset _parent and _child.
	* Source/NSAutoreleasePool.m (-_endThread:): Free cache of ended
	thread not of current.

2008-08-20  Yavor Doganov  <yavor@gnu.org>  (tiny change)

	* config/procfs.m4: Check for `proc' in /proc/mounts rather than
	relying on the output of `mount'; fixes build issue in
	chroots.  Reported by Funda Wang (bug #23876).

2008-07-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSCategories.m: littleEndian() fix to work on
	systems with other word sizes.

2008-07-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h: New private function to get range of string func.
	* Source/NSString.m: Optimise replacing string in string.
	* Source/GSString.m: New function to return range getting function.
	* Source/GSeq.h: Fixup comment
	* Testing/string.m: Add trival check.
	Optimise ([replaceOccurrencesOfString:withString:options:range:])

2008-07-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Add support for byte order specific
	unicode (including 32bit) via iconv. Change encoding lookup
	mechanism to cope with new Mac-OS-X encoding values.

2008-07-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/NSArray.m:
	* Source/NSSortDescriptor.m:
	* Source/Additions/GSCompatibility.m:
	* Source/NSDictionary.m:
	* Source/NSSerializer.m:
	* Source/NSSet.m:
	Wherever ([-getObjects:]) is called, check to see if the receiver is
	a proxy, and if so we populate the buffer by calling ([-objectAtIndex:])
	instead. This because a proxy via DO does not know how many itesm are
	in the buffer and assumes it's only one.

2008-07-06  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: use libffi in preference to ffcall as it doesn't mess
	up the stack.
	* configure: regenerate

2008-07-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexSet.m: Implement ([-countOfIndexesInRange:])

2008-06-30  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSFFIInvocation.m:
        * Source/NSInvocation.m:
        * Source/cifframe.h:
        * Source/cifframe.m:
	Tweaks to get NS_MESSAGE and NS_INVOCATION working on my 64bit
	system.

2008-06-28  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for sys/mman.h and mprotect
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/GSFFIInvocation.m: Use mmap and mprotect to ensure that
	closure memory is executable.

2008-06-27 17:22-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUnarchiver.m: Issue a warning when the class can't be
	resolved by the runtime in decodeValueOfObjCType:at:.

2008-06-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: sort dictionary keys only if they are
	strings.  This is the new MacOS-X behavior (old behavior was to sort
	if all responded to compare:).
	Fixes bug #23727

2008-06-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSException.h
	* Source/NSException.h
	Change macros for setting uncaught handler to be functions (to match
	MacOS-X) and make the pointer itsself be private.

2008-06-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: Fix error getting run loop for current
	thread when it has not already been set.

2008-06-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSUnion.h: add NSUInteger type as addr
	* Headers/Additions/GNUstepBase/GSIMap.h: use addr for
	GSIMapNodeForSimpleKey() so that it works for pointers on machines
	where sizeof(int) != sizeof(void*)

2008-06-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Be more tolerant of illegal data in
	quoted printable words.

2008-06-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Fix incorrect adjustment of buffer
	when handling large string containing multibyte utf-8 data.

2008-06-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Update timezones, bump version to 1.17.0 for next release.

2008-06-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/ReleaseNotes.gsdoc:  Add information about movement
	to MacOS-X compatibility.

2008-06-11  David Ayers  <ayers@fsfe.org>

	* Source/NSNumberFormatter.m ([-stringForObjectValue:]): Implement
	handling of localizesFormat.
	Return string value of attributedStringForZero if applicable so that
	formatting for the common case is not short circuted for zero.

2008-06-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.m: if something is scheduled for removal, mark it as
	'Likely to be changed/moved/removed' rather than 'deprecated'.

2008-06-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSInvocation.h:
	Fix typo in macro name

2008-06-10  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for stdlib.h
	* Headers/Additions/GNUstepBase/config.h.in: add stdlib.h
	* configure: Regenerate
	* Source/NSString.m: Don't use realpath unless PATH_MAX is known
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSInvocation.h:
	Mark non-OSX methods as deprecated so we can move them to the
	additions library or delete them if we want to.

2008-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* COPYINGv3:
	* NSCharacterSets/GNUmakefile:
	* Source/NSIndexPath.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSMapTable.m:
	* Source/GSLocale.m:
	* Source/GSSocketStream.h:
	* Source/NSTimeZone.m:
	* Source/NSNetServices.m:
	* Source/hpux-load.h:
	* Source/NSHashTable.m:
	* Source/GSInvocation.h:
	* Source/NSURLCredential.m:
	* Source/GSSocketStream.m:
	* Source/NSValueTransformer.m:
	* Source/NSPortCoder.m:
	* Source/NSURLAuthenticationChallenge.m:
	* Source/Makefile.postamble:
	* Source/NSSpellServer.m:
	* Source/NSCalendarDate.m:
	* Source/NSBundle.m:
	* Source/NSKeyValueCoding.m:
	* Source/NSURLHandle.m:
	* Source/NSTimer.m:
	* Source/NSPropertyList.m:
	* Source/libgnustep-base-entry.m:
	* Source/GSConcreteValueTemplate.m:
	* Source/NSAffineTransform.m:
	* Source/CompatibilityHeaders.make:
	* Source/NSPathUtilities.m:
	* Source/NSScanner.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSProcessInfo.m:
	* Source/NSGeometry.m:
	* Source/NSNotificationQueue.m:
	* Source/GNUmakefile:
	* Source/thr-mach.h:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/NSAttributedString.m:
	* Source/NSUndoManager.m:
	* Source/NSMethodSignature.m:
	* Source/thr-mach.m:
	* Source/NSFormatter.m:
	* Source/NSUserDefaults.m:
	* Source/GSArray.m:
	* Source/GSFFCallInvocation.m:
	* Source/mframe/configure.ac:
	* Source/mframe/mframe.head:
	* Source/mframe/README:
	* Source/NSKeyValueMutableSet.m:
	* Source/NSArray.m:
	* Source/GSStream.h:
	* Source/NSMessagePortNameServer.m:
	* Source/objc-gnu2next.m:
	* Source/GSStream.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSDebug.m:
	* Source/unix/Makefile.preamble:
	* Source/unix/GNUmakefile:
	* Source/unix/NSStream.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/GSConcreteValue.m:
	* Source/NSPortMessage.m:
	* Source/NSURLDownload.m:
	* Source/NSDistributedLock.m:
	* Source/NSFileHandle.m:
	* Source/NSPredicate.m:
	* Source/simple-load.h:
	* Source/preface.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSAssertionHandler.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSConcreteNumberTemplate.m:
	* Source/win32-load.h:
	* Source/NSCallBacks.h:
	* Source/NSZone.m:
	* Source/NSPage.m:
	* Source/NSCallBacks.m:
	* Source/NSURLCredentialStorage.m:
	* Source/NSPort.m:
	* Source/NSSortDescriptor.m:
	* Source/GSFFIInvocation.m:
	* Source/NSMessagePort.m:
	* Source/GSPrivate.h:
	* Source/GSDictionary.m:
	* Source/win32/GSFileHandle.m:
	* Source/win32/Makefile.preamble:
	* Source/win32/NSMessagePort.m:
	* Source/win32/GNUmakefile:
	* Source/win32/NSStream.m:
	* Source/win32/NSMessagePortNameServer.m:
	* Source/NSUnarchiver.m:
	* Source/GSCountedSet.m:
	* Source/NSConcreteNumber.h:
	* Source/NSInvocation.m:
	* Source/dld-load.h:
	* Source/NSFileManager.m:
	* Source/NSConcreteNumber.m:
	* Source/NSURLResponse.m:
	* Source/thr-pthread.m:
	* Source/objc-load.h:
	* Source/NSURLProtocol.m:
	* Source/NSURLCache.m:
	* Source/externs.m:
	* Source/NSNotificationCenter.m:
	* Source/GSAttributedString.m:
	* Source/objc-load.m:
	* Source/NSRange.m:
	* Source/NSCoder.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSException.m:
	* Source/NSKeyValueMutableArray.m:
	* Source/NSCopyObject.m:
	* Source/NSURL.m:
	* Source/cifframe.h:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/mframe.m:
	* Source/DocMakefile:
	* Source/NSDecimalNumber.m:
	* Source/NSCachedURLResponse.m:
	* Source/cifframe.m:
	* Source/null-load.h:
	* Source/Additions/Unicode.m:
	* Source/Additions/GCArray.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GNUmakefile:
	* Source/Additions/behavior.m:
	* Source/Additions/GSFunctions.m:
	* Source/Additions/GSCompatibility.m:
	* Source/Additions/Makefile.preamble:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSNextRuntime.m:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GCObject.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSLock.m:
	* Source/GSSet.m:
	* Source/NSNotification.m:
	* Source/NSNumber.m:
	* Source/NSDecimal.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSDateFormatter.m:
	* Source/GSPortPrivate.h:
	* Source/NSAutoreleasePool.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSHTTPCookie.m:
	* Source/NSDate.m:
	* Source/NSHost.m:
	* Source/GSNetwork.h:
	* Source/callframe.h:
	* Source/NSProxy.m:
	* Source/NSObjCRuntime.m:
	* Source/NSURLProtectionSpace.m:
	* Source/callframe.m:
	* Source/NSProtocolChecker.m:
	* Source/NSError.m:
	* Source/GSeq.h:
	* Source/NSPipe.m:
	* Source/GSValue.m:
	* Source/NSDictionary.m:
	* Source/Makefile.preamble:
	* Source/GSHTTPAuthentication.m:
	* Source/NSClassDescription.m:
	* Source/NSSerializer.m:
	* Source/NSNull.m:
	* Source/NSURLRequest.m:
	* Source/NSValue.m:
	* Source/NSCountedSet.m:
	* Source/NSLog.m:
	* Source/GSFormat.m:
	* Source/NSIndexSet.m:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/NSSet.m:
	* Source/NSDistantObject.m:
	* Source/NSTask.m:
	* Source/NSArchiver.m:
	* Source/win32-def.top:
	* Source/NSCharacterSet.m:
	* Source/NSPortNameServer.m:
	* Source/NSNumberFormatter.m:
	* Source/NSXMLParser.m:
	* Source/GSFTPURLHandle.m:
	* Source/NSEnumerator.m:
	* Source/GSURLPrivate.h:
	* Source/NSURLConnection.m:
	* SSL/GSSSLHandle.m:
	* SSL/Makefile.postamble:
	* SSL/Makefile.preamble:
	* SSL/configure.ac:
	* SSL/GNUmakefile:
	* SSL/COPYING.LIB:
	* Makefile.postamble:
	* configure.ac:
	* COPYING:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSNetServices.h:
	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSRange.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSByteOrder.h:
	* Headers/Foundation/NSValueTransformer.h:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSKeyValueCoding.h:
	* Headers/Foundation/NSPointerFunctions.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSAffineTransform.h:
	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSNotificationQueue.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSDecimal.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSFormatter.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSPredicate.h:
	* Headers/Foundation/FoundationErrors.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSErrorRecoveryAttempting.h:
	* Headers/Foundation/NSClassDescription.h:
	* Headers/Foundation/NSNull.h:
	* Headers/Foundation/NSZone.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSDistantObject.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/Foundation.h:
	* Headers/Foundation/NSCharacterSet.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSUtilities.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSEnumerator.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSMapTable.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Additions/GNUstepBase/GSLocale.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Additions/GNUstepBase/DistributedObjects.h:
	* Headers/Additions/GNUstepBase/behavior.h:
	* Headers/Additions/GNUstepBase/GSFunctions.h:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/preface.h.in:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	* Headers/Additions/GNUstepBase/GCObject.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSIArray.h:
	* Headers/Additions/GNUstepBase/GSUnion.h:
	* Headers/Additions/GNUstepBase/GSLock.h:
	* Headers/Additions/GNUstepBase/GSVersionMacros.h:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	* Headers/Additions/GNUstepBase/GNUstep.h:
	* Headers/Additions/GNUstepBase/objc-gnu2next.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	* Makefile:
	* GNUmakefile:
	* macosx/config.h:
	* base.make.in:
	* Tools/gspath.m:
	* Tools/AGSHtml.h:
	* Tools/plmerge.m:
	* Tools/xmlparse.m:
	* Tools/AGSIndex.h:
	* Tools/AGSHtml.m:
	* Tools/AGSIndex.m:
	* Tools/sfparse.m:
	* Tools/gdnc.h:
	* Tools/plparse.m:
	* Tools/pldes.m:
	* Tools/defaults.m:
	* Tools/Makefile.postamble:
	* Tools/locale_alias.m:
	* Tools/Makefile.preamble:
	* Tools/DocMakefile:
	* Tools/gsdoc-1_0_0.dtd:
	* Tools/plget.m:
	* Tools/pl2link.m:
	* Tools/gdnc.m:
	* Tools/gsdoc-1_0_1.dtd:
	* Tools/gsdoc-1_0_2.dtd:
	* Tools/gsdoc-1_0_3.dtd:
	* Tools/AGSParser.h:
	* Tools/gsdoc-1_0_1.rnc:
	* Tools/gsdoc-0_6_5.dtd:
	* Tools/gsdoc-0_6_6.dtd:
	* Tools/plser.m:
	* Tools/gsdoc-0_6_7.dtd:
	* Tools/AGSOutput.h:
	* Tools/AGSParser.m:
	* Tools/autogsdoc.m:
	* Tools/make_strings/StringsFile.h:
	* Tools/make_strings/StringsEntry.h:
	* Tools/make_strings/make_strings.m:
	* Tools/make_strings/StringsFile.m:
	* Tools/make_strings/StringsEntry.m:
	* Tools/make_strings/GNUmakefile:
	* Tools/make_strings/SourceEntry.h:
	* Tools/make_strings/make_strings.h:
	* Tools/make_strings/GNUmakefile.preamble:
	* Tools/make_strings/SourceEntry.m:
	* Tools/AGSOutput.m:
	* Tools/GNUmakefile:
	* Tools/gdomap.c:
	* Tools/plist-0_9.dtd:
	* Tools/gdomap.h:
	* Tools/HTMLLinker.m:
	* Tools/pl.m:
	* Tools/cvtenc.m:
	* config/config.constant-string-class.m:
	* Testing/Makefile.postamble:
	* Testing/exported-strings.m:
	* Testing/gslock.m:
	* Testing/GNUmakefile:
	* Testing/nsattributedstring.m:
	* Testing/nsmethodsignature.m:
	* Testing/diningPhilosophers.m:
	* Testing/gsbehavior.m:
	* Testing/Makefile.preamble:
	* Testing/benchmark.m:
	* COPYING.LIB:
	Temporarily revert library and essential tools to LGPLv2 so that
	developers have longer to get used to LGPLv3.
	Keep non-essential tools and examples at GPLv3

2008-06-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m:
	Fix possible deadlock reported by Larry Campbell, and improve
	optimisation a little.

2008-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: Monitor to see if the time zone specified in
	the user defaults system changes.  If so, we update the system zone.

2008-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLocale.m:
	* Source/NSTimeZone.m:
	* Source/NSNetServices.m:
	* Source/NSSpellServer.m:
	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/NSScanner.m:
	* Source/NSProcessInfo.m:
	* Source/NSArray.m:
	* Source/externs.m:
	* Source/NSCoder.m:
	* Source/NSString.m:
	* Source/NSConnection.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSData.m:
	* Source/NSObjCRuntime.m:
	* Source/NSIndexSet.m:
	* Source/NSLock.m:
	* Source/NSSet.m:
	* Documentation/ReleaseNotes.gsdoc:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSNetServices.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSSpellServer.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSSet.h:
	Lots of small OSX10.5 compatibility updates:-
	Some new enumerations and constant strings.
	Some new method implementations.
	Some new empty method stubs.
        Change NSLocale constant string to GSLocale in preparation for adding
	the new NSLocal class.

2008-05-25  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: For now, only use ffi for sparc64 on solaris as
	it doesn't appear to work on bsd.

2008-05-24  Nicola Pero <nicola.pero@meta-innovation.com>

	* Tools/Makefile.postamble: Use GNUSTEP_DOC_MAN instead of
	GNUSTEP_DOCUMENTATION_MAN.  This requires gnustep-make version 2,
	but that was already a requirement.  (Suggestion by Chris Vetter
	<chris.vetter@gmail.com>).

2008-05-23  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for systems which need -lnsl (solaris)
	Reintroduce use of ffi by default on sparc64 as I just couldn't
	get ffcall to work at all and the latest ffi seems to work atr
	least for all the common cases.
	* Tools/gdnc.m: Fix incorrectly sized instance variable.

2008-05-22  Richard Frith-Macdonald <rfm@gnu.org>

	* SSL/GSSSLHandle.m: Attempt to improve error logging.

2008-05-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Fix reference to uninitialised variable.

2008-05-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSArray.m: Fix bug allowing nil to be placed in array.

2008-05-01  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: try to use libffi on sparc64 as libffcall does not
	work.  Warn if user tries to enable libffcall.

2008-04-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m:
	Use more memory efficient bitmaps for old style property list parsing
	where we know we are only using 8bit characters.

2008-03-20  David Chisnall <csdavec@swansea.ac.uk

	* Source/NSObject.m: Changed atomic increment/decrement for intel
	to simpler (perhaps marginally faster) code, also added atomic
	increment/decrement for PPC.

2008-03-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSRunLoopCtxt.m: Fix bad function call (bug #22676)

2008-03-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: Use get_imp() to fetch the
	implementation of the release method.

2008-03-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/DocMakefile: include GNUstep.h
	* Headers/Foundation/NSObject.h: include GNUstep.h for macros
	* Headers/Foundation/NSBundle.h: move gnustep specific macros out
	* Headers/Additions/GNUstepBase/GSFunctions.h: undeprecate and add
	GSLocalizedStringFromTableInFramework from NSBundle.h
	* Headers/Additions/GNUstepBase/GNUstep.h: Add comments etc.
	Code changes to avoid duplication of macro definitions, make
	GNUstep.h usable anywhere, and rename a couple of GNUstep specific
	extensions to use the GS prefix rather than the (reserved by Apple)
	NS prefix.

2008-03-18  Riccardo Mottola <rmottola@users.sf.net>

        * Source/GNUMakefile: Added FoundationErrors.h

2008-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Add a couple of new MacOS-X methods.
	* Headers/Foundation/NSString.h: ditto
	* Headers/Foundation/FoundationErrors.h: New list of error codes
	* Headers/Foundation/Foundation.h: include error codes
	More MacOS-X compatibility tweaks

2008-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSThread.h:
	* Source/NSThread.m: Add ([+isMainThread]) and ([-isFinished]).
	Also check that we are not trying to perform a selector on an invalid
	thread finished.

2008-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/GSRunLoopCtxt.h:
	* Source/GSPrivate.h:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/NSConnection.m:
	* Source/NSThread.m:
	* Headers/Foundation/NSThread.h:
	Got round to committing the thread changes held back for last release.
	Beware ... this code is not properly tested yet.  The idea is that it
	should provide the new (in MacOS-X 10.5) methods to support performing
	of selectors in other threads.

2008-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPort.m:
	* Source/NSException.m:
	* Source/NSConnection.m:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSPort.h:
	Update exceptions to match those in MacOS-X for compatibility.

2008-03-16  Matt Rice  <ratmice@gmail.com>

	* Source/NSException.m: Add NSObjectNotAvailableException.
	* Headers/Foundation/NSException.h: Ditto.

2008-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDebug.m: Trap sigbus if gcc functions to get stack frame
	info run off the end of the stack.
	* Source/NSString.m: Implement ([-decimalValue]) ... undocumented
	feature of MacOS-X foundation.

2008-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m:
	* Source/NSSet.m:
	Add ([-valueForKeyPath:]) to implement KVC aggregate operators.
	* Source/NSKeyValueCoding.m: When accessing instance variable directly
	look for _var before var as in MacOS-X

2008-03-14  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/NSDictionary.m ([-initWithObjectsAndKeys:],
	[+dictionaryWithObjectsAndKeys:]): Improved documentation: tell
	people to terminate the list with nil.

2008-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m; use ([+instanceMethodForSelector:])
	to cache release method implementation for a class.

2008-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
	Make all keypath methods perform recursive evaluation of the path
	for compatibility with MacOS-X and to permit classes to effectively
	override the keypath methods.

2008-03-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSInsensitiveDictionary.m:
	Include GSCategories.h for NSWarnMLog

2008-03-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSInsensitiveDictionary.m:
	Don't do gnustep specific debug if building apple-apple-apple

2008-03-11  Adam Fedor  <fedor@gnu.org>

	* Version 1.15.3

2008-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPage.m: Removed obsolete includes (see bug #22479)

2008-03-05  Matt Rice  <ratmice@gmail.com>

	* Source/NSKeyValueCoding.m ([-setValue:forKey:]): Pass value
	to takeValue:forKey:.

2008-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m Make better guess at what the caller meant when
	they give us a non-absolute path name on mingw.

2008-03-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNull.m: Make result of description method match MacOSX
	* Headers/Foundation/NSKeyValueObserving.h: Add new MacOSX features.
	* Source/NSKeyValueObserving.m: Rewrite code for handling observations
	and notifications.  Fix various bugs and add new options from
	version 10.5 of MacOS-X

2008-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m: Avoid calling deprecated methods as a
	result of KVO overriding them.
	* Source/NSKeyValueObserving.m: Minor tidyups

2008-02-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h: Moved some headers to NSObjCRuntime.h
	* Headers/Foundation/NSObjCRuntime.h: Added NSInteger and NSUInteger
	for MacOSX compatibiulity.
	* Headers/Additions/GNUstep/GSVersionMacros.h: Don't declare constants
	which should be set by the user to say which MacOSX version they want.
	* Headers/Foundation/NSPointerFunctions.h: New MacOSX declarations ...
	no definitions yet.

2008-02-23  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/NSKeyValueObserving.m:
        Don't calculate KVO info in cases where there is no observer.

2008-02-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/mframe/mframe.head: Change function arguments
	* Source/mframe.m: Support nul termination of type strings
	* Source/NSMethodSignature.m: nul terminate type strings
	* Source/NSObjCRuntime.m: update for changed function args

2008-02-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSKeyValueCoding.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	Documentation fixes.

2008-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additiuons/GSObjCRuntime.m: Add support for NSPoint, NSRange,
	NSSize and NSRect for bug #22277

2008-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add convoluted checks to cope with interdependency
	os some system headers on FreeBSD.
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	* Source/NSFileManager.m: Include sys/cdefs.h when available
	(for FreeBSD).

2008-02-20  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/Additions/Unicode.m:
        * Headers/Additions/GNUstepBase/GSVersionMacros.h:
        Minor tweaks for building under leopard.
	* Source/NSPathUtilities.m: minor thread safety fix.
	* Source/NSSocketPort.m: remove bogus comment
	* Source/NSMessagePort.m: remove bogus comment
	* Source/Additions/Unicode.m: add lockign for nl_langinfo
	* Source/Additions/GSMime.m: New method to parse headers
	* Headers/Additions/GNUstepBase/GSMime.h: ditto
	* Source/NSString.m: Change ([-boolValue]) to match new MacOS-X method.
	* Source/GSString.m: ditto

2008-02-19  Nicola Pero  <nicola.pero@meta-innovation.com>

	* Source/GNUmakefile (libgnustep-base_NEEDS_GUI): Set to NO
	(libgnustep-baseadd_NEEDS_GUI): Set to NO.
	* SSL/GNUmakefile (SSL_NEEDS_GUI): Set to NO.

2008-02-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedNotificationCenter.m: Remove delay and change
	code to immediately release resources used while trying to connect
	to server.
	* Source/NSConnection.m: When creating a connection and getting its
	proxy, release the connection immediately if the proxy is nil, so
	that repeated calls don't use more resources.
	* Source/NSMessagePortNameServer.m: Implement distributed locking
	of names directory.
	* Source/NSNSAutoreleasePool.m: When emptying pool, add diagnostic
	message and exceptions where an object we are releasing is bad in
	some way.
	* Headers/Foundation/NSPropertyList.h: Clarify/fix documentation of
	date format.

2008-02-17 19:21-EST Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSDistributedNotificationCenter.m: Added a short wait to the
	_connect method when starting GDNC to correct bug#22351.
	Worked with Riccardo Motolla to test this (riccardo@kaffe.org).

2008-02-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix errors in code for folding header
	lines.

2008-02-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Remove self as observer of socket
	while ssl connection is in progress.

2008-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSArray.m: Minor optimisation ...use a subarray when
	returning all objects from an array enumerator.

2008-02-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: Fix retain/release error.

2008-02-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: Fix bug in sloppy parser, failing
	to skip space at end of tag and therefore missing the trailing
	'/' in a collapsed element.

2008-01-28  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Add option to disable bfd.
	* Source/inet_pton.c, Source/inet_ntop.c: Add includes to
	compile on Solaris

2008-01-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXMLParser.m: Implement reporting of namespace
	prefixes with libxml2 based parser and with sloppy parser.

2008-01-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSXML.m: Fixup SAX interface to pass namespace
	information separately (retain old method for binary backward
	compatibility).
	* Source/NSXMLParser.m: Implement handing of namespaces with libxml2
	based parser.

2008-01-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/NSXML.m: In SAX count namespace declarations
	in element start as attributes.

2008-01-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSHost.m: Fix minor thread safety issue ... could get
	release host if another thread clears cache at same time as lookup.

2008-01-21  Fred Kiefer <FredKiefer@gmx.de>

	* Resources/Languages/Spanish: Quoting corrections by Matias
	Adrian <matiasasb@gmail.com>.

2008-01-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/autogsdoc.m: Fix bug recording sources and outputs in
	index and dependencies.
	* Source/NSTimeZone.m: Fix coding style errors and buffer overrun
	on mswindows reported by Roland Schwingel.

2008-01-14  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Do not read obsolete GNUSTEP_USER_DIR and do not
	substitute GNUSTEP_TARGET_USER_DIR.
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerated.
	* Source/NSPathUtilities.m: Do not read obsolete GNUSTEP_USER_DIR
	from the configuration.  Ignore it if found.  It is never used
	anywhere.
	* Documentation/Base.gsdoc: Removed or slightly updated some
	obsolete documentation on filesystem configuration.

2008-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/inet_pton.c:
	* Source/inet_ntop.c:
	* Source/GSNetwork.h:
	* Source/GNUmakefile:
	* configure.ac:
	* configure:
	Avoid using mswindows getnameinfo function as it doesn't work for
	Riccardo for some reason ... perhaps older mingw32 doesn't have it.

2008-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Allow '../' to indicate a relocatable
	resource.  Add support for GlobalDefaults.plist.
	* Source/NSUserDefaults.m: Improve documentation
	* Documentation/ReleaseNotes.gsdoc: Note recent changes.
	* Documentation/Base.gsdoc: Improve documentation
	* Headers/Foundation/NSUserDefaults.h: Improve comments.

2008-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: tweak TLS code
	* Source/GSStream.m: simplify socket code
	* configure.ac: enable gnu tls by default
	* configure: regenerate

2008-01-09  Richard Frith-Macdonald <rfm@gnu.org>

        * Source/GSSocketStream.h:
        * Source/GSSocketStream.m:
        * Source/unix/NSStream.m:
        * Source/GSNetwork.h:
        Further reorganisation and simplification for socks support.

2008-01-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.h: simplify socket address handling
	* Source/GSSocketStream.m: ditto + more work on socks
	* Source/GSStream.h: minor tweaks
	* Source/GSStream.m:minor tweaks
	* Source/unix/NSStream.m: simplified socket address handling
	* Source/GSNetwork.h: add macro to get socket address length
	* Source/GSHTTPAuthentication.m: Handle arg classh check in init
	* Source/NSURLRequest.m: ditto
	* Source/NSURLProtocol.m: attempt to add support for authentication

2008-01-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSFileManager.m (-fileSystemAttributesAtPath:): Correct
	block size for systems using statvfs().

2008-01-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.m: Try to honor protocol requested.
	* Source/NSURLProtocol.m: Add https

2008-01-05  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/Additions/GSXML.m ([GSXPathContext
	-registerNamespaceWithPrefix:href:]): Added new method to support
	namespaces in XPath expressions.
	* Headers/Additions/GNUstepBase/GSXML.h: Same.

2008-01-05  Richard Frith-Macdonald <rfm@gnu.org>

	* config/pathtls.m4: fixup form mingw32
	* configure: regenerate
	* Source/GSSocketStream.m: Fix missing ifdefs

2008-01-04  Riccardo Mottola <riccardo@kaffe.org>

	* Source/NSKeyValueObserving.m: fixed cc99ism

2008-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.h:
	* Source/GSSocketStream.m:
	Add rudimentary gnutls support. Client sockets only,
	no checking of certificates etc.

2007-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* config/pathtls.m4: New checks for gnu tls
	* configure.ac: Add checks for gnu tls.
	* config.mak.in: Take note of tls availability
	* Headers/Additions/GNUstepBase/config.h.in: ditto
	* base.make.in: ditto
	* configure: regenerate
	Preparatory checks for using gnu tls.

2008-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSSocketStream.h: derived from GSStream.h
	* Source/GSSocketStream.m: derived from GSStream.m
	* Source/GNUmakefile: use new files
	* Source/GSStream.h: remove code to GSSocketStream.h
	* Source/GSStream.m: remove code to GSSocketStream.m
	* Source/unix/NSStream.m: include GSSocketStream.h
	* Source/win32/NSStream.m: include GSSocketStream.h
	Minor restructuring for clarity.

2008-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSStream.h: Tweak comments.
	* Source/GSNetwork.h: New file for common networking declarations.
	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/unix/NSStream.m:
	* Source/win32/NSStream.m:
	Extract socket networking code for both unix and windows into
	semi-abstract superclasses for input/output/server streams so
	that we avoid huge duplication of code and can maintain the
	socket code more easily.
	Alter the behavior of the code on windows so that when the
	other end closes the connection we should be able to read all
	data in transit in the same way as on unix (ie don't close
	the local end until a read/write actually fails).

2008-01-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/inet_pton.c: Add mswindows implementation of
	inet_ntop() as well.

2008-01-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandle.m: rename to GSFileHandleWin32.m
	* Source/win32/NSUserDefaultsWin32.m: rename to NSUserDefaults.m
	* Source/win32/NSMessagePortWin32.m: rename to NSMessagePort.m
	* Source/win32/NSStreamWin32.m: rename to NSStream.m
	* Source/win32/NSMessagePortNameServerWin32.m: rename to
	NSMessagePortNameServer.m
	* Source/win32/GNUmakefile: Rename source files for consistency.

2008-01-01  Adam Fedor  <fedor@gnu.org>

	* Tools/HTMLLinker.gsdoc: Readded

2008-01-01  Adam Fedor  <fedor@gnu.org>

	* Version 1.15.2

2007-12-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	Fix error sending NSPortMessage objects which have not reserved
	space in their first component.

2007-12-26  Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.joinable.m: test for joinable threads.
	* configure.ac: Add test for setrlimit and joinable threads
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/NSThread.m: implement setting stack size for new
	threads.  Hack in workaround for versions of libobjc which
	leak thread resource memory.

2007-12-24  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Don't fail if ffcall trampolines don't work.
	* configure: regnerate.

2007-12-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Perhaps a bit paranoid, but alter to recheck
	all timers after any timer is fired, so we ar sure to pick up any
	changes done to timer fire dates during the firing of a timer.
	* Source/NSThread.m: Fix memory leak and correct thread startup
	semantics to be like MacOS-X I hope.

2007-12-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Fix error finding earliest timer for limit date.

2007-12-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLocale.m: protect locale access with locks.

2007-12-21  David Ayers  <ayers@fsfe.org>

	* Source/NSPathUtilities.m (_POSIX_PTHREAD_SEMANTICS): Define to expose
	POSIX compliant signatures for get(pw/gr)(nam/uid)_r.

	* Headers/Additions/GNUstepBase/config.h.in, configure.ac (alloca.h):
	Check for header.
	* configure: Regenerate.
	* Source/mframe.m, Source/cifframe.m, Source/NSConnection.m,
	Source/callframe.m, Source/GSFormat.m: Include alloca.h where available.

2007-12-20  David Ayers  <ayers@fsfe.org>

	* Headers/Additions/GNUstepBase/GSLock.h: Include GSObjCRuntime.h for
	GS_EXPORT declaration.
	* Source/NSFileManager.m (_POSIX_PTHREAD_SEMANTICS): Define to expose
	POSIX compliant signatures for get(pw/gr)(nam/uid)_r.

2007-12-19  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add checks for thread-safe versions of some standard
	library functions.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	* configure: Regenerate
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	* Source/NSFileManager.m:
	* Source/externs.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GSLock.m:
	* Headers/Foundation/NSObject.h:
	* Headers/Additions/GNUstepBase/GSLock.h:
	* Tools/defaults.m:
	Use thread-safe variants of system functions or pretect unsafe ones
	using gnustep_global_lock.
	Fixes part (but not all) of bug #21320

2007-12-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueObserving.m
	(-setKeys:triggerChangeNotificationsForDependentKey:): Correct the
	key strategy of the map.

2007-12-17  Adam Fedor  <fedor@gnu.org>

	* Source/Makefile.postamble: Use DESTDIR over obsolete INSTALL_ROOT_DIR
	* configure.ac, config/objc-con-autoload.m4, config/procfs.m4: Some
	improvements for cross-compiling.

2007-12-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueObserving.m (-keyPathChanged:): Correct
	forwarding of changes.

2007-12-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSValueTransformer.m,
	* Source/externs.m: Moved name of standard NSValueTransformers to
	externs and corrected strings.

2007-12-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueObserving.m (-overrideSetterFor:): Replace
	exception with log message.
	* Source/NSKeyValueObserving.m (-addObserver:...context:): Use
	original class as key for replacement.

2007-12-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueObserving.m (-overrideSetterFor:): Manually
	capitalize the string, as the NSString method capitalizedString
	lowers all other characters.

2007-12-14  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSKeyValueObserving.m (-overrideSetterFor:): Made aware
	of dependent key mapping.

2007-12-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueObserving.m: Rewrite code for the subclass which
	handles overriding of setters.  Should only override the setters for
	the keys which have been observed.  Compiles but untested!

2007-12-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: catch any exception if som eone breaks our
	lock on the defaults file.

2007-12-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexSet.m: Test and debug ([-initWithCoder:])
	and ([-encodeWithCoder:]) methods for keyed archiving of sets
        with multiple index ranges.
	Implement old-style coding/decoding as well.

2007-12-10  Chris Farber <chris@chrisfarber.net>

	* Source/NSKeyValueObserving.m: implement methods needed for gui
	bindings.

2007-12-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Deal with mutation of timers array during
	firing of a timer.

2007-12-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Foundation/NSString.h:
	declare unichar as uint16_t

2007-12-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Keep timers unordered and check all of them
	each time round ... to avoid bug where a timer is added to more
	than one run loop mode and firing in one mode could result in badly
	ordered timers in another mode.
	Handle resetting of time for repeating timers.
	Allow timeout handler callbacks to use ([-setFireDate:]) and have
	it honoured.
	* Source/NSTimer.m: Remove resetting of fire date from ([-fire])
	and move it to the run loop for MacOS-X compatibility.

2007-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Report the current mode when producing detailed
	debug output, for better tracking of problems.

2007-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: fix error reporting module containing code
	and limit the length of the stack trace.

2007-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Increase detail of information about bad URL string
	on initialisation.  Only output debug info if --GNU-Debug=dflt

2007-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: honour environment variable for displaying
	stack trace.

2007-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexSet.m (-initWithCoder:): Implement guessed algorithm
	for keyed archiving of sets with multiple index ranges.

2007-12-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSIndexSet.m (-initWithCoder:): Fix wrong method in last
	change.

2007-12-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Add new MacOS-X method and improve stack trace
	code.
	* Source/NSXMLParser.m Add include for NSDictionary.
	* Documentation/Base.gsdoc: Improve documentation of stack trace.
	* Headers/Foundation/NSException.h: Add new MacOS-X method.

2007-12-05  David Ayers  <ayers@fsfe.org>

	* Source/NSDecimalNumber.m: (isinf,isnan,isinff,isnanf): Remove.
	(GSIsNAN,GSIsInf): Attempt a more portable approach with using
	_ISOC99_SOURCE which is also supported by some BSD's and possibly
	Solaris.

2007-12-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.h: move includes around to fix bug #21718

2007-12-03  David Ayers  <ayers@fsfe.org>

	* Source/NSDecimalNumber.m: (isinf,isnan,isinff,isnanf):
	Temporary empty definitions of C99 macros for environments
	which do not define them.

2007-12-03  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSIndexSet.m (-initWithCoder:,	-encodeWithCoder)
	* Source/NSData.m (NSMutableData-initWithCoder:,
	-encodeWithCoder): Add some keyed encoding/decoding.

2007-12-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDebug.m:
	* Source/GSPrivate.h:
	* Source/NSException.m:
	* Source/NSThread.m:
	Rewrite some stackframe handling code for greater efficiency.
	When raising an exception, just get the current stack and don't
	bother translating addresses to method/function information until
	needed by the -description method.  Improves performance of
	exception handling and eliminates the possibility of a recursive
	exception due to a problem in the stacktrace code.

2007-12-02  David Ayers  <ayers@fsfe.org>

	* Source/NSDecimal.m (GSDecimalDouble): Use NAN when available.
	* Source/NSDecimalNumber.m ([initWithBytes:objCType:]): Implement
	initialization with scalar types.  Use GSPrivateDefaultLocale
	to initialze intermediate string to match expectations of
	initWithString.
	(NSDecimalNumberClass): Added local class cache.
	([+initialize]): Initialize new cache.
	([-compare]): Test for all subclasses instead of only NSDecimalNumber
	instances.

	* Source/NSCalendarDate.m: Add explicit include of NSDictionary.h.
	* Source/NSNotification.m: Ditto.
	* Source/NSURLResponse.m: Ditto.  Use available dictionary declartion.
	* Source/NSURLProtocol.m: Add explicit import of NSData.h.
	* Source/NSSerializer.m: Add explicit import of NSEnumerator.h.
	* Source/NSURLConnection.m
	([-initWithResponsePointer:andErrorPointer:]):  Add declaration.

	* Source/NSKeyValueMutableArray.m: Various non-functional variable
	and parameter renames to avoid bogus compiler warnings.
	* Source/NSKeyValueMutableSet.m: Ditto.

2007-11-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.h: fix typo

2007-11-29  Marcus Muller <znek@mulle-kybernetik.com>

	* Source/NSKeyValueCoding.m: Make backward compatibility work with
	situations where we have classes using both new and old APIs in the
	same executable.

2007-11-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLocale.m:
	* Source/NSTimeZone.m:
	* Source/NSNetServices.m:
	* Source/NSURLCredential.m:
	* Source/NSPortCoder.m:
	* Source/NSURLAuthenticationChallenge.m:
	* Source/NSKeyValueCoding.m:
	* Source/NSBundle.m:
	* Source/NSURLHandle.m:
	* Source/NSPropertyList.m:
	* Source/NSAffineTransform.m:
	* Source/GSRunLoopWatcher.m:
	* Source/NSUserDefaults.m:
	* Source/GSArray.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSArray.m:
	* Source/GSStream.m:
	* Source/NSDebug.m:
	* Source/unix/NSStream.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/GSConcreteValue.m:
	* Source/NSURLDownload.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSURLCredentialStorage.m:
	* Source/GSFFIInvocation.m:
	* Source/GSDictionary.m:
	* Source/GSCountedSet.m:
	* Source/NSUnarchiver.m:
	* Source/win32/NSStreamWin32.m:
	* Source/NSURLResponse.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLCache.m:
	* Source/GSAttributedString.m:
	* Source/NSException.m:
	* Source/NSURL.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSInsensitiveDictionary.m:
	* Source/GSSet.m:
	* Source/NSConnection.m:
	* Source/GSString.m:
	* Source/NSHost.m:
	* Source/NSURLProtectionSpace.m:
	* Source/GSValue.m:
	* Source/NSDictionary.m:
	* Source/GSHTTPAuthentication.m:
	* Source/NSURLRequest.m:
	* Source/NSCountedSet.m:
	* Source/GSFormat.m:
	* Source/GSFileHandle.m:
	* Source/NSSet.m:
	* Source/NSArchiver.m:
	* Source/NSPortNameServer.m:
	* Source/GSFTPURLHandle.m:
	* Source/NSEnumerator.m:
	* Source/GSURLPrivate.h:
	* Source/NSURLConnection.m:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSUtilities.h:
	* Tools/defaults.m:
	* Tools/make_strings/make_strings.m:
	* Tools/make_strings/StringsEntry.m:
	* Testing/nstimezone.m:
	* Testing/nsarray.m:
	* Testing/nsprocessinfo.m:
	* Testing/nsdictionary.m:
	* Testing/nsset.m:
	* Testing/nsarchiver.m:
	* Testing/call.m:
	* Testing/benchmark.m:
	* Testing/nsbundle.m:
	Remove use of deprecated NSUtilities.h header, and add explicit
	includes of NSDictionary.h, NSEnumerator.h etc.

2007-11-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m: Remove erroneous check for nil argument
	in obsolete method ([takeValue:forKey:]).

2007-11-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Improve code for folding header lines
	to try to make sure long values don't go beyond the 78 character
	limit.

2007-11-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: Make check for apple property lists
	more tolerant.

2007-11-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSThread.h: Add new methods from MacOS 10.5
	Add new ivars to match.  Add _reserved to preserve binary
	compatibility over future changes.  Make all ivars private.
	* Source/NSThread.m: Implement some new MacOS-5 stuff and add stubs
	for stack size and thread cancellation.
	* Source/NSException.m Implement ([NSThread+callStackReturnAddresses])
	Restructure a little to avoid problems when building without debug.

2007-11-09  Adam Fedor  <fedor@gnu.org>

	* Version 1.15.1

2007-11-06  Roland Schwingel <roland.schwingel@onevision.de>

        * Source/NSTimeZone.m: In windows use wide (unichar) API

2007-11-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSXML.m: Make sloppy parser available for internal use when
	parsing bad xml produced by Apple tools.
	* Source/NSPropertyList.m: Use GSSloppyXMLParser if normal xml2 based
	parsing fails due to Ap[ple4's inclusioon of illegal characters in
	the XML.

2007-10-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: ([setBoolForKey:]) changed to store YES
	or NO as a string for MacOS-X compatibility.

2007-10-30  Adam Fedor  <fedor@gnu.org>

        * gnustep-base.spec.in: Change Copyright to License.

2007-10-11  Wolfgang Lux <wolfgang.lux@gmail.com>

        * Source/NSUndoManager: Prevent incorrect posting of notifications
	during undo/redo and avoid unnecessary creation of undo
	groups.

2007-10-10  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSDecimal.m (NSDecimalMultiplyByPowerOf10): Move check of
	over/underflow after copy.
	Patch by Mark Tracy <tracy454@concentric.net>.

2007-10-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Fix ([-classForCoder:]) to return base class of
	cluster (bug #21133)
	* Source/cifframe.m: avoid compiler warnings (bug #16996)

2007-09-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Decode headers as latin1 by default if
	parsing http rather than mime.

2007-09-14  Richard Frith-Macdonald <rfm@gnu.org>

	Update files to use LGPL3 and GPL3 licenses.

2007-09-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNotificationCenter.m: Wrap posting of notification in
	exception handler to log exceptions.

2007-08-24 23:53-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Headers/Foundation/NSPort.h: Removed commented out declaration
	in the header.

2007-08-04  David Ayers  <ayers@fsfe.org>

	* Source/GSHTTPURLHandle.m (writeKeyCallBacks): Use retained
	callbacks for keys.

2007-08-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: Private method to check existence of
	process.

2007-07-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSRange.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Additions/GNUstepBase/preface.h.in:
	* macosx/GNUstepBase/preface.h:
	Use __typeof__ rather than  typeof so that if the header is included
	in user code which is compiled with a flag to disalow typeof, the
	code will still work.

2007-07-25  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSErrorRecoveryAttempting.h: Add new file.
	* Source/GNUmakefile: Install this file.

2007-07-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSOutput.m: escape angle brackets in types of function
	arguments.

2007-07-19 Riccardo Mottola <riccardo@kaffe.org>

	* Source/NSKeyValueCoding.m:
	* Source/NSKeyValueMutableSet.m:
	Code cleanup and C99-ism fixes

2007-07-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
	* Source/NSKeyValueMutableSet.m:
	* Source/NSArray.m:
	* Source/NSKeyValueMutableArray.m:
	Whitespace and initialisation tidyups.

2007-07-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: For MacOS-X compatibility, alter -propertyList
	to have the undocumented behavior of parsing strings file format
	too.

2007-07-10  Chris Farber <chris@chrisfarber.net>

	* Source/NSArray.m ([NSArray -objectsAtIndexes:]): New method.
	([NSMutableArray -removeObjectsAtIndexes:]): New method.
	* Headers/Foundation/NSArray.h: Added the new methods.

	* Source/NSKeyValueCoding.m ([-mutableArrayValueForKey:]): New
	method.  ([-mutableArrayValueForKeyPath:]): New method.
	([-mutableSetValueForKey:]): New method.
	([-mutableSetValueForKeyPath:]): New method.
	([-valueForUndefinedKey:]): Include key and object in the reason
	of an NSUndefinedKeyException.
	* Headers/Foundation/NSKeyValueCoding.h: Added the new methods.

	* Source/NSKeyValueMutableSet.m: New file.
	* Source/NSKeyValueMutableArray.m: New file.

2007-07-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandleWin32.m: Fixup for pipes as suggested by
	Matthew Jiminez.

2007-06-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	Implement support for arrays of objc types to fix bug #20268

2007-06-21  Richard Frith-Macdonald <rfm@gnu.org>

	Rewrite code to support parsing of predicates containing
	all the '%' format strings (as suggested by Fred).

2007-06-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: Fix bug #20215 ... scanning of greater than
	and less than operators.
	Add code to attempt to support parsing of predicates containing
	all the '%' format strings ... untested.

2007-06-15  Adam Fedor  <fedor@gnu.org>

	* Source/NSTimeZone.m ([NSTimeZone +timeZoneArray]): Skip .tab
	files when looking for zones.

2007-06-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m: Implement ([isEqualToValue:])
	* Source/NSPredicate.m: Fix bug #20169

2007-06-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLHandle.m: ([loadInForeground]) return as soon as load
	is complete, rather than waiting for up to a second.

2007-06-12  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPredicate.m:	Fake like and matches by using
	compare:options: and reverted change for string equality.

2007-06-11  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPredicate.m:	Improved predicate parsing. Handle more
	alternate key strings, implemented BETWEEN, use compare:options:
	for string equality test and handle in for collections.

2007-06-09  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPredicate.m:	Improved predicate parsing.

2007-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m Fix bug getting cString from literal string
	with illegal (non-ascii) characters.
	* Source/NSKeyValueCoding.m: Fix backward compatibility issue with
	NSUnknownKeyException.

2007-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m: Use UTF8 rather than ASCII

2007-06-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: define MSG_DONTWAIT as zero if it's not
	defined ... it should not be needed anyway if the socket is already
	non-blocking.

2007-06-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandleWin32.m: Clean up indentation issues etc.

2007-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix problem where any header starting
	with 'http' would be mangled.

2007-05-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/NSKeyValueCoding.m: Minor fix for backward compatibility in
	([setNilValueForKey:]).

2007-05-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.m: Don't trap abort signal.

2007-05-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: when unable to open a file, log should be debug
	level rather than warn level.

2007-05-23  Fred Kiefer <FredKiefer@gmx.de>

	* Headers/Foundation/NSCompoundPredicate.h: Add some common ivars.
	* Headers/Foundation/NSExpression.h:Add some common ivar.
	* Source/NSPredicate.m: Implement a lot of missing functionality
	for the predicate and expression classes. Clean up formatting.

2007-05-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSNetServices.h: fix bug #19872

2007-05-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLConnection.m: Cancel when deallocating.
	* Source/NSURLProtocol.m: Make sure load is stopped if an error
	occurs.

2007-05-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Permit some recursion in handling uncaught
	exceptions so that different exception handlers can be tried ...
	in particular, so that the gui library exception handler can
	fall back to using the base library handler and get a printout of
	the exception details when the program terminates.

2007-05-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLConnection.m: Minor simplifications.
	* Source/NSURLProtocol.m: Perform automatic redirect from
	http://host to http://host/ to standardise URL used for caching as
	noted in Apple documentation.
	* Source/NSURLRequest.m: use case insensitive dictionary for headers.
	* Source/Additions/GSMime.m: fix error makeing tokens lowercase.

2007-05-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSInsensitiveDictionary.m: For internal use storing
	values on case insensitive keys.
	* Source/Additions/GNUmakefile: Build insensitive dictionaries.
	* Source/GSPrivate.h: Make insensitive dictionaries available.
	* Source/NSURLResponse.m: Use insensitive dictionaries.
	* Source/NSURLProtocol.m: Clean up.
	* Source/Additions/GSMime.m: New stuff to retain case information.
	* Headers/Additions/GNUstepBase/GSMime.h: ditto.

2007-05-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m:
	* Source/NSURLRequest.m:
	* Source/NSURLConnection.m:
	Added tweaks for redirection andvarious comments.

2007-05-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m:
	Avoid using NSString while printing warning about iconv problems ...
	try to avoid possible recursion etc.

2007-05-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m: Replace mystep response parsing code with
	more reliable/standard-compliant stuff adapted from NSURLHandle.m

2007-05-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.h: New runloop management
	* Source/GSStream.m: Support scheduling in multiple runloops to match
	documented MacOS-X behavior.  Trigger instant event on error or eof.
	* Source/unix/NSStream.m: Don't send error and eof events asap, defer
	until the runloop runs as this is how MacOS-X behaves.
	* Source/win32/NSStreamWin32.m: ditto.
	* Source/unix/GSRunLoopCtxt.m: Fix failure to trigger immediate events
	when there are no non-immediate input sources in th loop.  Fix busy
	poll when there are no non-immediate sources in the loop.
	* Source/win32/GSRunLoopCtxt.m: ditto

2007-05-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLProtocol.m: Fix multiple release of headers.

2007-05-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m:
	* Source/unix/NSStream.m:
	* Source/win32/NSStreamWin32.m:
	* Headers/Foundation/NSStream.h:
	First hack at extensions to get address and port properties for
	network streams.  Use localhost if no host is given for connect.
	* Source/GSFFIInvocation.m:
	Attempt to use forward2 if available.
	* Source/NSURLProtocol.m:
	Fixup some problems with incorporation of code from mySTEP.

2007-05-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLResponse.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLRequest.m:
	* Source/GSURLPrivate.h:
	* Source/NSURLConnection.m:
	Changes accidentally missed from update on 27th april.

2007-05-02  Nicola Pero  <nicola.pero@meta-innovation.com>

	* configure.ac: Set GNUSTEP_MAKEFILES to CURRENT_GNUSTEP_MAKEFILES
	before sourcing GNUstep.sh.  Fixes building when paths to hardcode
	in the library are different from paths used when building,
	typically a case when packaging.
	* configure: Regenerated.

2007-04-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/thr-pthread.m: Set thread attributes detached to avoid memory
	leak as suggested by Chris Ball <cball@borderlinetech.ca>

2007-04-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Reformat for coding standards.  Alter library
	resource lookup to find correct version when multiple versions of
	the base library are installed and the old unversioned api is used.
	* Source/NSURLHandle.m: Scheduling tweak.
	* Source/GSFFCallInvocation.m: Use forward2 if available.
	* Source/GSFFIInvocation.m: Use forward2 if available.
	* Source/NSURLRequest.m: Tidyups
	* Source/NSURLConnection.m: Tidyups
	* Source/NSURLProtocol.m: Incorporate some concrete protocols from
	mySTEP ....needs rewriting and then testing.
	* Headers/Foundation/NSURLRequest.h: Fix typos and improve comments.

2007-04-16  Richard Frith-Macdonald <rfm@gnu.org>

	* config/config.forward2.m: Test for forward2 function in runtime.
	* configure.ac: Run forward2 test
	* Headers/Additions/GNUstepBase/config.h.in: record forward2 test.
	* configure: regenerate

2007-04-15  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: check for wide character support in printf
	* config/config.wprintf.c: ditto
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Source/NSString.m: Don't use wide char support if we don't have it.
	Should fix bug #19587

2007-04-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	([+pathForResource:ofType:inRootPath:inDirectory:withVersion:])
	Tolerate nil/empty resource name for compatibility with MacOS-X
	and to fix bug #19588
	* Source/NSPredicate.m: Implement ([-filterUsingPredicate:]) for
	NSMutableArray.
	* Headers/Foundation/NSPredicate.h: Add the
	([-filterUsingPredicate:]) method and document it.
	* config/config.printf.c: use 'wide' field in info structure to
	check that it exists.

2007-04-13  Ricccardo Mottola <riccardo@kaffe.org>

	* Source/NSSortDescriptor.m : removed C99-ism

2007-04-13  Ricccardo Mottola <riccardo@kaffe.org>

	* Source/GSHTTPURLHandle.m : removed C99-ism

2007-04-13  Adam Fedor  <fedor@gnu.org>

	* Version: Fix matching numeric version

2007-04-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m: ([-readDataOfLength:]) fix bug which could
	cause short reads.

2007-04-12  Adam Fedor  <fedor@gnu.org>

	* Tool/HTMLLinker.m: Re-add.

	* Documentation/coding-standards.texi: Add info section
	* Documentation/manual/manual.texi: Likewise (patch from
	Marco Bardelli).
	* gnustep-base-debug.spec.in: Remove

	* gnustep-base.spec.in, Documentation/install.texi: Document
	that gnustep-make 2.0.0 is required.

2007-04-12  Adam Fedor  <fedor@gnu.org>

	* Version 1.15.0

2007-04-12  Adam Fedor  <fedor@gnu.org>

	* Version 1.14.0

2007-04-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/news.texi:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/manual/Compliance.texi:
	Add new stable release information and fixx a couple of documentation
	errors.

2007-04-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m:
	* Source/Additions/GSCompatibility.m:
	* Source/Additions/GSMime.m:
	* Headers/Foundation/NSString.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	More macos-x portability fixups.

2007-04-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLocale.m:
	* Source/Additions/Unicode.m:
	* Headers/Foundation/NSString.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	Header/include fixups for macosx portability.

2007-03-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: ([-parseOr]) Use orPredicateWithSubpredicates
	rather than andPredicateWithSubpredicates.  Fix for bug #19446.
	* Source/unix/NSStream.m: Fix memory leak.
	* Source/NSPathUtilities.m: NSSearchPathForDirectoriesInDomains()
	Don't include empty paths.

2007-03-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimer.m: minor optimisation ... avoid unnecessary use of
	autorelease by doing explicit release instead.

2007-03-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: NSTemporaryDirectory() don't raise
	exception on error, just log a warning and return nil.
	* Source/NSDateFormatter.m: When given an empty string to convert to
	a date, just skip the conversion.

2007-03-21  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSBundle.m ([+initialize]): Removed unused check.

2007-03-20  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSUserDefaults.m ([+standardUserDefaults]): Fixed bug
	were the same enumerator variable was reused in the two nested
	loops and language resources wouldn't be found.  Optimized a
	little by factoring some variables out of the inner loop.
	Reorganized usage of information from the C locale so that we use
	it whenever a language resource lookup can not be found and the C
	locale information is precisely for that language, but not
	otherwise.

2007-03-19  Nicola Pero <nicola.pero@meta-innovation.com>

	* Tools/gsdoc.gsdoc: Removed reference to GNUSTEP_SYSTEM_ROOT; use
	up-to-date variables such as GNUSTEP_SYSTEM_LIBRARY and
	GNUSTEP_SYSTEM_DOC.
	* Tools/gsdoc-1_0_1.rnc: Same change.
	* Tools/gsdoc.7: Same change.
	* Tools/gdomap.8: Same change.

	* INSTALL: Updated.

2007-03-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDictionary.m: Correct errors in documentation about keys
	being retained when they are in fact copied.

2007-03-17  Adam Fedor  <fedor@gnu.org>

	* config/config.trampoline.c: Check for proper CPU macro for Darwin
	* configure.ac: Don't enable libffi by default on Darwin
	(patches from Wolfgang Lux).

2007-03-17  Nicola Pero <nicola.pero@meta-innovation.com>

	* SSL/GNUmakefile: Install the SSL bundle in the versioned
	gnustep-base resource directory.
	* Source/NSFileHandle.m ([+sslClass]): Load the SSL bundle from
	the versioned gnustep-base resource directory.

2007-03-17  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/Makefile.postamble (before-uninstall): Remove GSConfig.h.

2007-03-17  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSBundle.m ([+bundleForLibrary:version:]): Fixed looking
	up library resource bundle when no version is provided.

2007-03-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/NSStream.m:
	* Source/win32/NSStreamWin32.m:
	Try to ensure that end of stream events are sent reliably.

2007-03-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: ([GSBinaryPLParser-readCountAt:])
	Handle counts for objects larger than 64KB correctly.

2007-03-14  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: By default disable the GNUSTEP_CONFIOG_FILE
	environment variable on windows so that we don't accidentally
	use the development config file (with unix style paths) when
	we want to be using runtime config (with windows paths).
	* configure: Regenerate
	* Source/GSPrivate.h: New private function to determine native
	C-string encoding.
	* Source/Additions/Unicode.m: ditto
	* Source/GSLocale.m: Use native C-String encoding to handle locale
	information strings.

2007-03-14  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSUserDefaults.m ([+standardUserDefaults]): Manually
	lookup gnustep-base language resources without using NSBundle to
	break the bootstrap chicken-and-egg problem between NSBundle and
	NSUserDefaults.

2007-03-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: Fix memory leak caused by url handle
	retaining xmlrpc object as a client.

2007-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSLocale.m: Expect locale information (nl_langinfo) to be in
	default c-string encoding ... though it's debatable how one knows what
	that should be.

2007-03-12  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: regenerated.
	* Source/GSString.m: getCString_c() Fix error freeing unallocated
	memory when converting a zero length constant string to external
	cstring representation.

2007-03-09  Nicola Pero <nicola.pero@meta-innovation.com>

	Implemented library resource bundle versioning.  Updated
	gnustep-base to use versioned resources.
	* Source/NSBundle ([+bundleForLibrary:version]): New method.
	Allow to request the resource bundle for a specific version.
	Changed bundle resource location to be
	GNUSTEP_LIBRARY/Libraries/<libraryName>/Versions/<interfaceVersion>/Resources
	to allow versioned resources and be similar to framework resources
	- will be handy in the future.  Fall back to the old unversioned
	bundle at GNUSTEP_LIBRARY/Libraries/Resources/<libraryName> if no
	specific version is required and no versioned bundle can be found.
	([+bundleForLibrary:]): Implemented in terms of
	+bundleForLibrary:version:.  Should be backwards compatible if
	you're not using resource versioning yet.
	([+initialize]): When creating _gnustep_bundle, use
	[+bundleForLibrary:version:] to get the appropriate version of the
	bundle.

	* Headers/Foundation/NSBundle.h ([+bundleForLibrary:version:]):
	New method; updated documentation for this method and for
	[+bundleForLibrary:].

	* Resources/GNUmakefile: Include ../Version and install into the
	new versioned directory.
	* NSTimeZones/GNUmakefile: Same changes.
	* Source/GNUmakefile: Same changes.

	* Source/NSBundle.m ([+bundleForClass:]): If we are asked for the
	bundle for NSObject, return _gnustep_bundle (prepared during
	+initialize) immediately.
	* Source/NSTimeZone.m (_time_zone_path): Use bundleForClass:
	NSObject to get the gnustep-base bundle immediately and safely.
	* Source/NSUserDefaults.m ([+standardUserDefaults]): Same change.

	* Source/GNUmakefile (libgnustep-base_INTERFACE_VERSION,
	libgnustep-baseadd_INTERFACE_VERSION): Use more standard makefile
	syntax.

2007-03-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: On mswindows, don't count a '.exe'
	extension as part of the process name.
	* Source/NSUserDefaults.m: Revert last change ... now done in
	NSProcessInfo.m

2007-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Addictions/GSXML.m: Cope with cancellation of load from URL
	in XMLRPC better.

2007-03-08  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSPathUtilities.h (GSAdminToolsDirectory): New directory
	key.
	* Source/NSPathUtilities.m: Implemented it.

2007-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Mimic MacOS-X behavior and cancel loading
	if http status code is not in the 200-299 (success) range.

2007-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/objctidy.m: Removed ... should not have been added really as
	it's very unreliable ... better remove before it accidentally gets
	into a stable release.

2007-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSpellServer.m: Use Library directory in user domain for
	local dictionaries.
	* Source/NSDistributedNotificationCenter.m: autolaunch gdnc with the
	--auto option.
	* Tools/gdnc.m: Understand --auto to mean that we should shut down
	automatically when all connections in to us are dropped.

2007-03-06  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Added GNUSTEP_SYSTEM_USERS_DIR,
	GNUSTEP_NETWORK_USERS_DIR and GNUSTEP_LOCAL_USERS_DIR.
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerated.
	* Source/NSPathUtilities.m: Read and process the new variables;
	fixed NSUserDirectory to return the proper GNUSTEP_*_USERS_DIR
	instead of the user's home directory.

2007-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: On mswindows, don't count a '.exe'
	extension as part of the process name when fetching defaults.

2007-03-05  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Fixed setting default GNUSTEP_*_ADMIN_APPS and
	GNUSTEP_*_ADMIN_TOOLS when none is found in the config file.
	* configure.ac: Print out the entire filesystem layout that is
	hardcoded into gnustep-base.  It makes it easier to debug
	filesystem layout issues.
	* configure.ac: Read, process and output the new
	GNUSTEP_*_WEB_APPS variables.
	* configure.ac: Do not output GNUSTEP_CONFIG_FILE variable which
	is used nowhere.
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Added definitions of
	GNUSTEP_*_WEB_APPS.
	* Headers/Foundation/NSPathUtilities.h (NSSearchPathDirectory):
	Added GSWebApplicationsDirectory.
	* Source/NSPathUtilities.m: Implemented
	GSWebApplicationsDirectory.

2007-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Try using atomic increment/decrement to get
	performance of retain/release improvement in multithreaded programs.

2007-03-05  Adam Fedor  <fedor@gnu.org>

	* configure.ac, config/config.trampoline.c: Add trampoline test.

2007-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSAffineTransform.h: Add flags to allow
	optimisation of identity and flipped coordinates(from mySTEP)
	* Source/NSAffineTransform.m:  Add code from mySTEP for, optimising
	common cases.  Fixup optimised code to use B and B consistently.
	Fixup bug in optimised code for prepending matrix.
	Add optimised cases for flipped transforms in appand and prepend.
	Fix bug in ([-transformSize:]) which was causing problems with
	negative values (MacOS-X allows negative values here, and any issues
	need to be dealt with by the calling code).

2007-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSSpellServer.h: Moved from appkit
	* Source/NSSpellServer.m: Moved from appkit
	* Source/GNUmakefile: Add NSSpellServer
	* Headers/Foundation/Foundation.h: Add NSSpellServer
	Moved NSSpellServer in from gui/appkit for MacOS-X compatibility

2007-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Cope with nil authentication info
	* Source/GSHTTPAuthentication.m: Cope with nil credential and
	catch exceptions in lock protected areas (there shouldn't be
	any, but best to be safe).

2007-03-01  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSBundle.m ([NSBundle +bundleForLibrary:]): Fixed paths
	to lookup; it wouldn't work with the new filesystem layout
	changes.
	* configure.ac: Raise an error if we're asked to import a config
	file but no such file is found.
	* configure: Regenerated.

2007-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSZone.m: tidy indentation
	* Source/NSURLCredential.m:
	* Source/NSURLAuthenticationChallenge.m:
	* Source/NSURLCredentialStorage.m:
	* Source/NSURLResponse.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLCache.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSHTTPCookie.m:
	* Source/NSURLProtectionSpace.m:
	* Source/NSURLRequest.m:
	Use standard function to initialise and clear memory, fixing some
	potential uninitialised memory errors.

2007-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Restore last reversion and fix actual bug (I hope)
	which was an incorrect setting of GNUSTEP_SYSTEM_TOOLS to the
	Admin subdirectory, causing relative path calculations to be wrong.
	* configure: regenerated.

2007-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Headers/Foundation/NSBundle.h:
	* Headers/Additions/GNUstepBase/config.h.in:
	* gnustep-base.script.spec.in:
	Remove internal GNUSTEP_..._ROOT variables which are no longer used.
	* configure.ac:
	Refrain from defining GNUSTEP_..._ROOT default values in config.h
	* configure: regenerated.

2007-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Revert part of change which guaranteed use of bad
	paths on mingw ... we allow a fallback to ./GNUstep.conf instead.
	of using paths from make (which is guaranteed to be wrong as the
	paths it uses are for msys and we need runtime paths for the
	win32 api).
	* configure: Regenerated.

2007-02-28  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: If no config file to import is specified, then
	load the gnustep-make one in preference to the runtime config
	file, which might be a relative path such as ./GNUstep.conf.  On
	mingw, do not set just GNUSTEP_xxx_ROOT and similar variables to
	relative paths, but set all of the GNUSTEP_xxx_yyy variables by
	computing relative paths using gnustep-make's scripts.
	* configure: Regenerated.

2007-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Update suggested by Larry Campbell to use 32
	locks for managing retain counts rather than just one, so reducing
	lock contention when there are lots of threads running.
	He reports a 50% performance improvement in his program.

2007-02-27  Nicola Pero <nicola.pero@meta-innovation.com>

	* GNUmakefile (CVS_MODULE_NAME): Do not set (exports should be
	done from subversion now).

2007-02-26  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Updated for new (shorter) GNUSTEP_SYSTEM_DOC_MAN
	variable names in GNUstep.conf (and similar for other DOC variable
	names).
	* Headers/Additions/GNUstepBase/config.h.in: Same change.
	* Source/NSPathUtilities.m: Same change.
	* configure: Regenerated.

2007-02-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSetData.h:
	* Source/NSIndexSet.m:
	* Source/NSCharacterSet.m:
	Experimental modifications to allow an NSCharacterSet implementation
	based on NSIndexSet rather than a bitmap representation.  The idea is
	that such an implementation, while often slower, should use much
	less memory in most cases and may be a better option on handheld
	devices for instance.
	To enable the new code, edit to define GNUSTEP_INDEX_CHARSET near
	the start of NSCharacterSet.m and build.

2007-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Fixup to locate headers and libraries installed in
	system root subdirectories again.
	* configure: Regenerated.
	* Source/NSNumber.m: Chance description and stringValue methods to
	return 1/0 rather than YES/NO for compatibility with undocumented
	MacOS-X implementation detail (bug #19010)

2007-02-19  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Updated gnustep-config calls for new/final syntax.
	Do not source GNUstep.sh at the beginning.
	* configure: Regenerated.
	* GNUmakefile: Updated gnustep-config calls, plus set
	GNUSTEP_MAKEFILES properly using :=, not =.
	* Documentation/GNUmakefile: Same changes.
	* Examples/GNUmakefile: Same changes.
	* NSTimeZones/GNUmakefile: Same changes.
	* NSTimeZones/GNUmakefile: Same changes.
	* Resources/GNUmakefile: Same changes.
	* Source/GNUmakefile: Same changes.
	* SSL/GNUmakefile: Same changes.
	* Testing/GNUmakefile: Same changes.
	* Tools/GNUmakefile: Same changes.

2007-02-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: ([performSelector:target:argument:order:modes:])
	Alter to retain target and arguments to match MacOS-X (bug #19099)
	* Source/NSString.m: Fixup removal of leading path separator when
	appending path componet.
	* Source/NSPropertyList.m: If parsing of xml property list fails,
	try again with more tolerant parser which accepts illegal characters.
	Might fix bug #17112 (illegal character in nib)

2007-02-17  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Use gnustep-config if available.
	* configure: Regenerate
	* Source/Makefile.postamble
	* Source/GNUmakefile
	* Source/Makefile.preamble
	* SSL/GSSSLHandle.m
	* SSL/GNUmakefile
	* GNUmakefile

2007-02-17  Sergii Stoian <stoyan255@gmail.com>

	* Headers/GNUstepBase/GSFileHandle.h: Fix GSConfig.h include.

2007-02-17  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/NSBundle.m (_find_main_bundle_for_tool): New inline
	function to locate tools resources in the new gnustep-make v2
	location for them.
	([NSBundle +mainBundle]): (tool resource lookup) Fixed detecting
	case of an uninstalled tool to work with the gnustep-make v2 as
	well.  Manage the case separately so we always lookup resources
	only locally for non-installed tools.  For installed tools, first
	use _find_main_bundle_for_tool to look in the new location for
	tool resources, falling back to the old gnustep-make v1 location
	if nothing is found in the new one.

2007-02-16  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Added GNUSTEP_*_ADMIN_APPS and GNUSTEP_*_ADMIN_TOOLS
	variables.
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerated.
	* Source/NSPathUtilities.m: Read the new config variables.
	Updated NSAdminApplicationDirectory and NSAllApplicationsDirectory
	for it.

2007-02-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Source/Makefile.postamble:
	* Source/NSProcessInfo.m:
	* Source/GNUmakefile:
	* Source/NSConcreteNumber.m:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSByteOrder.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSDecimal.h:
	* Headers/Foundation/Foundation.h:
	Move GSConfig.h to the GNUstepBase subdirectory so that it doesn't
	appear at the top level when FHS layout is used, thus avoiding any
	possible conflict with another file of the same name in /usr/include

2007-02-15  Nicola Pero <nicola.pero@meta-innovation.com>

	Important: do not update from trunk if you need stability.
	* Source/NSPathUtilities.m: Updated all the path routines to work
	with the new filesystem support, reading and managing the new
	variables.
	* configure.ac: Updated for the new filesystem support: prepare
	for NSPathUtilities.m default values for all the new variables.
	Make sure to avoid config files overwriting our current
	GNUSTEP_MAKEFILES variable.
	* configure: Regenerated.
	* Headers/Additions/GNUstepBase/config.h.in: Regenerated using
	autoheaders to get all the new filesystem default variable
	definitions.

2007-02-14  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac (GNUSTEP_MAKE_CONFIG): Output errors to config.log
	rather than printing them out.

	* configure.ac: Source GNUstep.sh when we need to get the current
	makefile setup.  Use GNUSTEP_SYSTEM_HEADERS and
	GNUSTEP_SYSTEM_LIBRARIES (with backwards compatibility settings)
	to compile.
	* SSL/configure.ac: Same changes.
	* configure: Regenerated.
	* SSL/configure: Regenerated.

2007-02-14  Nicola Pero <nicola.pero@meta-innovation.com>

	We're installing gnustep-base using the new
	GNUSTEP_INSTALLATION_DOMAIN mechanism, so GNUSTEP_INSTALLATION_DIR
	will not even be defined in makefiles and should never be
	referenced.
	* Tools/Makefile.postamble (after-install): Use GNUSTEP_TOOLS, not
	GNUSTEP_INSTALLATION_DIR/Tools.

2007-02-14  Nicola Pero <nicola.pero@meta-innovation.com>

	* Resources/GNUmakefile (base-resources_INSTALL_DIR): New variable
	to get it working with new gnustep-make.  Keep the old one around
	for older gnustep-makes.
	* Source/GNUmakefile (libbase-resources_INSTALL_DIR): Same change.

2007-02-14  Roland Schwingel <roland.schwingel@onevision.de>

	* Source/NSTimeZone.m: windows bugfix for daylight savings time.

2007-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Don't treat leading '~' in path component or
	extension as a root when appending that component or extension.

2007-02-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: Only initialise modLock where stack module
	symbol handling is supported (fix bug #18938)

2007-02-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/manual/manual.texi: fix format errors
	* Headers/Foundation/NSException.h: document stack trace
	* Documentation/Base.gsdoc: document stack trace
	* Source/NSException.m: control stack trace with environment variable
	Rewrite module loading code to be thread safe.
	Use dladdr where available, to get offsets for dynamic library
	symbols so bfi based lookup of function/method name and line
	number information can work for libraries as well as the main
	executable.

2007-02-05  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: minor tweak to avoid possible inconsistency in
	environment used to check LLOGN_MAX and LONG_LONG_MAX presence.
	* configure: regenerate
	* Source/GSHTTPURLHandle.m: always remove self as observer for all
	notifications on a socket when closing it.

2007-02-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSExpression.h:
	Fixup version macros
	* Source/NSDebug.m: Make frame functions safe.
	* Source/NSException.m: Use non-symbolic stack trace if symbols
	are not available.
	* Source/NSIndexSet.m: Add private method for minternal use.
	* Source/NSMessagePort.m: Fix error releasing uninitialised instance.

2007-01-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: Fix bug reporting autorlease count.

2007-01-28  Richard Frith-Macdonald <rfm@gnu.org>

	* unix/NSStream.m:
	* win32/NSStreamWin32.m:
	Send event if an error occurs in the -open method.

2007-01-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: fix failure to unlock thread lock when
	unabel to obtain filesystem lock.

2007-01-23  Adam Fedor  <fedor@gnu.org>

	* Source/NSObject.m ([NSObject +initialize]): Apply BSD FPU fix
	only on x86 machines.

2007-01-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortNameServerWin32.m:
	* Source/win32/NSMessagePortWin32.m:
	Bugfixes to try to make win32 nameserver operation more reliable.

2007-01-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/defaults.m: Make errors go to stderr and be more informative.

2007-01-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLHandle.m: ([resourceData]) make sure value returned
	is autoreleased.
	* Source/NSURL.m: Parse string a bit more strictly according to RFC

2007-01-16  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Fixed url of build guide given in error message
	when ffcall/ffi is not found.

2007-01-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNetServices.m: Locking fix pointed out by Chris.
	Fixes for documentation generation.
	* Source/DocMakefile: Generate documentation for new classes.
	* Source/NSXMLParser.m: Fix erroneous semicolons and other
	autogsdoc warnings.

2007-01-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: (initialize) tiny cleanup to avoid compiler
	warnings if compiled for NeXT runtime.

2006-12-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix keyed archiving error.

2006-12-27  Chris B. Vetter

	* Headers/Foundation/NSNetServices.h: New class
	* Source/NSNetServices.m: New class
	* Source/GNUmakefile: Build NSNetServices if dns_sd is available.
	* configure.ac: Check for usability of dns_sd
	* Headers/Foundation/Foundation.h: Include NSNetServices.h
	* Headers/Additions/GNUstepBase/config.h.in: add dns_sd availability
	* base.make.in: add dns_sd availability
	* configure: regenerate
	Support for NSNetServices implemented by Chris.
	Integrated by Richard (untested).

2006-12-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: remove old defaults as housekeeping
	observer when we reset.
	* Source/NSXMLParser.m: deactivate some log messages
	* Source/NSPropertyList.m: add proplist parser using NSXMLParser
	to support parsing of MacOS-X property lists even when libxml2
	is not available.

2006-12-26  Dr. H. Nikolaus Schaller, Richard Frith-Macdonald

	* Source/NSXMLParser.m: Implement reduced functionality parser if
	LIBXML2 is not available.

2006-12-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSValueTransformer.h:
	* Source/NSValueTransformer.m:
	Complete implementation.
	Make thread-safe.
	Document.

2006-12-25 Dr. H. Nikolaus Schaller

	* Headers/Foundation/NSValueTransformer.h:
	* Headers/Foundation/Foundation.h:
	* Source/NSValueTransformer.h:
	* Source/GNUmakefile:
	Initial implementation of NSValueTransformer.

2006-12-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstep/GSVersionMacros.h:
	Added MacOS-X compatibility version constants.

2006-12-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumberFormatter.m:
	Changes to match coding standards.
	Small fix to get it to compile with older versions of gcc.
	Various changes to avoid compiler warnings with newer gcc.
	Fix problems of assigning immutable string instances to variables
	typed as mutable strings.

2006-12-15  Graham J Lee <leeg@thaesofereode.info>

	* Source/NSNumberFormatter.m:
	Implement -stringForObjectValue:

2006-12-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/mframe.m:
	* Source/cifframe.m:
	* Source/callframe.m:
	Fix error testing whether object is an instance.
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSNotificationQueue.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSDecimal.h:
	Audit all headers and make more MacOS-X enumeration constant fixups
	so that we shouldn't need to break binary compatibility for additions
	to the enumeration constants in future (we hope) there is stll the
	possibility of apple adding constants which conflict with gnustep
	extensions, though I've left a big gap between apple and gnu
	values so that conflict should be unlikely unless they specifically
	try to do it.

2006-12-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSPathUtilities.h:
	* Source/NSPathUtilities.m:
	Update constants to be MacOS-X compatible, including addition of a
	few more keys added in recent versions.
	WARNING ... change of constants to match MacOS0X introduces binary
	incompatibility, so full recompile is required.
	Fix bug/misfeature of only returning paths which exist on the
	filesystem ... which broke MacOS-X applications which were correctly
	expecting to find a non-existent path and create it as a location
	to store their resources in.

2006-12-13  David Ayers  <ayers@fsfe.org>

	* Source/mframe.m (mframe_do_call),
	* Source/cifframe.m (cifframe_do_call),
	* Source/callframe.m (callframe_do_call): Simplify by using
	GSObjCRuntime functions.  Add fallback selector search for invocations
	passed to proxies.  Add debug diagnostics.

2006-12-05  Matt Rice  <ratmice@gmail.com>

	* Source/NSBundle.m (+initialize): Remove usage of classes local array.

2006-12-05  Richard Frith-Macdonald <rfm@gnu.org>

	* NSURL.m: Check for missing scheme and return nil.
	* NSString.m: Check for character conversion failure when
	getting a CString.

2006-11-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Limit size of handle cache to 16 to
	avoid increasing memory usage indefinitely if a program keeps
	loading different URLs.

2006-11-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/win32/GSFileHandleWin32.m:
	* Source/Additions/GSCategories.m:
	* Source/GSFileHandle.m:
	Improve error checking and reporting when establishing a tcp/ip
	connection.

2006-11-27  Matt Rice  <ratmice@gmail.com>

	* Source/NSObject.m: Fix typo.
	* Headers/Foundation/NSException.h: Export
	NSObjectInaccessibleException.

2006-11-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix buffer oiveflow vulnerability when
	parsing string ... really needs major rewrite for better locale
	use and full unicode support though.
	* Source/GSHTTPURLHandle.m: add a little more debug.

2006-11-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m:
	Fix potential double load of URL data.
	* unix/NSStream.m:
	* win32/NSStreamWin32.m:
	Re-use socket ports so that programs can start up again immediately
	after they have shut down.

2006-11-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix to parse timezone names as being
	whitespace delimited.

2006-11-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAffineTransform.m: Adapted from old gui code
	* Headers/Foundation/NSAffineTransform.h: ditto
	* Source/GNUmakefile: Add NSAffineTransform.
	* Headers/Foundation/Foundation.h: ditto
	Add NSAffineTransform for MacOS-X compatibility ... gui specific
	code is added using a category in the gui library.

2006-11-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: ([setRootNode:]) Add checks for invalid
	argument and improve documentation.
	* Source/GSHTTPURLHandle.m: don't keep unecessary read operation in
	progress on idle connection.

2006-11-15  Nicola Pero  <nicola.pero@meta-innovation.com>

	Notice: you should now use 'make DESTDIR=/tmp/xxx install' if you
	want to relocate all the installation into /tmp/xxx/
	* Makefile.postamble: Use DESTDIR instead of INSTALL_ROOT_DIR
	everywhere.

2006-11-15  Nicola Pero <nicola.pero@meta-innovation.com>

	* Documentation/GNUmakefile (GNUSTEP_INSTALLATION_DOMAIN): Use
	GNUSTEP_INSTALLATION_DOMAIN instead of GNUSTEP_INSTALLATION_DIR.
	* Documentation/General/GNUmakefile: Same change.
	* NSCharacterSets/GNUmakefile: Same change.
	* NSTimeZones/GNUmakefile: Same change.
	* Resources/GNUmakefile: Same change.
	* Source/GNUmakefile: Same change.
	* SSL/GNUmakefile: Same change.
	* Tools/GNUmakefile: Same change.

2006-11-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: fix bug detecting eof in read.
	Add code to check for eof immediately before writing.

2006-11-14  Adam Fedor  <fedor@gnu.org>

	* Headers/Additions/GNUstepBase/GSCategories.h: Add GSOnce macros.
	* Source/Additions/GSFunctions.m: Add GSCategories.h

2006-11-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix a few string parsing errors (check that
	string matches format in MacOS-X compatible manner).
	* Source/GSHTTPURLHandle.m: try to detect socket being closed by
	remote end of connection before we try writing to it.

2006-11-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Clear pageInfo before load.
	Improve checking for dropped connections.

2006-11-08  Richard Frith-Macdonald <rfm@gnu.org>

	Source/NSIndexSet.m: ([addIndexesInRange:])
	Fix for case when added range lies within existing range.

2006-11-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: ([stringByEscapingXML]) Fix bug causing
	newline characters to be removed from escaped strings.

2006-11-07  David Wetzel <dave@turbocat.de>

	* Source/Additions/GSXML.m:
	Fix  error setting start and end element for SAX.

2006-11-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSObject.m: Use %p to print address in description.
	* Documentation/General/OpenStepCompliance.gsdoc:
	* Documentation/General/Debugging.gsdoc:
	* Tools/gsdoc.gsdoc:
	* Tools/gdomap.gsdoc:
	* Tools/gsdoc-1_0_1.dtd:
	* Tools/gsdoc-1_0_1.rnc:
	* Tools/autogsdoc.m:
	* Tools/AGSOutput.m:
	* Tools/autogsdoc.1:
	* Tools/BaseTools.gsdoc:
	Minor documentation version fixups.

2006-11-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: ([stringByAddingPercentEscapesUsingEncoding:])
	Improved documentation.
	* Source/Additions/GSMime.m: Add more charset mappings for where the
	hyphen after the 'iso' has been omitted.

2006-11-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: ([stringByAddingPercentEscapesUsingEncoding:])
	Make the set of characters escaped compatible with MacOS-X (10.4).

2006-11-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSortDescriptor.m; minor tidyups
	* Headers/Foundation/NSSortDescriptor.h: add documentation
	* Headers/Foundation/NSKeyValueCoding.h: improve version macros
	* Headers/Foundation/NSKeyValueObserving.h: add include for NSArray

2006-10-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSocketPortNameServer.m:
	* Source/NSRunLoop.m:
	* Source/NSDebug.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/NSPort.m:
	* Source/NSConcreteNumber.h:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/NSThread.m:
	* Source/NSSerializer.m:
	* Documentation/Base.gsdoc:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSRange.h:
	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSByteOrder.h:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSKeyValueCoding.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSNotificationQueue.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSDecimal.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSFormatter.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSPredicate.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSClassDescription.h:
	* Headers/Foundation/NSNull.h:
	* Headers/Foundation/NSZone.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSDistantObject.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/Foundation.h:
	* Headers/Foundation/NSCharacterSet.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSUtilities.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSEnumerator.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSMapTable.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Additions/GNUstepBase/behavior.h:
	* Headers/Additions/GNUstepBase/GSFunctions.h:
	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	* Headers/Additions/GNUstepBase/GSIArray.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	Ensure all headers have up to date version macros included.
	Update to remove obsolete version macro information.
	Tidy FSF address for consistency.
	Tidy per-heaader inclusion guard preprocessor definitions.

2006-10-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSUserDefaults.h:
	* Source/NSUserDefaults.m:
	Update comments into headers and tag methods with API version
	information.

2006-10-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSPrivate.h:
	* Source/Additions/Unicode.m:
	* Source/GSeq.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	runi_cop should be private in future.
	remove some redundant code.
	* Source/Additions/GSMime.m: Add support for some more character
	encodings.
	Fix uninitialised variable compiler failed to warn about.

2006-10-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: GSPrivateCheckTasks() retain terminated task
	while handling termination process and notification to prevent
	possible thread safety issue spotted by Wim.

2006-10-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: use declaration of GSArray from GSPrivate.h
	* Source/GSArray.m: ditto
	* Source/NSArray.m: ditto
	* Source/NSSerializer.m ditto
	* Source/NSConcreteNumberTemplate.m: Use private function to get hash.
	* Source/NSConcreteNumber.m: ditto
	* Source/NSNumber.m: ditto
	* Source/GSPrivate.h: Add hash functions.
	* Headers/Foundation/NSSortDescriptor.h: Add a little documentation.
	* Source/NSSortDescriptor.m: Implement better hash/isEqual as
	suggested by David.  Complete rewrite of sorting to avoid lots of
	heap memory operations ... should be much much faster.

2006-10-25  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Define HAVE_VISIBILITY_ATTRIBUTE if gcc's visibility
	attribute is both present in the version being used and working on
	the current platform.
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	* Source/GSPrivate.h: Only use the visibility attribute if it is
	available.  Avoids warnings (and link errors in at least one case)
	on systems where it is not fully supported by gcc yet.
	* Headers/Foundation/NSSortDescriptor.h: Tidy and fix macros marking
	macos compatibility.
	* Source/NSSortDescriptor.m: Fix to have usable hash and isEqual
	(bug #18107).

2006-10-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate: when adding offset to a date, work in
	the timezone for the date rather than in GMT ... fixes bug #18088
	* Source/NSBundle.m:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	* Source/preface.m:
	* Source/NSCallBacks.h:
	* Source/GSPrivate.h:
	* Source/NSFileManager.m:
	* Source/objc-load.h:
	* Source/objc-load.m:
	* Headers/Additions/GNUstepBase/preface.h.in:
	More cleanups hiding private functions and removing a few unused bits.

2006-10-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSPrivate.m:
	* Source/GSFormat.h:
	Deleted unused files.
	* Headers/Foundation/NSError.h:
	* Source/NSError.m:
	Updated to current MacOS-X spec.
	* Source/NSIndexPath.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSTimeZone.m:
	* Source/NSHashTable.m:
	* Source/NSBundle.m:
	* Source/NSPropertyList.m:
	* Source/libgnustep-base-entry.m:
	* Source/GSConcreteValueTemplate.m:
	* Source/NSScanner.m:
	* Source/NSProcessInfo.m:
	* Source/NSGeometry.m:
	* Source/NSSocketPort.m:
	* Source/NSUndoManager.m:
	* Source/NSMethodSignature.m:
	* Source/NSFormatter.m:
	* Source/NSUserDefaults.m:
	* Source/NSArray.m:
	* Source/NSMessagePortNameServer.m:
	* Source/objc-gnu2next.m:
	* Source/GSStream.m:
	* Source/NSDebug.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/GSConcreteValue.m:
	* Source/NSDistributedLock.m:
	* Source/NSFileHandle.m:
	* Source/preface.m:
	* Source/NSAssertionHandler.m:
	* Source/NSConcreteNumberTemplate.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSZone.m:
	* Source/NSCallBacks.m:
	* Source/NSMessagePort.m:
	* Source/GSDictionary.m:
	* Source/GSPrivate.h:
	* Source/GSCountedSet.m:
	* Source/win32/GSFileHandleWin32.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/NSMessagePortWin32.m:
	* Source/win32/NSStreamWin32.m:
	* Source/NSFileManager.m:
	* Source/NSConcreteNumber.m:
	* Source/NSNotificationCenter.m:
	* Source/externs.m:
	* Source/NSRange.m:
	* Source/NSException.m:
	* Source/NSCopyObject.m:
	* Source/mframe.m:
	* Source/NSObject.m:
	* Source/NSString.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/GNUmakefile:
	* Source/Additions/GSCompatibility.m:
	* Source/Additions/GSCategories.m:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSHost.m:
	* Source/NSProxy.m:
	* Source/NSProtocolChecker.m:
	* Source/NSPipe.m:
	* Source/GSValue.m:
	* Source/NSDictionary.m:
	* Source/NSClassDescription.m:
	* Source/NSSerializer.m:
	* Source/NSNull.m:
	* Source/NSValue.m:
	* Source/NSCountedSet.m:
	* Source/NSLog.m:
	* Source/GSFormat.m:
	* Source/NSIndexSet.m:
	* Source/GSFileHandle.m:
	* Source/NSLock.m:
	* Source/NSDistantObject.m:
	* Source/NSTask.m:
	* Source/NSPortNameServer.m:
	* Source/NSNumberFormatter.m:
	* Source/NSXMLParser.m:
	* Source/GSFTPURLHandle.m:
	* Source/NSEnumerator.m:
	* Source/GSURLPrivate.h:
	* SSL/GSSSLHandle.m:
	Move from GSPrivate class to GSPrivate functions as majority prefer
	that.  Make some more private functions use GSPrivate prefix and be
	unlinkable outside base.  Rationalise error string generation.
	Tidy up FSF address in comments.

2006-10-19  Richard Frith-Macdonald <rfm@gnu.org>

        * Documentation/manual/DistributedObjects.texi: Update for current API
	* Source/NSNotificationQueue.m:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/NSUserDefaults.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSDebug.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/GSPrivate.h:
	* Source/win32/GSFileHandleWin32.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/NSCoder.m:
	* Source/Additions/GSPrivate.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSTask.m:
	* Headers/Foundation/NSCoder.h:
	Remove long deprecated coder extensions (old libobjects
	compatibility).
	Hide some internal functions.
	Make some values static.
	Make function to obtain locale dictionary thread safe.

2006-10-19  Matt Rice  <ratmice@yahoo.com>

	* Source/NSBundle.m (_find_framework): initialize file_name variable.

2006-10-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Strip path extension from main bundle name on
	cygwin.
	* Headers/Foundation/NSPortNameServer.h: Improve documentation

2006-10-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Makefile.postamble:
	Remove use of UNICODE_HEADERS which appears to beave been breaking
	solaris build.

2006-10-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSPrivate.m:
	* Source/Additions/Unicode.m:
	* Source/GSPrivate.h:
	* Source/NSArray.m:
	* Source/NSCalendarDate.m:
	* Source/NSDate.m:
	* Source/NSDecimalNumber.m:
	* Source/NSDictionary.m:
	* Source/NSNotification.m:
	* Source/NSObject.m:
	* Source/NSProcessInfo.m:
	* Source/NSScanner.m:
	* Source/NSString.m:
	* Source/NSUserDefaults.m:
	Experiments with gcc attribute for making functions inaccessible
	outside the library ... new experimental function
	GSPrivateDefaultLocale() declared in GSPrivate.h, implemented in
	Additions/GSPrivate.m seems to work and to be invisible to the linker
	for external apps.

2006-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m:
	Fix error writing negative numbers to property list.

2006-10-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFCallInvocation.m:
	* Source/GSFFIInvocation.m:
	* Source/GSPrivate.h:
	* Source/Additions/GNUmakefile:
	* Source/Additions/GSPrivate.m:
	* Source/Additions/GSCategories.m:
	Minor further work simplifying and getting rid of unnecessary
	external symbols etc.

2006-10-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileHandle.m: Look for SSL bundle in any domain.
	* Source/NSTimer.m: Fix minor documentation error.

2006-10-11  Nicola Pero <nicola.pero@meta-innovation.com>

	* GNUmakefile (GNUSTEP_INSTALLATION_DOMAIN): Use
	GNUSTEP_INSTALLATION_DOMAIN instead of GNUSTEP_INSTALLATION_DIR.

2006-10-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/externs.m:
	* Source/Additions/Unicode.m:
	* Source/NSDecimal.m:
	* Source/GSFormat.m:
	* Testing/tcpport-server.m:
	* Testing/exported-strings.m:
	Make many globals static, remove some obsolete variables etc.

2006-10-11  Nicola Pero <nicola.pero@meta-innovation.com>

	* SSL/Makefile.postamble (after-distclean): Remove all configure
	generated files.
	(config.mak): Run config.status, not ../config.status.
	($(GNUSTEP_TARGET_DIR)/config.h): Run config.status first.  Do not
	try to move config.h into a target specific dir if the target dir
	is '.'.
	(config.status): New rule to recreate it.

2006-10-11  Nicola Pero <nicola.pero@meta-innovation.com>

	* Source/Additions/Makefile.preamble (ADDITIONAL_INCLUDE_DIRS):
	Added -I.. so that the compiler finds GSPrivate.h when it's using
	the non-flattened layout, and it compiles again.
	* SSL/Makefile.preamble (ADDITIONAL_INCLUDE_DIRS): Added
	-I../Source for the same reason.

2006-10-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDecimalNumber.m: Implement coding/decoding

2006-10-09  Nicola Pero <nicola.pero@meta-innovation.com>

	* GNUmakefile: Do not include GNUmakefile.local.

2006-10-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSCompatibility.m: Removed ... no longer used
	* Source/GNUmakefile: Remove GSCompatibility.m
	* Source/NSGeometry.m:
	* Source/NSArray.m:
	* Source/NSDictionary.m:
	Update to get rid of a couple of functions which were not really
	needed, slimming down global symbols a bit more.

2006-10-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	Remove previously deprecated functionality.
	* Documentation/TypesAndConstants.gsdoc:
	* Documentation/ReleaseNotes.gsdoc:
	* Documentation/Functions.gsdoc:
	* Documentation/BaseAdditions.gsdoc:
	* Documentation/Base.gsdoc:
	* ChangeLog:
	* Tools/AGSHtml.m:
	* Tools/AGSParser.m:
	* Tools/autogsdoc.m:
	* Tools/AGSOutput.m:
	Update/improve version/deprecation reporting.

2006-10-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/unicode:
	Moved to Source/Additions/unicode
	* Source/NSSocketPortNameServer.m:
	* Source/GSLocale.m:
	* Source/NSTimeZone.m:
	* Source/GSCompatibility.m:
	* Source/NSCalendarDate.m:
	* Source/NSBundle.m:
	* Source/NSPropertyList.m:
	* Source/NSPathUtilities.m:
	* Source/NSScanner.m:
	* Source/NSProcessInfo.m:
	* Source/GNUmakefile:
	* Source/NSSocketPort.m:
	* Source/NSUserDefaults.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSArray.m:
	* Source/GSStream.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSDebug.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/NSDistributedLock.m:
	* Source/GSHTTPURLHandle.m:
	* Source/NSMessagePort.m:
	* Source/GSPrivate.h:
	* Source/win32/NSMessagePortNameServerWin32.m:
	* Source/win32/GSFileHandleWin32.m:
	* Source/win32/NSUserDefaultsWin32.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/NSMessagePortWin32.m:
	* Source/win32/NSStreamWin32.m:
	* Source/NSInvocation.m:
	* Source/NSFileManager.m:
	* Source/objc-load.m:
	* Source/NSException.m:
	* Source/NSString.m:
	* Source/NSObject.m:
	* Source/NSDecimalNumber.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GSFunctions.m:
	* Source/Additions/GSCompatibility.m:
	* Source/Additions/GSCategories.m:
	* Source/NSDecimal.m:
	* Source/GSString.m:
	* Source/NSDateFormatter.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSHost.m:
	* Source/NSDate.m:
	* Source/NSObjCRuntime.m:
	* Source/NSPipe.m:
	* Source/NSDictionary.m:
	* Source/NSLog.m:
	* Source/GSFormat.m:
	* Source/GSFileHandle.m:
	* Source/NSTask.m:
	* Source/NSArchiver.m:
	* Source/GSFTPURLHandle.m:
	* SSL/GSSSLHandle.m:
	* Headers/Foundation/NSException.h:
	* Headers/Additions/GNUstepBase/GSFunctions.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	* Tools/xmlparse.m:
	* Tools/defaults.m:
	* Tools/locale_alias.m:
	* Tools/Makefile.preamble:
	* Tools/AGSParser.m:
	* Tools/make_strings/make_strings.m:
	* Tools/pl.m:
	* Testing/tcpport-server.m:
	* Testing/exported-strings.m:
	* Testing/call.m:
	* Testing/nsconnection_server.m:
	* Testing/benchmark.m:
	* Testing/tcpport-client.m:
	Continuing effort to reduce global namespace pollution ... made many
	external variables static (particuarly unicode tables).  Changed
	several global functions to be methods of a private internal class.
	Also updated several usages of deprecated cString methods to use
	either UTF8 methods or cString...encoding methods as seemed most
	appropriate and/or simplest.

2006-10-06  Fred Kiefer <FredKiefer@gmx.de>

	* Source/Additions/GSMime.m(GSMimeDocument +initialize): Corrected
	small bug in last patch.

2006-10-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Add a couple more charset mappings.
	* Source/NSRunLoop.m: Move some variables to GSRunLoopCtxt.m
	* Source/GSHTTPURLHandle.m: Make a global static
	* Source/NSPort.m: Make two globals static
	* Source/unix/GSRunLoopCtxt.m: Make variable static.
	* Source/win32/GSRunLoopCtxt.m: Make variable static.

2006-10-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/GSHTTPAuthentication.m: Add a little checking for nil/invalid
	arguments.  Make parsing of authentication a little more tolerant.

2006-10-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Version: Bump to version for next release.
	* configure.ac: Check for utsname
	* configure: Regenerate
	* Headers/Additions/GNUstepBase/config.h.in: Regenerate
	* Headers/Foundation/NSObject.h: Small documentaion improvement
	* Headers/Foundation/NSProcessInfo.h: Add documentation and update.
	* Source/NSProcessInfo.m: Moved documentation to header, clean up
	and complete operating system code.
	* Testing/nsprocessinfo.m: Trivial test updates.  Avoid use of cString

2006-10-02  Nicola Pero <nicola.pero@meta-innovation.com>

	More work on having the default flattened gnustep build with just
	GNUSTEP_MAKEFILES set.  Non-flattened builds will still require
	sourcing GNUstep.sh before configure instead.

	* configure.ac: Use new variable GNUSTEP_IS_FLATTENED instead
	of GNUSTEP_FLATTENED, defaulting now to 'yes'.  To build
	non-flattened you have to source GNUstep.sh first.
	* configure.ac (config.make): When determining objc threading
	flags in non-flattened mode, look for config.make in a
	library-combo subdir since that's where it is installed by
	gnustep-make now.
	* configure.ac: Extended the error message when the GNUstep conf
	file is not found.
	* configure: Regenerated.

	* SSL/configure.ac: Use GNUSTEP_IS_FLATTENED instead of
	GNUSTEP_FLATTENED.
	* SSL/configure: Regenerated.

	* Source/GNUmakefile: Renamed -DGNUSTEP_FLATTENED to
	-DGNUSTEP_IS_FLATTENED.  This is just for consistency
	with the new gnustep-make variable name.
	* Source/NSPathUtilities.m: Same changes.

2006-09-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Fix for buffer resize error when registering
	framework info, as suggested by Andreas Hoschler.

2006-09-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: ([stringByAddingPercentEscapesUsingEncoding:])
	Fix to escape '@' (in fact anything not unreserved acording to
	RFC2396)
	* Source/NSPathUtilities.m: Fix missing include.

2006-09-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: ([-operatingSystemName]) conform to
	MacOS-X and return NSMACHOperatingSystem rather than darwin etc.

2006-09-18  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac (GNUSTEP_MAKE_CONFIG): Get this config from
	config-noarch.make (requires gnustep-make > 1.13.0).  If failing,
	fall back to taking it from $GNUSTEP_MAKEFILES/config.make as it
	was done before (works with gnustep-make < 1.13.0 only though).
	* configure: Regenerated.

2006-09-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: Add hack to recognize apple plist info
	and use the GNUstep plist DTD instead if necessary.

2006-09-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSRange.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSByteOrder.h:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSKeyValueCoding.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSNotificationQueue.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSStream.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSDecimal.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSFormatter.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSPredicate.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSClassDescription.h:
	* Headers/Foundation/NSNull.h:
	* Headers/Foundation/NSZone.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSDistantObject.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSArchiver.h:
	* Headers/Foundation/NSCharacterSet.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSEnumerator.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSIndexPath.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSMapTable.h:
	* Headers/Foundation/NSURLCache.h:
	* Headers/Additions/GNUstepBase/GSLocale.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Additions/GNUstepBase/DistributedObjects.h:
	* Headers/Additions/GNUstepBase/behavior.h:
	* Headers/Additions/GNUstepBase/GSFunctions.h:
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	* Headers/Additions/GNUstepBase/GCObject.h:
	* Headers/Additions/GNUstepBase/GSIMap.h:
	* Headers/Additions/GNUstepBase/GSIArray.h:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSUnion.h:
	* Headers/Additions/GNUstepBase/GSLock.h:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	* Headers/Additions/GNUstepBase/GNUstep.h:
	* Headers/Additions/GNUstepBase/objc-gnu2next.h:
	* Headers/Additions/GNUstepBase/Unicode.h:
	Bracket with 'extern "C"' for inclusion in Objective-C++ programs.
	* Source/NSNotificationCenter.m: Remove deprecated method.

2006-09-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: When decoding a corrupt encoded word
	in a header, abandon processing of the header without appending
	any decoded data.
	* Headers/Foundation/NSBundle.h:
	* Source/NSBundle.m:
	([pathForResource:ofType:inDirectory:forLocalization:]) implement.

2006-09-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m: Remove unnecessary check on file name as
	Roland Schwingel reported that it caught legitimate files on windows.
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	* Source/NSIndexPath.m:
	* Source/NSBundle.m:
	Protect -release with lock and remove object from global table within
	protected region, to avoid possible double deallocation in a
	multithreaded process.
	* Source/unix/NSStream.m: If socklen_t is not defined, assume uint32_t

2006-09-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortWin32.m: Restructure to try to avoid
	deadlock reported by Wim.  Also implement -release to remove port
	from name table so that another thread can't find it in the window
	between checking the refcount end deallocation.

2006-09-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h: Fix incorrect backward compatibility
	setting for openstep version.
	* Source/NSObject.m: minor tweak ... put debugging code in the object
	reference counting function rather than the release method.
	* Source/NSConnection.m: Change release implementation for better
	protection of global connection table management.

2006-09-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: ([release]) protect with connection table
	lock to prevent an other thread grabbing the connection while we
	are deallocating it.  Bug reported by Wim Oudshoorn.

2006-08-28  Adam Fedor  <fedor@gnu.org>

	* Version 1.13.0

2006-08-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: Fix passing int variable to printf format
	expecting long.
	* Source/NSTask.m: create windows task as detached process.
	* NSTimeZones/NSTimeZones./tar: regenerated

2006-08-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSScanner.m: initialisation fix pointed out by David Ayer
	* Source/NSBundle.m: fix for getting class from gnustep bundle
	* Source/NSConnection.m: thread deadlock fix based on probelm and
	solution supplied by Wim Oudshoorn
	* Source/NSArchiver.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSPortCoder.m: Fix possible problem on 64bit CPUs reported
	by Wim.

2006-08-16  Richard Frith-Macdonald <rfm@gnu.org>

	* NSCharacterSets/letterCharSet.dat:
	* NSCharacterSets/symbolAndOperatorCharSet.dat:
	* NSCharacterSets/lowercaseLetterCharSet.dat:
	* NSCharacterSets/uppercaseLetterCharSet.dat:
	* NSCharacterSets/alphanumericCharSet.dat:
	* NSCharacterSets/punctuationCharSet.dat:
	* NSCharacterSets/illegalCharSet.dat:
	* NSCharacterSets/decimalDigitCharSet.dat:
	* NSCharacterSets/nonBaseCharSet.dat:
	* NSCharacterSets/decomposableCharSet.dat: Update for chinese etc.
	* Source/NSCharacterSetData.h: Update with ranges in UnicodeData.txt
	* Source/GSStream.m: Add partial implemenmtation of socks5
	* Source/Additions/GSMime.m: improve fault tolerance when parsing
	headers.

2006-08-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: substring_c(), substring_u() move structure type
	declaration out of function to help old (pre-gcc-3) compiler, as
	suggested by Adam.
	* Source/NSString: ([dataUsingEncoding:allowLossyConversion:]}
	replace implementation with call to concrete subclass so that we only
	have one version of this large, complex method to maintain, as
	suggested by David.

2006-08-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedArchiver.m: make a guess at how MacOS-X decides to
	encode objects directly ... if the classForKeyedArchiver method
	returns a property list class (other then array and dictionary
	which contain other objects) we try direct coding.

2006-08-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFormat.m: optimise a bit and fix bug where utf8 (and other
	multibyte encodings) strings could be truncated at the wrong
	precision.
	* Source/NSIndexPath.m: ([indexAtPosition:]) return NSNotFound if
	given a bad position. ([compare:]) fix to match MacOS-X
	* Source/NSObject.m: implement CRASH_ON_ZOMBIE
	* Documentation/Base.gsdoc: document it.
	* Source/NSArray.m: Fix error in decoding from keyed archive.

2006-08-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: getCString_c() call getCString_u() to do the
	work if external encoding != internal encoding.
	* Source/NSScanner.m: Fix for utf8
	* Source/GSFormat.m: remove call to deprecated method.
	* Source/NSString.m: remove calls to deprecated methods.
	Fix getCstring... by using concrete class implementation.

2006-08-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: Fixup for path validation error on mingw32
	* Headers/Foundation/NSStream.h: improve documentation.
	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/unix/NSStream.m:
	* Source/win32/NSStreamWin32.m:
	Add lots of error checking, simplify a little, get local streams on
	mingw to close down properly.

2006-08-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.m:
	* Source/win32/NSStreamWin32.m:
	Fix error in pipe read offset.  Imitial implementation of local
	'unix domain sockets' (actually named pipe) stream.

2006-08-10  Nicola Pero <nicola.pero@meta-innovation.com>

	* configure.ac: Fixed typo in help of --with-default-config option.
	* configure: Regenerated

2006-08-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/unix/NSStream.m:
	* Source/win32/NSStreamWin32.m:
	Ensure all events are posted.  Fixup for winsock write signalling.

2006-08-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/Base.gsdoc: Improve links to macros.
	* Headers/Foundation/NSObject.h: Improve versioning documentation
	* Headers/Foundation/NSNotificationQueue.h: tidied
	* Headers/Foundation/NSUndoManager.h: ditto
	* Headers/Foundation/NSAutoreleasePool.h: ditto
	Documentation improvements and header tidyups.

2006-08-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/win32/NSStreamWin32.m:
	* Source/unix/NSStream.m:
	If a connection attempt fails, propagate error to sibling stream so
	both streams in the pair get a failure.
	Try to make behavior of socket streams MacOs-X like, avoiding repeated
	notifications of events.

2006-08-07 00:13-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSData.m: Correct issue in initWithCoder: and encodeWithCoder:
	with encoding data using keyed archiver.

2006-08-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: Reorganize initialisation of scanner to avoid
	implicit cast of zero to a va_listt (fix bug #17336)
	* Source/Additions/GSObjCRuntime.m: GSObjCMakeClass() fix incorrect
	calculation of ivar size/offset information as reported in bug #17069

2006-08-04 23:26-EDT Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSKeyedArchiver.m: in _encodeObject:forKey: use replacement
	if it exists.
	* Source/NSKeyedUnarchiver.m: in unarchiveObjectWithFile: remove
	autorelease pool, since the unarchiveObjectWithData: object is
	already autoreleased, this was causing a crash when unarchiving the
	object.

2006-07-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Remove a couple of comments
	* Headers/Additions/GNUstepBase/GSMime.h: Add improved documentation
	for the bas64 conversion methods.

2006-07-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedUnarchiver.m: Reinstate fix of 2006-07-14 which was
	erroneously reverted on 2006-07-15.

2006-07-19  Jeremy Bettis <jeremy@deadbeef.com>

	* Source/win32/NSUserDefaultsWin32.m:
	The method wantToReadDefaultsSince:
	was always returning YES.  Fixed to work as intended.

2006-07-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Only queue a new read on a handle if there
	is not one in progress.  Where a connection has been kept alive, we
	can have an outstanding read intended to determine when the connection
	is dropped by the remote end.

2006-07-15 17:00 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSKeyedUnarchiver.m: Partial fix for bug#17112.

2006-07-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedUnarchiver.m: ([-dealloc]) release objects in array
	to fix bug #17097

2006-07-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Resources/Languages/README: describe how to deal with files where
	the BOM is missing.
	* Resources/Languages/Korean: update supplied by YunSong Hwang

2006-07-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: remove unnecessary include of config.h

2006-07-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: On mingw32 create subtask with CREATE_NO_WINDOW
	* Source/GSURLPrivate.h: Generalise GSHTTPAuthentication
	* Source/GSHTTPAuthentication.m: Generalise to support Basic auth
	* Source/NSURLProtectionSpace.m: Optimise a little.
	* Source/GSHTTPURLHandle.m: Changes for GSHTTPAuthentication update.
	Don't send basic authentication info unless challenged by server.

2006-07-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Keep count of challenge/authentication
	to avoid recycling the same authentucation repeatedly.

2006-06-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Tools/gdnc.m: Don't try to trap SIGPROF
	* Source/GSString.m: fix bug getting Cstring.
	* Source/NSNotificationQueue.m: fix mem leak in multithreaded apps.

2006-06-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Fix spelling in comment
	* Source/NSPathUtilities.m: Add GNUSTEP_EXTRA to allow extra info
	in GSConfigDomain without producing an error message.
	* Documentation/Base.gsdoc: Document GNUSTEP_EXTRA

2006-06-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: small optimisation for initialisation with
	unicode data which happens to be just ascii.

2006-06-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPDigest.m: deleted
	* Source/GSHTTPAuthentication.m: added
	* Source/GNUmakefile: build GSHTTPAuthentication
	* Source/GSHTTPURLHandle.m: use GSHTTPAuthentication
	Change class name to something more intuitive and add class methods
	for mapping domains/URLs to protection space objects.
	Update code to used cache protection space info to put digest
	authorisation in place without waiting for challenge.

2006-06-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSURLPrivate.h: Add GSHTTPDigest interface.
	* Source/GSHTTPDigest.m: Add GSHTTPDigest implementation.
	* Source/GNUmakefile: Build GSHTTPDigest.
	* Source/NSURLProtectionSpace.m: Implement ([-hash]) and ([-isEqual:])
	* Headers/Foundation/NSURLAuthenticationChallenge.h: Improve comments.
	Add GSHTTPDigest class to handle HTTP digest authentication.
	* Source/GSHTTPURLHandle.m: Perform rudimentary digest authentication.

2006-06-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix memory leak.
	* Source/NSAutoreleasePool.m: Optimise -emptyPool method.
	* Source/NSRunLoop.m: Empty autorelease pool after firing each
	timer/event so that huge memory footprints are less likely to occur.

2006-06-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSURLCredential.h:
	* Headers/Foundation/NSHTTPCookieStorage.h:
	* Headers/Foundation/NSURLAuthenticationChallenge.h:
	* Headers/Foundation/NSHTTPCookie.h:
	* Headers/Foundation/NSURLError.h:
	* Headers/Foundation/NSURLProtectionSpace.h:
	* Headers/Foundation/NSURLDownload.h:
	* Headers/Foundation/NSURLRequest.h:
	* Headers/Foundation/NSURLCredentialStorage.h:
	* Headers/Foundation/Foundation.h:
	* Headers/Foundation/NSURLResponse.h:
	* Headers/Foundation/NSURLConnection.h:
	* Headers/Foundation/NSURLProtocol.h:
	* Headers/Foundation/NSURLCache.h:
	Headers for Apple's new URL loading scheme (including documentation).
	* Source/NSMapTable.m:
	* Source/NSURLCredential.m:
	* Source/NSURLAuthenticationChallenge.m:
	* Source/NSURLHandle.m:
	* Source/GNUmakefile:
	* Source/NSURLDownload.m:
	* Source/NSURLCredentialStorage.m:
	* Source/NSURLResponse.m:
	* Source/NSURLProtocol.m:
	* Source/NSURLCache.m:
	* Source/NSHTTPCookieStorage.m:
	* Source/NSURL.m:
	* Source/DocMakefile:
	* Source/NSHTTPCookie.m:
	* Source/NSURLProtectionSpace.m:
	* Source/NSURLRequest.m:
	* Source/NSSet.m:
	* Source/NSURLConnection.m:
	Skeleton code for Apple's new URL loading scheme (plus minor
	tweaks to comments in other files).  This code is not expected
	to work yet.  Major lacks are ...
	1. concrete implementations of protocols
	2. on disk cache/storage management
	3. thread safety (locking) for shared objects
	However, I hope it will provide a good starting framework.

2006-06-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Additions/GNUstepBase/GSXML.h: New XMLRPC settings to control
	timezone and to produce compact output.
	* Source/Additions/GSXML.m: New methods and bugfix for handling
	string data with no 'string' element markup.
	* Additions/GNUstepBase/GSMime.h: Fix possible cases of parsing
	saying that it needs more data when you have passed it an empty
	data item to terminate parsing.

2006-06-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: ([initWithScheme:host:path:]) escape characters in
	path as required.

2006-06-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSTimeZone.m:
	* Source/NSPortCoder.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSAttributedString.m:
	* Source/GSArray.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSUnarchiver.m:
	* Source/GSAttributedString.m:
	* Source/Additions/GCArray.m:
	* Source/Additions/GCDictionary.m:
	* Source/Additions/GCObject.m:
	* Source/NSNumber.m:
	* Source/GSString.m:
	* Source/NSConnection.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSThread.m:
	* Source/NSData.m:
	* Source/NSDate.m:
	* Source/NSNull.m:
	* Source/NSValue.m:
	* Source/NSPortNameServer.m:
	* Headers/Additions/GNUstepBase/preface.h.in:
	Fixups to avoid spurious compiler warnings.

2006-06-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Fix uninitialised variable problem.

2006-06-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix position of external function declaration.
	Fix use gf getCString methods for length error.
	* Headers/Foundation/NSGeometry.h: Tweaks for stuff reported as
	problematic with objective-c++ compile.

2006-05-30  David Ayers  <d.ayers@inode.at>

	* Source/GSPrivate.h (GSCharPtr): New union type to handle
	alignment issues.
	(GSString): Use it.
	* Source/GSString.m
	([-initWithBytesNoCopy:length:encoding:freeWhenDone:]): Use GSCharPtr
	instead of casts to avoid alignment issues.  Fix typo's.

	* Source/NSString.m
	([-initWithBytesNoCopy:length:encoding:freeWhenDone:]): Correct grammar
	in comment.

2006-05-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Use 'goto' to jump to 'done' label on
	failure to grow buffer, rather than 'break' ... because the GROW()
	macro is not aways called where a break gets you to the right place.
	Fixes bug spotted by David Ayers, and is also clearer code.

2006-05-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/objctidy.m: Crude utility to help importing code into
	GNUstep by trying to reformat common style differences to something
	like iour coding standards.

2006-05-25  Andrew Ruder <andy@aeruder.net>
	* Source/NSConcreteNumberTemplate.m (from NSConcreteNumber.m):
	* Source/GSConcreteValueTemplate.m (from GSTemplateValue.m):
	* Source/GNUmakefile:
	* Source/Makefile.postamble:
	* Source/GSConcreteValue.m (added):
	* Source/NSConcreteNumber.m (added):
	Get rid of use of sed to generate concrete NSNumber/NSValue classes.
	Use preprocessor to get around generation of additional files.

2006-05-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPredicate.m: Restore last changes with varargs rewrite
	using va_copy to try to make code portable.  This version compiles
	on systems where va_list is not a simple pointer, but is untested.
	* Source/GSString.m: Use GSIsByteEncoding() to test whether an
	encoding can hold ascii data.

2006-05-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Source/NSBundle.m:
	* Source/NSPropertyList.m:
	* Source/NSProcessInfo.m:
	* Source/NSPage.m:
	* Source/NSCallBacks.m:
	* Source/NSSortDescriptor.m:
	* Source/NSFileManager.m:
	* Source/objc-load.m:
	* Source/NSException.m:
	* Source/NSString.m:
	* Source/mframe.m:
	* Source/cifframe.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/GSNextRuntime.m:
	* Source/NSConnection.m:
	* Source/callframe.m:
	Tidy up uses of malloc etc to all go through objc_malloc and friends.

2006-05-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix some cases where parse was saying
	it needed more data even though it had actually completed.
	* Source/NSException.m: Don't add stacktrace information if we are
	not building with debug on.
	* Source/GSString.m: Minor optimisation ... return @"" for all
	substrings with a zero length range.

2006-05-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSerializer.m: Fix longstanding deserialisation problem ...
	is not retaining cross-referenced items... which is not a problem unless
	the item happens to be a dictionary key which is copied/released
	when the corresponding value is added to the dictionary.
	* Source/GSString.m: Make sure inline strings have 'free' flag set and
	add comments to say we use it to indicate ownership of buffer rather
	than whether to free the data.  Maybe we should change the flag name?
	* Source/Additions/Unicode.m: Fix missing brackets in byte order
	handling for UTF-16.  Problem pointed out by David Ayers

2006-05-20  Richard Frith-Macdonald <rfm@gnu.org>

	Restore reversions with a bugfix for deserialising ascii strings

2006-05-20  Richard Frith-Macdonald <rfm@gnu.org>

	Revert last changes ... passed regression tests but broke some
	software :-(

2006-05-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m:
	* Source/NSSerializer.m:
	Commit more string tidyups and simplifications made while I was
	travelling.  Changed private internal string subclasses so that
	they can't be re-initialised ... all instances are initialised
	'manually' rather than through a method that could be called by
	other code outside this file ... thus all initialisation by external
	code goes through ([-initWithBytesNoCopy:length:encoding:shouldFree])
	method of the placeholder string.

2006-05-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Fix error when parsing response with no
	content.
	* Source/NSPredicate.m: Revert to previous version as last change
	contained broken code and wouldn't compile.
	* Source/NSKeyValueCoding.m:
	* Source/GSArray.m:
	* Source/GSFFCallInvocation.m:
	* Source/NSInvocation.m:
	* Source/NSCoder.m:
	* Source/NSObject.m:
	* Source/Additions/GSCategories.m:
	* Headers/Foundation/NSLock.h:
	* Tools/AGSHtml.m:
	* Tools/autogsdoc.m:
	Use casts to avoid spurious warnings from gcc-4.1

2006-05-15  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPredicate.m:
	Extracted all the parsing into a speparate class
	GSPredicateScanner. This change is based on code by Nikolaus
	Schaller <hns@computer.org>, but extends this.

2006-05-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m:
	* Source/GSString.m:
	Change to use ([initWithBytesNoCopy:length:encoding:freeWhenDone:])
	as the primary/designated initialiser for strings and update code
	to fix character encoding errors when copying mutable strings in
	a UTF8 locale (ie where the internal encoding for 8bit strings is
	not the same as the external encoding).
	WARNING ... this is a restructuring of functionality which is core
	to the library.  Please use with care and report any bugs found.

2006-05-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: validate UTF-16 data when producing a Cstring
	* Source/NSCharacterSetData.h: Add code plane 16 (private use)
	* Source/NSCharacterSet.m: Fix to support code plane 16
	* Source/GSString.m: Attempt to fix error making a mutable copy of
	an 8bit string when the external Cstring encoding is not the same as
	the internal one. Use new initWithBytes... method specifying the
	encoding used in those cases.

2006-05-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSBundle.h: add ([bundleWithIdentifier:])
	* Source/NSBundle.m: implement ([bundleWithIdentifier:]) and prevent
	loading of multiple bundles with the same non-nil identifier.
	Use standardised path as cache key to prevent same bundle being
	loaded multiple times via symlinks etc.
	* Source/NSMessagePortNameServer.m: Fixup for names which contain bad
	characters for in a filename.
	* Source/win32/NSMessagePortNameServerWin32.m: ditto

2006-05-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Check for content-length specified as
	zero, and mark parsing as complete without attempting to read body.

2006-05-09 Nicolas Roard <nicolas@roard.com>

	* Source/NSSortDescriptor.m: use -valueForKeyPath: instead
        of -valueForKey:. Patch from Saso Kiselkov <diablos@manga.sk>.

2006-05-09 Dr. H. Nikolaus Schaller

	* Source/GNUmakefile:
	* Source/NSPredicate.m:
	* Headers/Foundation/NSCompoundPredicate.h:
	* Headers/Foundation/NSComparisonPredicate.h:
	* Headers/Foundation/NSPredicate.h:
	* Headers/Foundation/NSExpression.h:
	* Headers/Foundation/Foundation.h:
	Basic implementation of NSPredicate and related classes.

2006-05-08  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Check for bfd stuff for stacktrace support.
	* Source/NSException.m: incorporate code by Lloyd Dupont and Wim
	Oudshoorn to add a stack trace to a raised exception. Cleaned up
	and made to conform to coding standards.  Rewrote code to build
	list of binary files from NSBundle.
	EXPERIMENTAL!  Turn this on by building with STACKTRACE defined

2006-05-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: ignore profile/debug extensions in library name
	when looking for library bundles.

2006-05-06  Fred Kiefer <FredKiefer@gmx.de>

	* Resources/Languages/Esperanto: New language file.
	* Resources/Esperanto.lproj/Localizable.string: New string
	translations. Patch by Ingolf Jandt <i.jandt@web.de>.
	* Resources/Languages/Korean: New language file.
	* Resources/Korean.lproj/Localizable.string: New string
	translations. Patch by Hwang YunSong <hys545@dreamwiz.com>.
	* Resources/GNUmakefile: Added new languages.

2006-05-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSBundle.h: fix type of _bundleClasses
	* Source/NSBundle.m: Try to make bundles for libraries behave as
	well as possible with respect to the code in the libraries.
	Rather depends on the Info.plist in the resource directory
	specifying an NSPrincipalClass so that we can look up that
	class at runtime and determine the file it came from.
	Added documentation to mmake it clear that this is not
	reliable (eg impossible for static or non-existent libraries).

2006-04-30  David Ayers  <d.ayers@inode.at>

	* Source/NSString: Define _GNU_SOURCE to make protoype of fwprintf
	visible.

2006-04-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedUnarchiver.m: Fix decoding of NSNull objects.
	* Source/Additions/GSXML.m: Ensure that calls to parse documents
	handle the success/failure value returned. Improve exception info.

2006-04-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURL.m: Fix error unescaping uppercase hex digits.

2006-04-26  Saso Kiselkov

        * Headers/Foundation/NSException.h: Support native exceptions.

2006-04-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Correction to millisecond fix ... for
	bug #16426
	* Resources/GNUmakefile: Fix installation of Ukrainian language.
	* Source/NSProcessInfo.m: Always use UTF16 args on mingw32.

2006-04-26  Hubert Chan

	* config/config.align.c: force compiler not to optimise away the
	code being tested ... fixes bug #16342

2006-04-26  Marcus Muller

	* Source/NSKeyValueCoding.m: Fix bug #16386

2006-04-26  Sergii Stoian <stoyan255@ukr.net>

	* Resources/Languages/Russian: Updates and fixes
	* Resources/Languages/Ukrainian: New file
	* Resources/Languages/UkrainianRussian: Removed wrong file

2006-04-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Avoid a couple of minor rounding errors
	by using floating point constants for millisecond multipliers.

2006-04-24  Alex Perez  <aperez@alexperez.com>

	* Source/NSProcessInfo.m: Elaborated upon the
	GNU_MISSING_MAIN_FUNCTION_CALL error message, adding a section about
	the most common cause of the error being mismatched gui and base
	library versions. Feel free to make more clear or re-word.

2006-04-17  Adam Fedor  <fedor@gnu.org>

	* Source/NSTimeZone.m: Remove space in @ string define (causes
	problems with gcc 2.95).

2006-04-14  Jeremy Bettis <jeremy@deadbeef.com>
	* Source/win32/GSFileHandleWin32.m: Fix background reading of pipes.
	Several changes for Openstep compatiblity: Don't queue notification,
	don't raise exception when asked to read while a background operation
	is in progress.
	* Source/win32/GSRunLoopCtxt.m: If there are no handles to block on
	but there is a timer, sleep until the timer needs to wake up.

2006-04-12  Jeremy Bettis <jeremy@deadbeef.com>
	* Source/NSTimeZone.m: Use native time zone files under Solaris.
	* Source/GSFFCallInvocation.m: If the returning context is expecting
	a void* but we have a different return type just cast it. This
	normally is because the method was not declared and has defaulted
	to returning id.
	* Source/win32/NSUserDefaultsWin32.m: Write defaults to registry as
	unicode strings, read in either unicode(REG_SZ) or ascii(REG_BINARY).
	* Source/win32-load.h: In mingw, fileSystemRepresentation is unicode
	* Source/objc-load.m: In mingw, fileSystemRepresentation is unicode
	* Source/NSPropertyList.m (propertyListFromData:mutabilityOption:format:errorDescription:):
	Don't call memcmp if the data is smaller than 8 bytes.
	* Source/NSFileManager.m (isExecutableFileAtPath:):
	Added a comment
	* Source/NSBundle.m (objc_executable_location):
	A cast was obsuring a misuse of fileSystemRepresentation

2006-04-10  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPropertyList.m (BinaryPLGenerator - storeCount:):
	Corrected line forgotten when applying last patch.

2006-04-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: ([GSSAXHandler-dealloc]) fix memory leak.

2006-04-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: When loading localisation striong files, check
	the character encoding used and warn if it's not portable and may
	be producing incorrect messages due to the current default C string
	encoding not being the same as the one the file was created in.

2006-04-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSetData.h: Updated to version with comments.

2006-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSObjCRuntime.m: Add a class for autoreleased
	memory so it is clearer when using object allocation debugging.

2006-03-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSString.m: Fix error initialising mutable string from
	unicode char array conmtaining ascii characters.
	Fix a few memory mleaks.

2006-03-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSStreamWin32.m: Various tidyups for pipe streams.
	* Source/NSDictionary.m: Avoid compiler warning.
	* Headers/Additions/GNUstepBase/Unicode.h: Add validation function.
	* Source/Additions/Unicode.m: Add unicode validation function and
	alter UTF8 handling to be stricter.
	* Source/GSString.m: validate unicode when initialising a string.
	Also create 8bit data strings rather than 16bit where possible.

2006-03-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSRunLoopCtxt.h:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopCtxt.m:
	Tidy/improve removal of triggered watchers from outer contexts.
	* Source/NSDictionary.m: ([valueForKey:]) conform to MacOS spec

2006-03-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/GSRunLoopWatcher.m: deleted
	* Source/win32/GSRunLoopWatcher.m: deleted
	* Source/GSRunLoopWatcher.m: combine drom subdirectories.
	* Source/GNUmakefile:
	* Source/NSSocketPort.m:
	* Source/NSRunLoop.m:
	* Source/GSRunLoopWatcher.h:
	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/unix/GNUmakefile:
	* Source/unix/NSStream.m:
	* Source/GSRunLoopCtxt.h:
	* Source/NSMessagePort.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/GNUmakefile:
	* Source/win32/NSStreamWin32.m:
	* Source/NSThread.m:
	* Source/GSFileHandle.m:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	Remove timeout facility for runloop watchers ... can use standard
	timers instead.  This simplifies api/code somewhat.
	Added new watcher type ET_TRIGGER to count as an input source for
	the runloop but work by polling rather than waiting for I/O events.
	This allows NSStream objects to be added to the runloop even if
	they don't do real I/O (eg memory streams).
	Added private internal API to allow watchers to adjust how the loop
	deals with them for each iteration... needed to simulate unix like
	level-triggered events on windows where events are edge triggered.
	Rewrote NSStream code to put handling of runloop scheduling in the
	abstract classes rather than repeat in every subclass.
	Rewrote NSStream stuff to use new runloop mechanisms to support
	memory and file streams in runloops.
	Implemented pipe base NSStream for windows.

2006-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSOutput.m: Get rid of bogus '&nbsp;'
	* Tools/AGSHtml.m: Fix error in display of category method index.

2006-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/cifframe.h: Add code to try to get ffi muld to work on
	mingw32
	* GNUmakefile: Don't build SSL subproject for mingw32 as it
	doesn't work.

2006-03-17  Andrew Sveikauskas <asveikau@mail.rochester.edu>

	* Source/thr-mach.h: include objc/objc-api.h
	* Source/thr-pthread.m: use pthread_yield() except for apple
	* Source/GNUmakefile: link pthread library on openbsd where it isn't
	linked to the objc runtime.

2006-03-13  Adam Fedor  <fedor@gnu.org>

	* Version 1.12.0

2006-03-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m: Attempt to fix problems introduced into
	keypath code and reported by Helge ... ensure kvc mnethods are called
	for each element in the path.
	* Source/inet_pton.c: fixup for mingw32
	* Source/NSTimeZone.m: add missing include

2006-03-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Allow for quoting of numeric/date values
	in property lists.  Fixes bug #16068

2006-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSXML.h: clarify documentation of
	xml entity escaping methods.
	* Headers/Foundation/NSInvocation.h: don't use 'class' as macro
	argument ... should be hermless but is confusing to C++ programmers.

2006-03-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTimeZone.m:
	* Source/NSCalendarDate.m:
	* Source/GSPrivate.h:
	* Source/NSDate.m:
	Reorganise/tidy to avoid making some private symbols external.

2006-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/GSRunLoopCtxt.m: Don't hanlde windows messages unless
	required.
	* Source/win32/NSStreamWin32.m: Use fileSystemRepresentation rather
	than cStringUsingEncoding:
	* Source/NSCalendarDate.m: Support '%T' and '%t' in description.
	* Source/NSFileManager.m: don't abort directory copy just because
	we can't set attributes of destination directory.  Don't try to
	copy directories with their old owners.
	* Source/Additions/GSXML.m: Support #x and #X unescaping.
	* Source/NSSocketPortNameServer.m:
	* Source/NSBundle.m:
	* Source/NSProcessInfo.m:
	* Source/NSAttributedString.m:
	* Source/NSArray.m:
	* Source/NSMessagePortNameServer.m:
	* Source/GSPrivate.h:
	* Source/NSInvocation.m:
	* Source/NSNotificationCenter.m:
	* Source/NSCoder.m:
	* Source/mframe.m:
	* Source/Additions/GSCategories.m:
	* Source/NSConnection.m:
	* Source/GSPortPrivate.h:
	* Source/NSThread.m:
	* Source/NSNull.m:
	* Source/NSDistantObject.m:
	* Source/NSTask.m:
	* Source/NSPortNameServer.m:
	* Headers/Foundation/NSTimeZone.h:
	* Headers/Foundation/NSHashTable.h:
	* Headers/Foundation/NSRange.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSException.h:
	* Headers/Foundation/NSByteOrder.h:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSKeyValueCoding.h:
	* Headers/Foundation/NSBundle.h:
	* Headers/Foundation/NSSerialization.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSTimer.h:
	* Headers/Foundation/NSNotification.h:
	* Headers/Foundation/NSScanner.h:
	* Headers/Foundation/NSProcessInfo.h:
	* Headers/Foundation/NSDistributedNotificationCenter.h:
	* Headers/Foundation/NSGeometry.h:
	* Headers/Foundation/NSAttributedString.h:
	* Headers/Foundation/NSDecimal.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSUndoManager.h:
	* Headers/Foundation/NSDateFormatter.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSAutoreleasePool.h:
	* Headers/Foundation/NSFormatter.h:
	* Headers/Foundation/NSUserDefaults.h:
	* Headers/Foundation/NSThread.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSDate.h:
	* Headers/Foundation/NSHost.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSObjCRuntime.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSProtocolChecker.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSDistributedLock.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSDictionary.h:
	* Headers/Foundation/NSClassDescription.h:
	* Headers/Foundation/NSNull.h:
	* Headers/Foundation/NSZone.h:
	* Headers/Foundation/NSValue.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSSortDescriptor.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSSet.h:
	* Headers/Foundation/NSDistantObject.h:
	* Headers/Foundation/NSTask.h:
	* Headers/Foundation/NSCharacterSet.h:
	* Headers/Foundation/NSInvocation.h:
	* Headers/Foundation/NSUtilities.h:
	* Headers/Foundation/NSPortNameServer.h:
	* Headers/Foundation/NSNumberFormatter.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSEnumerator.h:
	* Headers/Foundation/NSMapTable.h:
	* Headers/Additions/GNUstepBase/DistributedObjects.h:
	* Headers/Additions/GNUstepBase/GSCategories.h:
	Tidied a bit ... wrap some long lines.
	Remove some old deprecated API.
	Move some internal API out of external headers.
	Deprecate a few non-standard API features.
	Move a bit of non-standard API to the additions library.

2006-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopWatcher.m:
	* Source/win32/GSRunLoopCtxt.m:
	* Headers/Foundation/NSRunLoop.h:
	Add initial attempt at code for adding streams to runloops ...
	as yet untested and not integrated into the NSStream code.
	Remove documentation for GNUstep specific loop watcher API and
	add comments to say that it may be deprecated in a later
	release if/when we move to using NSStream throughout.
	* configure.ac: minor documentation corrections.
	Don't allow environment variable to confuse setup of file location.
	* configure: regenerated

2006-03-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Optimise timer handling a little and fix very
	minor bug which would cause runloop to run an extra time on some
	occasions.
	* Tools/gdomap.c: Include config.h
	* configure.ac: Support config file environment variable by default
	* configure: Regenerate
	* Documentation/Base.gsdoc: Document default setting for env variable

2006-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSRunLoop.m: Rewrite housekeeping timer.
	* Source/GSRunLoopCtxt.h: Remove obsolete message/selector.
	* Source/win32/GSRunLoopCtxt.m: Add housekeeping timer.
	* Source/win32/NSRunLoopWin32.m: remove unused code.
	* Source/win32/GNUmakefile: remove /NSRunLoopWin32.m
	* Source/win32/NSStreamWin32.m: minor tidyups
	* Source/NSThread.m: Use new internal API for housekeeping timer.
	* Headers/Foundation/NSRunLoop.h: Remove deprecated mingw api
	Basically, remove deprecated mingw32 specific api, and change
	housekeeper to try to make it as invisible as possible in terms of
	side effects.
	* Source/NSFileManager.m: Fix mingw determination of the ownership
	of a directory.

2006-03-03  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: Check for HAVE_STDINT_H for safety of include

2006-03-01  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Add check for inet_pton. Also check for make-
	specified GNUstep.conf file
	* config.make.in: Add variable for inet_pton
	* Source/inet_pton.c: New file
	* GNUmakefile: Use it if needed.

2006-03-01  Derek Zhou <dzhou@nvidea.com>

	* Source/GSStream.m: Typo fixes
	* Source/win32/NSStreamWin32.m: rewrite

2006-03-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/NSStream.m: Final (hopefully) ifdef to disable ipv6
	so systems which don't have it can compile.

2006-02-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/unix/NSStream.m: More portability fixups ... use
	AF_UNIX and PF_UNIX if AF_LOCAL and PF_LOCAL are not avaulable.
	Check for PF_INET6
	* Tools/gdomap.c: include stdint.h for uint32_t on systems
	where it's not included by other headers.

2006-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: Helge spotted thread safety issues with
	the code controlling warnings and the external entity loader.
	Changed code to modify internals of the parser context and SAX
	context to set the values in there directly rather than using the
	global setter mechanism (strangely recommended in the libxml2 docs),
	so that all setup is made to the individual parser and should not
	effect other parsers in other threads.
	* Source/NSUndoManager.m: ([-removeAllActions]) fixed to remove any
	grouping in progress.

2006-02-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSString.h: Correct return type for
	([getCString:maxLength:encoding])
	* Source/NSString.m: ([getCString:maxLength:encoding]) make
	implementation match MacOS-X implementation rather than their docs.
	Change API for setting path handling mode to be a function we can
	call before any string/path operations.  Maybe final API to be made
	public?
	Path handling tweaks based on discussion at FOSDEM
	* Source/GSString.m: ([getCString:maxLength:encoding]) implemented.
	* Source/unix/NSStream.m: Portabiulity fixups ... use EPROTO only
	if defined and use dummy implementations of inet6 cclasses if AF_INET6
	is not defined.
	* Source/NSKeyValueCoding.m: Some optimisation suggested by Helge ...
	rewrite key path methods to loop rather than recurse.
	* Source/GSFFIInvocation.m: Avoid compiler warning
	* Source/NSURL.m: use new getCString... method
	* Source/NSSerializer.m: ditto
	* Documentation/Base.gsdoc: Remove env variable to set path handling.
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h: Slight change to
	functions for KVC to allow faster implementation.
	* Source/Additions/GSObjCRuntime.m: ditto

2006-02-24  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZone.m: Fix bug in GMT+/-NNNN timezone initialisation so that
	negative offsets work.  Implement GMT and synonyms as internal
	absolute timezones.  Implement GMT-14 to GMT+14 as absolute timezones.

2006-02-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Restructure for lazy creation of defaults
	database ... only create when we attempt to write.
	* Source/NSSocketPort.m: Include GSPrivate.h
	* Source/NSRunLoop.m: ditto
	* Source/unix/GSRunLoopCtxt.m: ditto
	* Source/GSPrivate.h: ditto
	* Source/win32/GSFileHandleWin32.m: ditto
	* Source/win32/GSRunLoopCtxt.m: ditto
	* Headers/Foundation/NSNotificationQueue.h: Move library internal
	function declarations to GSPrivate.h, thanks to Lloyd Dupont for
	spotting problem.

2006-02-23  Sheldon Gill  <sheldon@westnet.net.au>

	* Source/Additions/GSXML.m: URL munging for local DTD cache fixed for
	Win32 filesystems

2006-02-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: Fix parsing error .. was not recognising
	base64 elements.
	* Headers/Foundation/NSPathUtilitites.h: Expand config documentation
	* NSTimeZone.m:
	* NSPathUtilities.m:
	* NSPage.m:
	* NSException.m:
	* NSLog.m:
	Fix some MINGW32 conditional compilation to use __MINGW32__

2006-02-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Ensure that NSBundle is initialised before
	changing the current directory.
	* Source/NSBundle.m: Restructure for lazy evaluation of path to
	executable ... lots of apps never need it.
	* Source/NSTimeZone.m: Protect some class methods using locking, and
	provide (slow) fallback mechanisms if some of the files are missing,
	including fallback to posix stuff in zoneinfo directory if we really
	have to.

2006-02-20  Richard Frith-Macdonald <rfm@gnu.org>

	* NSTimeZones/NSTimeZones.tar: regenerated.

2006-02-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Make config functions public.
	* Headers/Foundation/NSPathUtilities.h: Declare config functions.
	* Source/NSUserDefaults.m: Use config functions and add support
	for new option to turn off external config file.

2006-02-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Fix bug dereferencing nul pointer under
	some conditions.

2006-02-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Implement method to get name of files
	owner on mingw32.
	* Source/NSPathUtilities.m: Check that user specific config file
	is owned by user, as suggested by Sheldon.

2006-02-16  Derek Zhou <dzhou@nvidea.com>

	* Source/GSStream.h:
	* Source/GSStream.m:
	* Source/unix/NSStream.m:
	* Source/win32/NSStreamWin32.m:
	* Headers/Foundation/NSStream.h:
	Add server side and pipe stream extensions along with a few fixes.

2006-02-15  Andrew Ruder <aeruder@ksu.edu>

	* Headers/Foundation/NSStream.h: NSRunLoop was not defined in
	the NSStream header file. (Added @class NSRunLoop;)

2006-02-15  Derek Zhou <dzhou@nvidea.com> Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSStream.h: New NSStream, NSInputStream and
	NSOutputStream classes and constants.
	* Headers/Foundation/Foundation.h: include NSStream.h
	* Source/GSStream.h: Internal headers for GSStream and subclasses
	* Source/GSStream.m: System independent parts of NSStream
	* Source/unix/NSStream.m: Unix specific class implementations
	* Source/unix/GNUmakefile: Build NSStream.m
	* Source/win32/NSStreamWin32.m: Win32 placeholders
	* Source/win32/GNUmakefile: Build NSStreamWin32.m
	* Source/GNUmakefile: Build GSStream.m
	* Source/DocMakefile: Build NSStream documentation
	Partial implementation of NSStream ... missing SSL, SOCKS, and
	Win32 (apart from memory streams).

2006-02-15  Andrew Ruder <aeruder@ksu.edu>
	* Headers/Foundation/NSString.h: Fixing the oldest bug in GNUstep?
	The header has says NSObject since Andrew McCallum added the file
	on March 18th, 1995 (Just short of 11 years ago).

2006-02-14  Richard Frith-Macdonald <rfm@gnu.org>
	* Source/GSFileHandle.m: ([-availabledata]) fix error in last change
	as we should block, but not for more than a single byte.

2006-02-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSCategories.m: Fix MD5 digest for 64bit CPU

2006-02-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSIndexPath.m: new
	* Headers/Foundation/NSIndexPath.h: new
	* Headers/Foundation/Foundation.h: include NSIndexPath.h
	* Source/GNUmakefile: build NSIndexPath
	* Source/DocMakefile: document NSIndexPath

2006-02-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandleWin32.m: Ignore extraneous write events.
	* Source/NSString.m: Don't insert native path separators by default.
	* Source/NSProcessInfo.m: Report correct operating system on windows.

2006-02-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m: ([-availabledata])a fix logic of non-blocking
	I/O setting.
	* Source/NSBundle.m: ([-pathForResource:ofType:inDirectory:])
	ignore versioning on windows.

2006-02-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: (handle_printf_atsign()) extend to support wprintf.

2006-02-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: Try to use iconv transliteration for
	lossy conversion.  When handling unconvertable characters in lossy
	conversion, substitute a question mark rather than an asterisk for
	consistency with iconv and other implementations.

2006-01-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDistributedLock.m: ([description]) implemented

2006-01-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: ([addObject:]) fix error in check for
	missing pool during thread exit.

2006-01-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/plget.m: remove unused variable
	* Source/GGSString.m: optimise ([canBeConvertedToEncoding:])
	* Source/NSURL.m: correct misleading/wrong exception text.
	* Source/NSString.m: mingw path handling tweaks ... build new
	paths using native separator by default.

2006-01-19  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSThread.h:
	* Source/NSAutoreleasePool.m:
	* Source/NSThread.m:
	Mimic MacOS-X behavior and create an autorelease pool if necessary
	to catch any autorelease objects during thread exit.
	As suggested by Wim Oudshoorn..

2006-01-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/Unicode.m: fix for rare case where we could corrupt
	the stack ... spotted by Wim Oudshoorn.

2006-01-18  Andrew Ruder <aeruder@ksu.edu>

	* config/addlibrarypath.m4: new file
	* configure.ac: Use new function to set library paths for netbsd
	* configure: regenerate

2006-01-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/plget.m: New file to extract a string from a plist.
	* Tools/pldes.1: Include plget
	* Tools/GNUmakefile: build/install plget.

2006-01-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortNameServerWin32.m:
	* Source/win32/NSMessagePortWin32.m:
	Add hack to cope with bug reading registry ... better solution welcome
	if anyone knows one.
	Add security attributes to message port stuff ... should only let
	current user on current machine access message ports I hope.

2006-01-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Fix possible read off end of buffer
	when parsing config file.

2006-01-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/GNUmakefile:
	* Documentation/General/GNUmakefile:
	Fix path to autogsdoc for mingw where the 'obj' symlink doesn't work.

2006-01-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSUnion.h:
	* Headers/Foundation/NSByteOrder.h:
	* Headers/Foundation/NSPort.h:
	* Source/GSFileHandle.m:
	* Source/GSFormat.m:
	* Source/NSData.m:
	* Source/NSDistantObject.m:
	* Source/NSMessagePort.m:
	* Source/NSPortCoder.m:
	* Source/NSSerializer.m:
	* Source/NSSocketPort.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSString.m:
	* Source/NSTimeZone.m:
	* Source/NSUnarchiver.m:
	* Source/win32/GSFileHandleWin32.m:
	* Source/win32/NSMessagePortWin32.m:
	Update to use sized datatypes from stdint.h now that almost all
	operating systems support it.
	* Source/NSCalendarDate.m:
	Support '%T' and '%t' as supplied by unix date/time locale info.
	* configure.ac: Ensure uintptr_t and intptr_t exist
	* configure: regenerate

2006-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/mframe.m:
	When calculating info about a structure, make sure its alignment is
	that of its most strictly aligned field and make sure its size is a
	multiple of its alignment.
	* Source/NSData.m: ([initWithCoder:]) Fix bug decoding unsigned long
	into unsigned int variable ... breaks on amd64

2006-01-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSCallBacks.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSDictionary.m:
	* Source/NSDistantObject.m:
	* Source/NSMessagePort.m:
	* Source/NSObject.m:
	* Source/NSProtocolChecker.m:
	* Source/NSProxy.m:
	* Source/NSSocketPort.m:
	* Source/NSTask.m:
	* Source/NSThread.m:
	* Source/NSZone.m:
	* Source/Additions/GSXML.m:
	* Source/unix/GSRunLoopCtxt.m:
	Add explicit casts to avoid compiler warnings where we are on a
	processor where the size of an integer is not the same as the size
	of a pointer.
	* Tools/gdomap.c:
	Add type casts to fix comparisons on 64bit processor

2006-01-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSRunLoopCtxt.m: Apply patch by Jeremy Bettis with
	fixups for intentation/formatting and minor correction to avoid waiting
	for an event when we have handled one in the current run of the loop.

2006-01-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: When generating binary plist, fix bug
	in case where we have to increase table size.
	* Source/NSKeyedArchiver.m: Update to use binary plist format
	by default rather than xml format ... MacOS-X compatible and
	works when libxml2 is not available.
	* Source/NSKeyedUnarchiver.m: Print NSLog error if attempting to
	decode an xml archive when no libxml2 is available.

2006-01-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: be more consistent in use of defined values
	from config file.
	* configure.in: Improve comments/help.  Fix error in config where we
	were attempting OS based decisions before we had determined the OS.
	Improve default paths on mingw to be relative to the DLL.
	Load information from make package config fo use during build of
	base library.
	Generally try to improve user experience on mingw to make build/install
	really simple with new config files.
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate
	* Documentation/Base.gsdoc: Attempt to clarify config file operation.

2006-01-07  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPropertyList.m (BinaryPLGenerator - storeCount:) Handle
	count > 256*256. Patch by Derek Zhou <dzhou@nvidia.com>.

2006-01-04  David Ayers  <d.ayers@inode.at>

	Bug #15353
	* Source/NSProcessInfo.m (fallbackInitialisation): Move
	initialization to avoid compiler error.  Reported by
	Stefan van den Oord (stefan.vandenoord@gmail.com).

2005-12-21  Adam Fedor  <fedor@gnu.org>

	* Version 1.11.2

2005-12-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.m: Partial update for use of CSS ... as provided by
	Fabien Vallon.  Need to decide where the stylesheet file should come
	from and where it should be installed.  Probably need a new autogsdoc
	flag for this and some internal api changes.

2005-12-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSParser.m: Deal with C++ declaration of external C/ObjC libs.
	* Tools/AGSHtml.m: Add changes to avoid colons in references to allow
	dumb windows help system to use our output.  Same idea as patch #4569
	but (hopefully) doesn't break anything.
	* Source/DocMakefile: A couple of fixes for building documentation of
	the additions library.

2005-12-20  Adam Fedor  <fedor@gnu.org>

	* SSL/configure.ac: Check for GNUSTEP_MAKEFILES not
	GNUSTEP_SYSTEM_ROOT.

2005-12-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	Increase maximum supported message size from 10MB to 32MB in
	recognition of the fact that everything is faster/bigger nowadays
	and people might actually want to send single messages with
	that much data in them.

2005-12-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: Fix error parsing date/time in xmlrpc
	Remove bad characters when escaping string for xml.

2005-12-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Get paths of system directories
	(for linux FHS support) from config file.
	* Documentation/Base.gsdoc: update

2005-12-06  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: On mingw, don't get the location of the config file
	from the make package.  Assume ./GNUstep.conf instead, so that the
	base library is built for distribution (relocatable relative to the
	library).
	* configure: regenerate

2005-12-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: Allow
	([+initializeWithArguments:count:environment:]) to override the real
	environment on mingw32.
	* Source/NSPathUtilities.m: Ignore config files named
	.GNUstep.conf-ignore (so we can safely disable config file reading
	and ensure inbuilt defaults are used)
	* configure.ac: By default, disallow use of GNUSTEP_CONFIG_FILE
	environment variable.  Remove some redundant code. Document better.
	* configure: regenerate
	* Documentation/Base.gsdoc: Update for config changes
	* Tools/autogsdoc.m: add any gsdoc files explicitly specified on
	command line to generated dependency file for make.

2005-12-02  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Fix bug configuring whether GNUstep.conf can be
	set in the environment
	* configure: regenerate

2005-12-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Add more checks/warnings about improper
	configuration.
	* Headers/Foundation/NSException.h: clarify/extend documentation.
	* Source/NSException.m: move some documentation to header.

2005-11-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSConfig.h.in:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Foundation/NSCoder.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSKeyValueObserving.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSPortCoder.h:
	* Headers/Foundation/NSProxy.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSXMLParser.h:
	* Source/NSArray.m:
	* Source/NSAttributedString.m:
	* Source/NSCoder.m:
	* Source/NSConnection.m:
	* Source/NSDictionary.m:
	* Source/NSFileHandle.m:
	* Source/NSFileManager.m:
	* Source/NSKeyValueObserving.m:
	* Source/NSKeyedArchiver.m:
	* Source/NSKeyedUnarchiver.m:
	* Source/NSObject.m:
	* Source/NSPortCoder.m:
	* Source/NSPortNameServer.m:
	* Source/NSRunLoop.m:
	* Source/NSString.m:
	* Tools/AGSOutput.m:
	* Tools/gdnc.m:
	* Tools/gsdoc.gsdoc:
	Documentation tweaks and minor simplificiations.

2005-11-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSOutput.m:
	* Tools/AGSParser.h:
	* Tools/AGSParser.m:
	* Tools/AGSHtml.m:
	* Tools/autogsdoc.m:
	* Tools/gsdoc-1_0_3.dtd:
	* Toold/gsdoc.gsdoc:
	Added override=dummy attribute for methods which have dummy
	implementations intendeed to be ocerridden in subclasses.
	Update to log warning about unimplemented methods which are not
	tagged as intended to be overridden.

2005-11-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Restructure so that GNUstepConfig() can
	be used to set/get the global configuration as suggested by
	Jeremy Bettis

2005-11-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPort.m:
	* Source/NSMessagePort.m:
	* Source/NSDistributedNotificationCenter.m:
	* Tools/gdnc.m:
	Use the NSPortIsMessagePort user default consistently to control
	whether socket or message ports are used by default.  Remove mingw32
	specific GSMailslot user default.
	Source/NSPathUtilities.m: Check for illegal paths (ones which don't
	appear to be absolute paths) specified in config file ... warn about
	the bad config, but try to guess what they shjould be for mingw32

2005-11-20  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Add flags to allow detection of headers/libraries
	installed in the System domain of the GNUstep hierarchy.
	* configure: regenerate
	* Source/win32/GSRunLoopCtxt.m: Intercept windows WM_QUIT messages
	and tell the application to terminate cleanly (or raise an exception
	if the NSApplication class is not linked).  Should allow ms-windows
	to get a mingw32-based GNUstep app to shut down cleanly.
	* Source/NSDistributedNotificationCenter.m: Rewrite code for connecting
	to and starting up daemon to handle the process more quickly and
	smoothly.  Only complain if we can't to connect to it even after
	launching it and retrying the connection for five seconds.

2005-11-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m:
	* Source/NSUserDefaults.m:
	Restore reverted changes for code where class initialisation order
	is not a factor.
	* Source/NSUser.m: Delete unused file
	* GNUmakefile: Don't try to build NSUser.m

2005-11-15  Richard Frith-Macdonald <rfm@gnu.org>

	Revert last changes ... discovered some apps where ordering of
	class initialisation caused failures.

2005-11-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdnc.m:
	* Source/GSPrivate.h:
	* Source/NSException.m:
	* Source/NSObject.m:
	* Source/NSProcessInfo.m:
	* Source/NSString.m:
	* Source/NSUserDefaults.m:
	Be consistent and access environment variables only via the
	NSProcessInfo class ...so a program which uses a category to
	override it can effectively change the environment safely.
	* Source/NSPathUtilities.m:
	Restructure code for gatting config, so that a single function
	can be used to get/set config information for the system or a
	user. Decrease code duplication.

2005-11-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/GSFileHandleWin32.m: Move mingw32 implementation of
	file handle code here.
	* Source/GSFileHandle.m: Remove mingw32 code.
	* Source/NSPathUtilitires.m: Fix handling of user config file for
	when the user name is changed.

2005-11-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: NSOpenStepRootDirectory() remove
	deprecated status in documentation. Try to clarify doc.
	Get rid of environment variable.  Use native path for mingw32
	* Tools/gsdoc.7: Fix obsolete reference to environment variable.
	* Tools.gsdoc.gsdoc: ditto

2005-11-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Applied Willem Rein Oudshoorn's fix for bug #11055, having tested it
	and found it OK on windows-xp as well as the windows-2003 system he
	was using.

2005-11-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortNameServerWin32.m: fix port lookup in case
	where named port does not exist.  Correct debug logging by class name.
	* Testing/nsconnection_client.m: don't run large structure test on
	mingw32 at present ... it crashes (something wrong with the invocation
	stuff for ffcall and some large structures on mingw32)
	* Tools/gdnc.m: Obey GSMailslot default on mingw32.
	* Source/NSDistributedNotificationCenter.m: ditto.
	* Source/win32/NSMessagePortWin32.m: Fixes for cases where requests
	we wanted to be async actually complete synchronously.  Moves the
	state of this code from pre-alpha to alpha/beta quality I guess.
	* Source/preface.m: Change declaration of variables to be pointer to
	char rather than array of char ... more usual/safe.

2005-11-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortWin32.m: more changes
	* Source/win32/NSMessagePortNameServerWin32.m: ditto
	Working at least in part (pre-alpha I guess) ... enable with the
	GSMailslot user default.  Known problems -
	1. no way of telling if the other end of a connection has gone until
	we try to write to it.
	2. hangup in my testing comms between three threads.

2005-11-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortWin32.m: more changes
	* Source/win32/NSMessagePortNameServerWin32.m: ditto
	* Source/Tools/AGSOutput.m: search for C/ObjC types in text, and
	render them as <strong> automatically as suggested by Fabien Vallon.

2005-11-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/win32/NSMessagePortWin32.m: Lots of work towards implementing
	this, but nothing usable yet (compiles but won't run).
	* Source/win32/NSMessagePortNameServerWin32.m: ditto
	* Source/win32/NSUserDefaultsWin32.m: fix value type problem.
	* Source/win32/GNUmakefile: build NSMessagePortNameServer.
	* Source/NSMessagePortNameServer.m: fix minor memory leak.

2005-11-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/Win32Support.h: removed
	* Headers/Additions/GNUstepBase/Win32_Utilities.h: removed
	* Source/NSPathUtilities.m: Don't include unused files.
	* Source/win32/GNUmakefile: Don't build removed files.
	* Source/win32/NSUserDefaultsWin32.m: fix '%s' to '%S'
	* Source/win32/Win32Support.m: removed
	* Source/win32/Win32_Utilities.m: removed
	Cleanup ... remove some unused win32 cruft.

2005-11-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/Base.ispell: words from base reference documentation
	* Documentation/Base.gsdoc:
	* Headers/Additions/GNUstepBase/GSMime.h:
	* Headers/Additions/GNUstepBase/GSXML.h:
	* Headers/Foundation/NSArray.h:
	* Headers/Foundation/NSCalendarDate.h:
	* Headers/Foundation/NSCharacterSet.h:
	* Headers/Foundation/NSConnection.h:
	* Headers/Foundation/NSData.h:
	* Headers/Foundation/NSDebug.h:
	* Headers/Foundation/NSDecimalNumber.h:
	* Headers/Foundation/NSError.h:
	* Headers/Foundation/NSFileHandle.h:
	* Headers/Foundation/NSFormatter.h:
	* Headers/Foundation/NSIndexSet.h:
	* Headers/Foundation/NSKeyValueCoding.h:
	* Headers/Foundation/NSKeyedArchiver.h:
	* Headers/Foundation/NSLock.h:
	* Headers/Foundation/NSMethodSignature.h:
	* Headers/Foundation/NSObject.h:
	* Headers/Foundation/NSPathUtilities.h:
	* Headers/Foundation/NSPortMessage.h:
	* Headers/Foundation/NSPropertyList.h:
	* Headers/Foundation/NSRunLoop.h:
	* Headers/Foundation/NSString.h:
	* Headers/Foundation/NSURL.h:
	* Headers/Foundation/NSURLHandle.h:
	* Headers/Foundation/NSXMLParser.h:
	* Headers/Foundation/NSZone.h:
	* Source/GSCompatibility.m:
	* Source/GSCountedSet.m:
	* Source/GSString.m:
	* Source/GSTemplateValue.m:
	* Source/NSArchiver.m:
	* Source/NSArray.m:
	* Source/NSCalendarDate.m:
	* Source/NSClassDescription.m:
	* Source/NSConnection.m:
	* Source/NSData.m:
	* Source/NSDate.m:
	* Source/NSDebug.m:
	* Source/NSDictionary.m:
	* Source/NSDistantObject.m:
	* Source/NSDistributedLock.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSFileHandle.m:
	* Source/NSFileManager.m:
	* Source/NSHashTable.m:
	* Source/NSInvocation.m:
	* Source/NSLock.m:
	* Source/NSMapTable.m:
	* Source/NSObject.m:
	* Source/NSPathUtilities.m:
	* Source/NSPortMessage.m:
	* Source/NSProxy.m:
	* Source/NSScanner.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSString.m:
	* Source/NSTask.m:
	* Source/NSTimeZone.m:
	* Source/NSTimer.m:
	* Source/NSURL.m:
	* Source/NSURLHandle.m:
	* Source/NSUnarchiver.m:
	* Source/NSUndoManager.m:
	* Source/NSUserDefaults.m:
	* Source/NSValue.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/Unicode.m:
	* Source/win32/NSUserDefaultsWin32.m:
	* Tools/AGSParser.m:
	* Tools/autogsdoc.m:
	* Tools/gdomap.h:
	Fix typo/spelling mistakes manifesting in reference documentation.
	I spent half a day going through the tedious process of running
	all gsdoc output through ispell.

2005-11-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/Win32_Utilities.h:
	* Headers/Foundation/NSFileManager.h:
	* Headers/Foundation/NSString.h:
	* Source/NSBundle.m:
	* Source/NSData.m:
	* Source/NSFileManager.m:
	* Source/NSLog.m:
	* Source/NSPathUtilities.m:
	* Source/NSProcessInfo.m:
	* Source/NSString.m:
	* Source/NSTimeZone.m:
	* Source/objc-load.m:
	* Source/win32-load.h:
	* Source/Additions/GSObjCRuntime.m:
	* Source/win32/NSMessagePortWin32.m:
	* Source/win32/NSUserDefaultsWin32.m:
	* Source/win32/Win32_Utilities.m:
	Attempt to rationalise mingw32 unicode support, use explicit unicode
	methods throughput, fix several bugs where APIs were not using
	unicode when they should have been doing.

2005-11-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSCompatibility.m: don't generate macos-x (xml) property
	lists if we can't parse them.
	* Source/GSHTTPURLHandle.m: debug fix for mingw32
	* Headers/Foundation/NSFileManager.h: add mingw32 conditionals.
	* Headers/Foundation/NSString.h: add mingw32 conditionals.
	* Source/NSMessagePort.m: remove mingw32 stuff
	* Source/win32/NSMessagePort.m: added partial implementation
	* Source/win32/NSMessagePortNewServer.m: added skeleton
	* Source/win32/GNUmakefile: build message port classes

2005-11-04  Richard Frith-Macdonald <rfm@gnu.org>

	* configure.ac: Cope with backslashes in values from GNUstep.conf
	* configure: Regenerated.
	Improvements for mingw32 systems
	* Source/NSConnection.m: update obsolete methods.
	* Source/NSMessagePort.m: start mingw32 implementation

2005-11-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSMessagePort.m: If a socket file already exists when trying
	to bind to it, try connecting to it to see if there is a program
	using it, and unlin/retry if there isn't.  This is an attempt to
	handle situations where an old process was not killed cleanly and
	the new process tries to use the same name.
	* Source/Additions/GSCategories.m: ([uuencodeInto:name:mode:]) fix
	error encoding the termination marker of the uuencoded data.
	* Headers/Foundation/NSPort.h: Declare missing category of NSObject
	Remove some of the subclass stuff that should be private.
	* Source/GSPortPrivate.h: Put private port stuff here ... needs
	more to be moved out of NSPort.h
	* Source/NSMessagePort.m: Hide instance variables.  Use GSPortPrivate.h
	Add bugfix for possible deadlock situation reported by Wim.
	* Source/NSSocketPort.m: ditto
	* Source/NSMessagePortNameServer.m: Use GSPortPrivate.h
	* Source/NSPort.m: Implement missing informal protocol method.

2005-10-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: retain self for the duration of I/O
	handler methods where we may make callbacks to clients.  In case
	the client owns the handle, and decides to release it.
	* Source/GSFileHandle.m: Increase backlog size in listen() to improve
	perfromance of server objects accepting lots of connections.
	* Source/NSSocketPort.m: ditto ... though unlikely to be needed.
	* Source/NSMessagePort.m: ditto
	* Source/GSTcpPort.m: remove obsolete file
	* Tools/gstcpport_client.m: ditto
	* Tools/gstcpport_server.m: ditto

2005-10-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLog.m: Apply patch #5399 from Jeremy Bettis.
	Tidy indentation. Fix variable declaration not at start of block
	(broke compile for older gcc versions).  Avoid repeated system
	calls to get process ID.
	* Headers/Additions/GNUstepBase/GSRunLoopCtxt.h: Move private header to
	Source directory.
	* Headers/Additions/GNUstepBase/GSRunLoopWatcher.h: ditto
	* Headers/Foundation/NSRunLoop.h: Add event type for handling windows
	messages.
	* Source/GNUmakefile: Don't install private headers in public area.
	* Source/win32/GSRunLoopCtxt.m: Add code to handle windows messages.
	Check number of handles waited for.  Avoid unnecessary heap memory
	allocation/release.
	* Source/win32/GSRunLoopWatcher.m: update header path.
	* Source/win32/NSRunLoopWin32.m: update header path.
	Deprecate addMsgTarget:withMethod:forMode: as our code for the original
	addEvent:type:watcher:forMode: can be much more efficient if we don't
	support that extension.  We need to use addEvent:type:watcher:forMode:
	if we want to implement NSMessagePort using windows messages.
	if we don't support that as well as the o
	* Source/win32/NSUserDefaultsWin32.m: update header path.

2005-10-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.m: Revert last change ... it looked OK but it broke
	internal checking of references.

2005-10-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdomap.c: standardise on __MINGW32__
	* Source/win32/NSUserDefaultsWin32.m: patch #4567 fix a few typos
	* Source/DocMakefile: get right path for autogsdoc on mingw
	* Tools/DocMakefile: ditto (patch #4568)
	* Tools/AGSHtml.m: work round isssues with windows help (patch #4569)
	Mostly fixes by Jeremy Bettis

2005-10-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSParser.m: Fix error setting version numbers for the
	various standards.  Was causing generation of html erroneously
	saying that things were in neither openstep nor macos-x
	* configure.ac: Add code to initialise default path/config file
	information by loading GNUstep.conf config file from the location
	specified by config.make in the makefiles directory.
	Add --with-config-file= option to specify the name of the config
	file to be hard-coded into the library.  Overrides the value from
	the make system if desired.
	Add --with-default-config= option to specify the config file from
	which default path values are loaded (at configuration time). This
	overrides the default behavior of loading  values from the file
	specified by --with-config-file= or in $GNUSTEP_MAKEFILES/config.make
	Add --disable-importing-config-file for consistency with makefiles
	package ... not sure we need to keep this option.
	Add --disable-environment-config-file to prevent use of the
	GNUSTEP_CONFIG_FILE enviropnment variable.
	* configure: regenerate
	* Headers/Additions/GNUstepBase/config.h.in: regenerate to include
	new path definitions produced by configure script.
	* Source/GNUmakefile: Ignore variables specifying default paths,
	these are now set at configure time and can't be changed at make
	time.
	* SSL/GNUmakefile: ditto.
	* Source/NSPathUtilities.m: Remove windows-specific hack which
	got a few values from the registry ... we want to make use of
	the GNUstep.conf file simple/consistent across all platforms.
	Get default values from those defined in config.h

2005-10-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Drop 'make' style config file parsing
	and setting on 'sh' style (so we can source the config file).
	* Source/NSCalendarDate.m: Fix millisecond printing (bug #14863)

2005-10-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Try to ensure that user root and
	user library directories exist, so that tools/apps have somewhere
	to store any resources they don't want to put in the defaults
	database.

2005-10-23  Jeremy Bettis

	* Source/NSException.m: Added a few debugging checks in the
	exception handler code.
	The handler struct that needs to be removed is passed to
	_NSRemoveHandler.  Therefore, instead of starting at
	thread->_exception_handler and working your way down through
	the frames, you can just use the passed in struct. This way,
	if some bonehead called return in an NS_DURING block,
	perhaps you can still remove the exception handler without
	accessing memory that is on a freed section of the stack.

2005-10-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: remove test method for path handling setup,
	add environment variable (at least for a while until we are even
	more sure that there are no problems with do-the-right-thing mode).
	Remove previously deprecated path methods.
	* Source/NSFileManager.m: remove previously deprecated path method.
	* Headers/Foundation/NSString.h: Add missing information about
	windows peculiarities to comments.
	* Source/NSUserDefaults.m: More tweaks to use windows registry.
	also remove test user default for path handling setup.
	* Source/win32/NSUserDefaultsWin32.m: Rewrite
	* Source/NSPathUtilities.m: Tweaks for windows.
	Updates to (optionally) use windows registry to store defaults
	when GNUSTEP_USER_DEFAULTS_DIR is set to ':REGISTRY:'
	Based on patch #4299 by Jeremy Bettis, but with rewrites to make use
	of the code configurable in the GNUstep configuration file, to fix
	some bugs, and to conform to coding standards,  Probably still has
	bugs to fix, but seems usable now.


2005-10-20  Adam Fedor  <fedor@gnu.org>

	* Source/NSBundle.m (+pathsForResourcesOfType:inDirectory:,
	-pathsForResourcesOfType:inDirectory:forLocalization:):
	Implement.

2005-10-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUserDefaults.m: Begin applying registry patch.
	* Source/win32/NSUserDefaultsWin32.m: Registry patch with
	some work done towards conforming to gnustep coding standards.

2005-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* SSL/GSSSLHandle.m: Don't output log/warning on accept/connect
	failure if it's just a timeout or disconnect.

2005-10-17  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSNumberFormatter.m
	(-getObjectValue:forString:errorDescription:,
	stringForObjectValue:): Respect the settings for decimal and
	thousands separators. Still a very basic implementation.

2005-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Simplify by removing options for
	redefining user home directories.  Add code to use gnumake format
	rather than shell format for config files.  Fix error in default
	setup of local root.

2005-10-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Changes to support relocation of the
	entire system simply by copying the directory containing it around.

2005-10-16  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Set default value for defaults directory
	(lost in last set of changes).

2005-10-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Fix retain/release error exposed by recent
	changes.  Rewrite config handling (work in progress ... keeping in
	sync with make package changes).
	* Documentation/base.gsdoc: update somewhat.
	* configure.ac: use GNUSTEP_CONFIG_FILE rather than
	GNUSTEP_CONFIGURATION_FILE ... for consistency with make.
	* Headers/Additions/GNUstepBase/config.h.in: ditto
	* configure: regenerate

2005-10-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Complete rewrite of config file parsing
	to try to make it consistent with the escaping and quoting conventions
	of shells, so the same file can be source'ed by /bin/sh

2005-10-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Remove some useless functions to clarify
	code.  Add some explanatory comments, make config file parsing a lot
	more robust.

2005-10-12  Nicola Pero  <n.pero@mi.flashnet.it>

	* configure.ac (config_file): Get the location of the
	configuration file from gnustep-make rather than from a
	--with-config-file option.  Everything works exactly as before,
	but the --with-config-file option was moved to gnustep-make.
	* configure: Regenerated.

2005-10-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSPathUtilities.h: Remove deprecated functions.
	* Source/NSPathUtilities.m: Remove backward compatibility hacks for
	old GNUsteprc support.
	Remove deprecated functions.
	Permit specification of config file
	Simplify code a little.
	Fix a retain/release bug.
	Fix per-user .GNUsteprc parsing to work as documented (ie override
	the system-window config, not just fill in undefined values).
	Deprecate use of '~' in per-user .GNUsteprc ... it adds complexity
	for little utility that I can see ... we can undeprecate it if I'm
	wrong.
	* Documentation/Base.gsdoc: Update to remove references to old config
	scheme.  Remove documentation for deprecated '~' in per-user file
	Clarify how relative/absolute paths in config are treated.

2005-10-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSURLHandle.m: alter file handle to nitice if a file has
	changed.

2005-10-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSFileHandle.h:
	* Headers/Additions/GNUstepBase/GSRunLoopCtxt.h:
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSRunLoop.h:
	* Source/GSFileHandle.m:
	* Source/NSData.m:
	* Source/NSFileManager.m:
	* Source/NSLog.m:
	* Source/NSRunLoop.m:
	* Source/NSSocketPort.m:
	* Source/NSTimeZone.m:
	Be consistent in usage of __WIN32__ and __MINGW__

2005-10-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSLog.m: We had complaints about the new code to log output
	to the windows event log on microsoft ... so this has been changed to
	be activated by the GSLogSyslog user default (as the windows event
	log is roughly analogous to syslog on unix) rather than being done
	by default.
	* Source/NSTimeZone.m:
	* Source/NSPathUtilities.m:
	Fix a few cases where 16bit chartacter strings were being used as 8bit
	under windows.

2005-10-07  Chris Vetter <cbv@gmx.net>

	* Source/NSPropertyList.m: Remove bogus newline generated for BOOL.

2005-10-06  Adam Fedor  <fedor@gnu.org>

	* Source/NSPage.m: Add include for Cygwin (patch from
	Tom MacSween).

2005-10-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSTcpPort.m:
	* Source/NSCallBacks.m:
	* Source/NSMessagePort.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSSocketPort.m:
	* Source/win32/GSRunLoopCtxt.m:
	Attempt to deal with systems where sizeof(int) < sizeof(void*)

2005-10-01  David Ayers  <d.ayers@inode.at>

	* Source/NSString: (dataUsingEncoding:allowLossyConversion:):
	Use buffer returned by NSZoneRealloc to create the data object.

2005-09-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/unicode/gsm0338.h: Map unicode
	no-break-space character to gsm space rather than to gsm escape
	character.

2005-09-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: (-convertToBinary, -convertToBase64)
	new convenience methods for making documents compact or 7bit safe.

2005-09-25  David Ayers  <d.ayers@inode.at>

	* Testing/benchmark.m: Add some NSMapTable tests.

2005-09-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: (-rawMimeData) tolerate nil content of
	document ... should produce output with empty body.

2005-09-18  Adam Fedor  <fedor@gnu.org>

	* Version 1.11.1

2005-09-17  Saso Kiselkov <diablos@manga.sk>

        * Headers/Foundation/NSInvocation.h:
	* Source/NSInvocation.m:
        (-targetRetained, -retainArgumentsIncludingTarget:):
        Added new methods which allow target to be not retained when arguments
        are and to check whether it is retained or not (-retainsArguments code
        moved in -retainArgumentsIncludingTarged and simplified by removing a
        redundant nested branch statement).
        * Source/NSUndoManager.m (-forwardInvocation:,
        -registerUndoWithTarget:selector:object:): Fixed bug #14488 by relying
        on previous new methods to retain undo invocation (taking in account
        the fact arguments may have been released before it is called).
        Patch committed by Quentin Mathe.

2005-09-01  Adam Fedor  <fedor@gnu.org>

	* Source/NSSortDescriptor.m ([NSArray
	-sortedArrayUsingDescriptors:sortDescriptors]): Use
	makeImmutableCopyOnFail:.

2005-08-31  Adam Fedor  <fedor@gnu.org>

	* Source/GNUmakefile: Install NSSortDescriptor.h

2005-08-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSNumber.m: Improve poor hash function.
	* Source/NSConcreteNumber.m: Improve poor hash function.
	* Testing/benchmark.m: Add some NSNumber tests.

2005-08-30  Saso Kiselkov <diablos@manga.sk>

	* Headers/Foundation/NSSortDescriptor.h, Source/NSSortDescriptor.m:
	New files
	* Headers/Foundation/Foundation.h, Source/GNUmakefile: Add them to
	list.

2005-08-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendarDate.m: Fix bug subtracting minute interval.
	* SSL/GSSSLHandle.m: Put handle in non-blocking mode before call
	to SSL_accept() or SSL_connect() so that we can be interrupted
	if the remote end doesn't respond (older code can hang waiting
	for the remote end).

2005-08-22  Adam Fedor  <fedor@gnu.org>

	* Source/NSGeometry.m (NSStringFromPoint, NSStringFromRect,
	NSStringFromSize): Add spaces around '='. (Based on suggestion
	from Matthias Hengartner).

2005-08-12  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Check if we can read the psinfo struct from
	/proc (Solaris).
	* config/procfs.m4: Add psinfo check
	* config/config.psinfo.c: New file.
	* Source/NSProcessInfo.m (+load): Read from psinfo if we can.
	(Based on patch #4234 from Jeremy Bettis, with some modifications).

2005-07-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GNUmakefile: Pass GNUSTEP_FLATTENED as preprocessor
	definitions when building.
	* Source/NSPathUtilities.m: Use GNUSTEP_FLATTENED and other
	definitions to fix bug in returning paths for non-flattened
	systems (code was previously returneing flattened paths
	irrespective of whether the system was configured flattened
	or not).

2005-07-30  Jeremy Bettis

	* Source/NSData.m: Support write to file for windows9x  users.

2005-07-27  Adam Fedor  <fedor@gnu.org>

	* Source/Makefile.postamble (Info-gnustep.plist): Depend on
	../Version.

2005-07-24  Jeremy Bettis

	* Source/NSCalendarDate.m: Fix bug adding interval to date.
	* Source/NSDebug.m: Implemented _NSNewStringFromCString() for gdb.
	* Source/GSFormat.m: Fix %S format.
	* Source/NSObject.m: ([conformsToProtocol:]) return NO if passed nul.
	* Source/NSBundle.m: be more tolerant.
	* Source/objc-load.m: Implemented objc_get_symbol_path() for windows.
	* Source/NSLog.m: On mingw write to debugger and event viewer.

2005-07-24  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Fix to avoid duplicate paths.
	Fix bug in order of application paths.
	* Tools/gspath.m: new utility to display paths/directories
	* Tools/gspath.1: man page for gspath
	* Tools/GNUmakefile: build and install gspath

2005-07-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: fix typo in contributed code for when
	the additions library is built standalone on MacOS-X
	* Source/GNUmakefile: Don't build base subprojects when only building
	additions library!
	* Headers/Foundation/NSRunLoop.h: Tidy up enumerated type, simplifying
	mingw ifdefs
	* Tools/AGSHtml.h: Added defines for building without the gnustep
	base library.
	* Tools/gdnc.m: Fix minor documentation error.
	* Tools/gdnc.1: Fix minor documentation error and add documentation
	of flags to set public/network servers running.

2005-07-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSDate.m: ([isEqual:]),([isEqualToDate:]) change behavior to
	match current MacOS-X rather than OpenStep spec, as the old version
	was confusing and prevented dates being used as dictionary keys or
	stored in sets properly.

2005-07-21  Adam Fedor  <fedor@gnu.org>

	* Version 1.11.0

2005-07-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSUnarchiver.m:
	* Source/NSPortCoder.m: Relax checking of decoded types information
	to allow int/long/longlong types to be decoded using 'i/l/q'
	interchangably and 'I/L'Q' interchangably because the compiler may
	use different encodings on different machines.

2005-07-15  Adam Fedor  <fedor@gnu.org>

	* ChangeLog, ChangeLog.1, ChangeLog.2, GNUmakefile, Makefile,
	Makefile.postamble, config.mak.in, configure.ac,
	Documentation/Base.gsdoc, Documentation/BaseAdditions.gsdoc,
	Documentation/Functions.gsdoc, Documentation/GNUmakefile,
	Documentation/Makefile.postamble, Documentation/ReleaseNotes.gsdoc,
	Documentation/TypesAndConstants.gsdoc, Documentation/announce.texi,
	Documentation/gnustep-base.texi, Documentation/install.texi,
	Documentation/news.texi, Documentation/readme.texi,
	Documentation/General/Debugging.gsdoc,
	Documentation/General/GNUmakefile,
	Documentation/General/OpenStepCompliance.gsdoc,
	Documentation/HtmlNav/docs-web.html, Documentation/HtmlNav/index.html,
	Documentation/manual/GNUmakefile, Documentation/manual/index.html,
	Examples/GNUmakefile, Examples/Makefile.postamble,
	Examples/Makefile.preamble, Examples/custom-zone.m,
	Examples/dictionary.m,
	Headers/Additions/GNUstepBase/unicode/*,
	Source/dld-load.h, Source/hpux-load.h, Source/null-load.h,
	Source/simple-load.h, Source/win32-load.h,
	Testing/*,
	Tools/BaseTools.gsdoc, Tools/DocMakefile, Tools/GNUmakefile,
	Tools/Makefile.postamble, Tools/Makefile.preamble, Tools/autogsdoc.1,
	Tools/cvtenc.1, Tools/defaults.1, Tools/gdnc.1, Tools/gdnc.h,
	Tools/gdomap.c, Tools/gdomap.gsdoc, Tools/gsdoc.gsdoc, Tools/pl.m,
	Tools/pldes.1, Tools/sfparse.1, Tools/xmlparse.1,
	Tools/make_strings/GNUmakefile,
	Tools/make_strings/GNUmakefile.preamble,
	Tools/make_strings/README, Tools/make_strings/Using.txt,
	config/*: Further copyright/license updates.

2005-07-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSProcessInfo.m: ([+initialize]) always check to see if
	things have already been initialised before doing the initialisation
	here.  Based on suggestion by Lloyd Dupont.

2005-07-14  Richard Frith-Macdonald <rfm@gnu.org>

	* SSL/GSSSLHandle.m: Retains self when running runloop to allow
	ssl connect and accept operations.  If the connect/accept takes
	a long time, the caller might give up and release the handle,
	causing resources to be freed and the ssl operation to crash.
	Retaining self (and noticing when a disconnect has taken place)
	prevents that.
	* Source/Additions/GSXML.m: Fix bug escaping emtities in fault
	message.

2005-07-13  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSBundle.m: When building paths inside framework
	directories on Mingw (win32), don't add /Versions/%@; the new
	pseudo-framework support for Mingw does not support framework
	versioning.

2005-07-12  Nicola Pero  <n.pero@mi.flashnet.it>

	* Source/NSBundle.m ([+_addFrameworkFromClass:]),
	([-executablePath]): Mangle/demangle framework names so that we
	can support '-' (and '+') in framework names.  Requires latest
	gnustep-make if you have a framework with '_', '-' or '+' in the
	name.

2005-07-08  Adam Fedor  <fedor@gnu.org>

	* Testing/GNUmakefile, Testing/nsfilehandle.m: Minor fixes.

2005-07-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/objc-load.m: Under mingw print filenames for debug using
	%S rather than %s

2005-07-08  Richard Frith-Macdonald <rfm@gnu.org>

	Recommit all gcc-4 changes ... I was unable to find a problem
	in them and have been running lots of stuff ok with them for several
	days now ... perhaps I made a mistake in thinking there was an issue.

2005-07-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: Fix bug #13685 ... raise exception on an attempt
	to re-launch a task.

2005-07-04  Adam Fedor  <fedor@gnu.org>

	* Documentation/ReleaseNotes.gsdoc: Update.

2005-07-01  Adam Fedor  <fedor@gnu.org>

	* Documentation/Base.gsdoc, Documentation/BaseAdditions.gsdoc,
	Documentation/Functions.gsdoc, Documentation/ReleaseNotes.gsdoc,
	Documentation/TypesAndConstants.gsdoc,
	Documentation/General/Debugging.gsdoc,
	Documentation/manual/GNUmakefile,
	Source/NSMessagePortNameServer.m,
	Testing/NSData-test.m, Testing/awake.m, Testing/basic.m,
	Testing/coder.m, Testing/containers.m, Testing/fref.m,
	Testing/gstcpport-client.m, Testing/gstcpport-server.m,
	Testing/heap.m, Testing/nsarchiver.m, Testing/nsarray.m,
	Testing/nscharacterset.m, Testing/nsconnection.m,
	Testing/nsconnection_client.m, Testing/nsconnection_server.m,
	Testing/nsdata.m, Testing/nsdate.m, Testing/nsdictionary.m,
	Testing/nsfilehandle.m, Testing/nsfilemanager.m,
	Testing/nshashtable.m, Testing/nshost.m, Testing/nsindexset.m,
	Testing/nsinvocation.m, Testing/nsmaptable.m,
	Testing/nsnotification.m, Testing/nspathutilities.m,
	Testing/nsprocessinfo.m, Testing/nsscanner.m, Testing/nsset.m,
	Testing/nstask.m, Testing/nstimer.m, Testing/nstimezone.m,
	Testing/nsundomanager.m, Testing/nsxmlparser.m, Testing/nxst.m,
	Testing/oldserver.h, Testing/prepend.m, Testing/randoms.m,
	Testing/release.m, Testing/server.h, Testing/string.m,
	Testing/tcpport-client.m, Testing/tcpport-server.m,
	Testing/thread-except.m, Testing/thread.m, Testing/values.m,
	Testing/wgetopt.h, Tools/BaseTools.gsdoc, Tools/autogsdoc.1,
	Tools/cvtenc.1, Tools/defaults.1, Tools/gdnc.1,
	Tools/gdomap.8, Tools/gsdoc.7, Tools/locale_alias.m,
	Tools/pldes.1, Tools/plist-0_9.dtd, Tools/sfparse.1,
	Tools/xmlparse.1: Add/fix copyright/licenses.

2005-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Bad day ... accidentally updated makefiles to build KVO stuff
	in last change ... so I might as well commit the partial
	implementation of NSKeyValueObserving.[hm]

2005-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* The last change passed regression tests etc, but one program
	I have has stopped working, so there is a bug somewhere.
	Reverted change until I can isolate the problem and fix it.

2005-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSUserDefaults.h: Fix bad return type
	* Source/GSArray.m:
	* Source/GSCountedSet.m:
	* Source/GSFileHandle.m:
	* Source/GSSet.m:
	* Source/GSString.m:
	* Source/GSeq.h:
	* Source/NSArchiver.m:
	* Source/NSArray.m:
	* Source/NSAttributedString.m:
	* Source/NSCalendarDate.m:
	* Source/NSCharacterSet.m:
	* Source/NSConnection.m:
	* Source/NSCountedSet.m:
	* Source/NSData.m:
	* Source/NSDictionary.m:
	* Source/NSDistributedNotificationCenter.m:
	* Source/NSFileManager.m:
	* Source/NSMessagePort.m:
	* Source/NSMessagePortNameServer.m:
	* Source/NSMethodSignature.m:
	* Source/NSNotification.m:
	* Source/NSObject.m:
	* Source/NSPipe.m:
	* Source/NSPortCoder.m:
	* Source/NSPropertyList.m:
	* Source/NSRange.m:
	* Source/NSScanner.m:
	* Source/NSSerializer.m:
	* Source/NSSet.m:
	* Source/NSSocketPort.m:
	* Source/NSSocketPortNameServer.m:
	* Source/NSString.m:
	* Source/NSThread.m:
	* Source/NSTimeZone.m:
	* Source/NSTimer.m:
	* Source/NSURLHandle.m:
	* Source/NSUnarchiver.m:
	* Source/NSUserDefaults.m:
	* Source/NSValue.m:
	* Source/mframe.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GSMime.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/GSXML.m:
	* Source/Additions/Unicode.m:
	* Tools/AGSHtml.m:
	* Tools/AGSIndex.m:
	* Tools/AGSOutput.m:
	* Tools/gdomap.c:
	* Tools/gdomap.h:
	* Tools/make_strings/make_strings.m:
	Tweaks to avoid compiler warnings with gcc-4. Mostly signed pointer
	casts and bogus interface declarations to allow +class to be called
	on a class for which we don't have the real interface visible.

2005-07-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSException.m: ([-raise]) Fix behavior to be the same as in
	MacOS-X (ie call the default uncaught exception handler after
	whatever handler is set, in case the set handler does not terminate).
	Ensures that the -raise method cannot return.
	* Testing/basic.m: Add test for uncaught exception handler.

2005-06-30  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSSerializer.m: deserializeFromInfo() check that cross
	reference indices are valid and raise an exception if not ... should
	fix bug reported by Roland Schwingel, where trying to deserialize a
	corrupt file could cause a crash.

2005-06-28  Adam Fedor  <fedor@gnu.org>

	* Source/NSInvocation.m (-getReturnValue:, -setReturnValue:): Only
	muck with size of buffer if we're using (deprecated) mframe.

2005-06-27  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyedArchiver.m: Fix typo ... superClass should be
	superclass

2005-06-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m:
	Preserve case of http headers when writing remote request, so that
	they can be tailored for remote servers which are buggy in having
	case sensitivity.
	When creating default http headers, capitalize the words in the
	header name, as this is the most common way headers are presented
	and documented, and thus the least likely to tickle case sensitivity
	bugs at the remote end of a connection.

2005-06-23  Adam Fedor  <fedor@gnu.org>

	* Source/mframe.m (mframe_decode_return): Change return struct
	to fixed size to avoid gcc bug.

2005-06-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h:
	* Documentation/coding-standards.texi:
	Minor documentation fixes.

2005-06-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSKeyValueCoding.m:
	* Headers/Foundation/NSKeyValueCoding.h:
	Change NSUnknownKeyException to NSUndefinedKeyException for
	MacOSX compatibility.
	Fixes bug #13842

2005-06-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: ([-initWithPath:]) expand paths with tildes.

2005-06-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m: Removed bogus
	NSConnection(ConnectionDelegate) category .. these methods must not be
	implemented in NSObject.  I hope that removing the concrete
	implementation of the category from the Object class will not cause
	problems (I believe there used to be problems with older versions of
	the compiler if we tried to use @selector(NN) where NN was not
	implemented in the same code unit, but I can't remember what the
	problems were and when they occurred).
	* Headers/Foundation/NSConnection.h: Added comments/documentation from
	NSConnection.h

2005-06-17  Adam Fedor  <fedor@gnu.org>

	* Remove objc/Protocol.h include from NSObject to avoid warnings
	with conflicting method signatures.
	* Headers/Foundation/NSConnection.h: Change Object categories
	to NSObject.
	* Source/NSConnection.m: Idem.
	* Headers/Foundation/NSObject.h: Don't include objc/Protocol.h
	add a few missing things.
	* Source/NSDate.m ([NSDate -isEqual:]): Use isKindOfClass.
	* Source/NSDistantObject.m, Source/NSProtocolChecker.m:
	Include objc/Protocol.h
	* Source/NSSerializer.m: Add method sig for performv::

2005-06-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/manual/WorkingWithObjects.texi: Correct errors in
	the summary of memory management conventions.
	* Documentation/manual/WritingNewClasses.texi: Correct examples of
	memory management in constructor methods.

2005-06-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	* Source/NSSocketPort.m:
	* Source/NSMessagePort.m:
	Enable KEEPALIVE on stream sockets, so we will notice if the remote
	end drops the connection.

2005-06-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCalendardate.m: Fix crash when a nil string is passed to
	initWithString... methods.

2005-06-06  Adam Fedor  <fedor@gnu.org>

	* Source/Makefile.preamble: Add objc lib on all platforms
	Fixes bug #9920.

2005-06-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h: Add a versioning constant and
	document a bit better.
	* Tools/AGSParser.m: Support new version constant and fix version
	comparison for minor and subminor numbers.
	* Tools/AGSHtml.m: ditto
	* Headers/Foundation/NSArchiver.h: convert o new versioning as test.
	* Documentation/Base.gsdoc: Document version constants.

2005-06-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSObject.h: Add subminor number to versioning
	macros as apple sometimes add/remove things at subminor versions.
	Add some constants for versions.
	* Tools/AGSParser.m: Support subminor version info
	* Tools/AGSHtml.m: ditto

2005-06-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSFileManager.h: hide private method in enumerator,
	swap one ivar for a new one keeping size the same.
	* Headers/Foundation/NSString.h: Mark some deprecated methods.
	* Source/GSFileHandle.m: Merge in win32 simplifications
	* Source/NSBundle.m: ditto
	* Source/NSData.m: ditto
	* Source/NSFileManager.m: ditto
	* Source/NSPathUtilities.m: ditto
	* Source/NSProcessInfo.m: ditto
	* Source/NSString.m: ditto
	* Source/NSTask.m: ditto
	* Source/win32-load.h: ditto
	Merge in simplifications from the win32 path handling branch
	and all changes/fixes since.

2005-06-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m:
	* Source/NSFileManager.m:
	Define _FILE_OFFSET_BITS to be 64 so that, on unix-like systems which
	support large file handling (>2GB) the large file handling routines
	are used.
	* Source/NSTask.m: Try to deal with pipes properly when launching under
	windows.
	* Source/GSString.m: Fix bug returning unicode string from cString.

2005-05-21  Adam Fedor  <fedor@gnu.org>

	* Update FSF Address.

2005-05-20  Matt Rice  <ratmice@yahoo.com>

	* Source/NSArray.m (NSArray -removeObject:): Fix macro conditional
	so we release the object.

2005-05-15 19:57 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSPropertyList.m: Changes to include limits.h rather
	than explicitly define UINT_MAX.

2005-05-13  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Minor improvement to detail of failure
	reason.

2005-05-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFileHandle.m: Increase size of buffer for incoming data ...
	on modern systems we have more memory and a bugger buffer can make
	a significant performance improvement when reading large amounts of
	streamed data.  New define of READ_SIZE for this buffer ... easily
	adjusted in one place.

2005-05-10  Sheldon Gill <sheldon@westnet.net.au>
	* Resources/GNUmakefile
	* Resources/Languages/Locale.aliases
	* Resources/Spanish
	* Resources/Spanish.lproj/Localizable.strings
	Spanish language localisation from diemyr@yahoo.es

2005-05-10  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.h:
	* Tools/AGSHtml.m:
	* Tools/AGSParser.m:
	* Tools/gsdoc-1_0_2.dtd:
	Support deprecation version as well as addition/removal.

2005-05-09  David Ayers  <d.ayers@inode.at>

	* Source/NSPropertyList.m (OAppend): Revert patch from
	2005-02-28.  It seems to fix the issue in the wrong place.
	Further investigation is necessary.

2005-05-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.m: Output 'Releases' rather than 'Standards' as it
	seems a better term for API version information.
	* Tools/AGSParser.h:
	* Tools/AGSParser.m: Parse OS_API_VERSION() and GS_API_VERSION() to
	produce detailed version information.
	* Headers/Foundation/NSObject.h: defines of the two version macros for
	proof of concept.

2005-05-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/AGSHtml.h: Support versioning info instead of standards
	* Tools/AGSHtml.m: ditto
	* Tools/AGSOutput.m: ditto
	* Tools/AGSParser.m: ditto
	* Tools/GNUmakefile: Add new dtd and remove old tool.
	* Tools/autogsdoc.m: ditto
	* Tools/gsdoc-1_0_2.dtd: ditto
	* Tools/gsdoc.m: Remove obsolete tool.
	* Tools/gsdoc.gsdoc: Updated
	Changes to support OpenStep/OPENSTEP/MacOS-X versioning and
	GNUstep versioning, using add/rem attributes to specify the
	version at which a feature was added to or removed from the
	API.  Drop the old 'standards' mechanism which was too rigid
	for detailed versioning.

2005-05-08 14:11 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSPropertyList.m: Corrected setup so that compilation
	works on Solaris 9.

2005-05-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: nul terminate properly when a returned 'C string'
	is actually unicode.
	* Source/GSString.m: ditto.

2005-05-08  Fred Kiefer <FredKiefer@gmx.de>

	* Source/NSPropertyList.m: Added class BinaryPLGenerator to export
	property lists in Apple binary format.
	(+ dataFromPropertyList:format:errorDescription:) Use this new class.
	(+ propertyList:isValidForFormat:) Report
	NSPropertyListBinaryFormat_v1_0 as a supported format.
	(GSBinaryPLParser -initWithData:mutability:) Read table start correctly.
	(GSBinaryPLParser -objectAtIndex:) Better support for numbers.

2005-05-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Improve handling of text/xml without
	a charset.  Add new method to determine the correct charset in the
	case where it has to be inferred from the actual data.  Follow the
	instructions in http://www.w3.org/TR/REC-xml/ but be a bit more
	tolerant. (ebcdic not supported).
	* Headers/Foundation/GSString.m: Add a few new methods from macosx.
	* Source/NSString.m: ditto.
	* Source/GSString.m: ditto.

2005-05-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: If given content of type text/xml without
	a charset, try to get the charset from the encoding="..." part of the
	header.

2005-04-29  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: Remove self as an observer of our file
	handle on deallocation ... prevent notfications being sent to
	deallocated object.

2005-04-28  Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/coding-standards.texi: Added what appear to be the
	generally accepted parts of Sheldon's suggested coding standards
	additions.
	* Source/GSHTTPURLHandle.m: Modified to keep watching idle connections
	and handle things properly when the remote end drops the connection.
	Should fix occasional trouble when connectioin keepalive is used but
	the remote host drops the connection between requests.

2005-04-26  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSHTTPURLHandle.m: remove wProperties and wData from
	handle in sync.

2005-04-25  Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/defaults.m: Fix bug writing defaults whose values should be
	quoted strings.

2005-04-23  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSData.m: Fix bug in memory management when serializing an
	object over 65K in length.

2005-04-20  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m:
	* Source/NSDistributedNotificationCenter.m:
	* Tools/gdnc.m:
	mingw tweaks

2005-04-19  Adam Fedor  <fedor@gnu.org>

	* Tools/gdomap.c (init_iface): Round size to make sure we don't violate
	pointer alignment boundaries.

2005-04-14  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Add tweak to cope with buggy mailers
	which insert space after the boundary in a multipart document.

2005-04-13  Adam Fedor  <fedor@gnu.org>

	* ANNOUNCE, NEWS, Documentation/news.texi,
	Documentation/ReleaseNotes.gsdoc: Merge in release info from
	1.10.3 release branch.

2005-04-12  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSDistributedNotificationCenter.h:
	Added GSPublicNotificationCenterType and changed documentation for
	NSLocalNotificationCenterType to say it's private to the current user.
	* Source/NSDistributedNotificationCenter.m: Changed so that
	NSLocalNotificationCenterType is MacOS-X compatible and the new
	GSPublicNotificationCenterType works like our old implementation.
	* Source/NSPortNameServer.m: Add detailed message about forthcoming
	change to make the default port name server deal with message ports
	rather than socket ports ... for MacOS-X compatibility and security.
	* Source/externs.m: Added GSPublicNotificationCenterType
	* Tools/gdnc.m: Changes for new NSDistributedNotificationCenter
	behavior.
	Overview ... updated distributed notifications to be private to the
	owner of the processes by default.  Added one-time warning message
	for developers that NSConnection will be changing the same way.
	These changes discussed a year or two ago (mostly with Alexander),
	but nobody ever actually implemented them.
	* Source/NSPathUtilities.m: Make temporary directory name based on
	uid so that it is consistent on a unix system where there are
	multiple named accounts with the same user id (essentially all
	aliases for a single account).

2005-04-05  Adam Fedor  <fedor@gnu.org>

	* gnustep-base.spec.in: Update make dependancy

2005-04-05  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: ([sttringByAppendingPathComponent:]) Fix bug
	eliding multiple slashes in path.

2005-04-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: Fix missing nul terminator to arguments under win32

2005-04-01  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSBundle.m: Minor debug/warning log tweaks.
	* Headers/Foundation/NSBundle.h: Document differences between GNUstep
	and MacOS-X when initialising using a relative path.
	* Headers/NSString.h: Fix typo in comment.

2005-03-31  Adam Fedor  <fedor@gnu.org>

	* ANNOUNCE, NEWS, Documentation/news.texi,
	Documentation/ReleaseNotes.gsdoc: Merge in release info from
	1.10.2 release branch.

2005-03-31  Adam Fedor  <fedor@gnu.org>

	* Source/NSBundle.m (_find_framework): New function.
	([NSBundle +_addFrameworkFromClass:]): Use it. Based on patch
	from Sheldon Gill.

2005-03-31  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: (isAbsolutePath) always treat a path beginning
	with '/' as absolute except when in windows mode or on windows and
	not in unix mode.  Treat all UNC paths as absolute ... a change made
	after a lot of trawling the web and looking at examples of UNC path
	usage.

2005-03-23  Richard Frith-Macdonald <rfm@gnu.org>

	* config/pathxml.m4: Fix to get --with-xml-prefix= to work for
	xml2-config
	* configure: regenerated

2005-03-22  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Fix some charset-encoding mappings.
	Add utf-7 and utf-16.
	Add all aliases for ascii and latin1
	Document mapping methods better.

2005-03-21  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSFileManager.h: Add path handling documentation.
	* Headers/Foundation/NSString.h: Add path handling methods
	documentation and new method to set global path handling mode.
	* Source/NSUserDefaults.m: Update path handling mode when defaults
	are read in.
	* Source/NSString.m: Implement selectable path handling mode ...
	gnustep/unix/windows.  In the default gnustep mode we try to
	handle paths in any format and just do the right thing.
	Also updated handling of path extensions to match MacOSX behavior.
	* Source/Additions/GSMime.m: Remove deprecated method.
	Optimise a little by avoiding class lookups.

2005-03-18  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Use fprintf rather than NSLog to try to
	avoid possible recursion when errors occur.

2005-03-17  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPathUtilities.m: Tidy variable and function names to fit
	GNUstep conventions.  Simplify code a little.  Don't attempt to parse
	per-user config file if its name is nil or empty string.
	Support parsing old config options for backward compatibility.

2005-03-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Ensure last line of base64 encoded data
	is terminated with crlf for clients which have buggy base64 decodedrs.

2005-03-15  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSMime.m: Mark ([setDefaultEncoding:]) as deprecated
	rather than just removing it ... in case someone has started using it.
	* Source/NSPathUtilities.m: Tidied a little ... moved a function.
	* Headers/Additions/GNUstepBase/GSFunctions.h: New header for functions
	* Headers/Foundation/NSPathUtilities.h: Moved function
	* Source/DocMakefile: Include GSFunctions.h
	* Source/GNUmakefile: ditto
	* Source/Additions/GNUmakefile: Build GSFunctions.m
	* Source/Additions/GSFunctions.m: New file for extra functions.
	* Source/NSString.m: ([stringByExpandingTildeInPath]) Improve handling
	of paths containing mingw drives.
	* Source/NSDate.m: Use same values for distant past/future as MacOSX
	* Source/NSCalendarDate.m: Support output of extreme year values.

2005-03-14  Adam Fedor  <fedor@gnu.org>

	* Continuation of NSPathUtilities patches
	* configure.ac: Add config-file option
	* Headers/Foundation/NSPathUtilities.h: Add GSFindNamedFile, more
	NSSearchPathDirectory enums.
	* Source/GNUmakefile: Don't install Win32 headers.
	* Source/NSPathUtilities.m (InitializePathUtilities, ...): Add
	support for reading standard path locations from a configuration
	file. Various support functions added/removed to fit.
	(GSFindNamedFile): New function.
	(GSSetUserName): Do nothing if the user is the same.
	(NSHomeDirectoryForUser): Use Windows utilities to get user name
	(on Windows, of course).
	(NSFullUserName): Default to NSUserName on Windows.
	(GSSystemRootDirectory): Mark as deprecated.
	(GSDefaultsRootForUser): Correctly return the actual defaults
	directory, not the user directory.
	(GSStandardPathPrefixes): Mark as deprecated.
	(NSSearchPathForDirectoriesInDomains): Add platform paths and
	additional search directories.
	* Source/NSUserDefaults (pathForUser): Correct use of
	GSDefaultsRootForUser. Remove obsolete path checking and
	defaults location checking. (Patches from Sheldon Gill
	with some modifications).

	* Documentation/Base.gsdoc: Update documentation.
	* Headers/Additions/GNUstepBase/Win32_Utilities.h,
	Source/win32/Win32_Utilities.m: Fix function arguments.

2005-03-12  Sungjin Chun <chuns@embian.com>

	* Source/Additions/GSXML.m: Port to MacOS-X

2005-03-11  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSPropertyList.m: Handle null object passed to OAppend()
	* Source/Additions/GSMime.m: Optimise setDefaultCharset: a little
	Add error checking to setDefaultEncoding: to make sure it sets a
	valid characterset encoding. Should almost certainly remove this
	method though ... as it duplicates setDefaultCharset: functionality
	in a somewhat less useful form.

2005-03-11  David Wetzel <dave@turbocat.de>
        * Source/Additions/GSMime.m:
        * Headers/Additions/GNUstepBase/GSMime.h
          Added setDefaultEncoding:
          This is needed in GSWeb if you use utf-8 and faster than using a
          String as encoding name.

2005-03-09  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSet.m: Fix bug in forming union ... was using
	wrong length.

2005-03-08  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSCharacterSetData.h: Add data outside unicode base plane.
	* Source/NSCharacterSet.m: Change to support all unicode characters
	rather than just UTF16.  The current implementation is still based
	on (often much larger than before) bitmaps.  It may be that the size
	of the bitmap data is too large for real world use, and we may have
	to introduce a different storage mechanism.  The current mechanism
	is good for cases where the number of characters in the set is large
	and those characters are scattered, or where characters are only
	present in the base plane.  Another implementation might be better
	for cases where characters are clustered into contiguous groups
	and the groups are scattered through the full range.

2005-03-07  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSConfig.h.in: Extra types
	* configure.ac: Added types for GSConfig.h.in
	* configure: regenerated
	* Headers/Foundation/NSCharacterSet.h: New MacOS-X methods
	* Headers/Foundation/NSIndexSet.h: Remove bogus comment.
	* Source/GNUmakefile: Don't build NSBitmapCharSet.m
	* Source/NSBitmapCharSet.h: Removed ... merege into NSCharacterSet.m
	* Source/NSBitmapCharSet.m: ditto
	* Source/NSCharacterSet.m: Optimise a few methods.
	Add new MacOS-X methods (naive implementations)
	Merge in NSBitmapCharSet as private class

2005-03-06  Matt Rice <ratmice@yahoo.com>

	* Headers/Foundation/NSRunLoop.h: Reorder RunLoopEventType for binary
	compatibility.

2005-03-06  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSCharacterSet.h: Add documentation and method
	([-capitalizedLetterCharacterSet]) Change name of symbol set to
	match MacOS-X
	* Source/NSCharacterSet.m: Add new method and move documentation to
	header.  Include local NSCharacterSetData.h for bitmap data.
	* Source/NSCharacterSetData.h: New file containing the bitmap data
	for the standard charactersets.  Generated by dev-apps/charsets
	tools using the latest unicode characterset data today.
	* Source/NSCharacterSets/README.CharSet: mark as obsolete.
	* Source/GNUmakefile: No longer build/install NSCharacterSets
	The standard bitmap data for charactersets is now built in to
	NSCharacterSet.
	* Headers/Foundation/NSBitmapChar.h: Moved nonstandard header
	to private source directory.
	* Source/NSAutoreleasePool.m: Rewrite deallocation to cause the pool
	to remain as the current pool during the deallocation process ...
	Requires deallocation to be done in a loop to avoid possible leaks
	etc if an object which is being deallocated decides to autorelease
	something.
	Also removed a few private methods for simplification.

2005-03-04  Richard Frith-Macdonald <rfm@gnu.org>

	* Source/Additions/GSXML.m: GSXMLRPC integrated.
	* Headers/Additions/GSUstepBase/GSXML.h: GSXMLRPC integrated.

2005-03-03  Adam Fedor  <fedor@gnu.org>

	* Source/NSFileManager.m (-createFileAtPath:...): Define var at
	beginning to work on gcc 2.x compilers.

2005-03-03  Adam Fedor  <fedor@gnu.org>

	* Start on integrating Sheldon Gills NSPathUtilities patches.
	* Headers/Foundation/NSPathUtilities.h: Depreciate
	GSSystemRootDirectory, GSStandardPathPrefixes. Add
	GSPreferencesDirectory to NSSearchPathDirectory enum. Enumerate
	NSSearchPathDomainMask values.
	* Headers/Additions/GNUStepBase/Win32Support.h,
	Headers/Additions/GNUStepBase/Win32_Utilites.h: New files.
	* Source/GNUmakefile: Add NSPathUtilities.m
	* Source/NSUser.m: Move everything in here...
	* Source/NSPathUtilities.m: to here.
	* Source/win32/GNUmakefile: Add Win32Support.m, Win32_Utilities.m
	* Source/win32Win32Support.m, Win32_Utilities.m: New files
	* Testing/nspathutilites.m: New file.
	(Files and patches from Sheldon Gill with minor modifications).

2005-03-02  Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Foundation/NSKeyValueCoding.h:
	* Source/NSArray.m:
	* Source/NSKeyValueCoding.m:
	* Source/Additions/GSObjCRuntime.m:
	On the way back from FOSDEM I updated tje key-value-coding stuff to
	match the lastest version from Apple/MacOS-X panther.
	I don't use KVC in my code, and have not testcases for it, so would
	appreciate it if anyone who does could try this out and get bug
	reports back to me ASAP.

2005-03-01  Adam Fedor  <fedor@gnu.org>

	* Source/NSBundle.m (+gnustepBundle,
	+pathForGNUstepResource:ofType:inDirectory:]): Add deprecated
	log message.
	* Source/NSNotificationQueue.m, Source/null-load.h:
	Fix copyright message.

2005-03-01 02:50 Nicola Pero <n.pero@mi.flashnet.it>

	* Source/Makefile.preamble (ADDITIONAL_LIB_DIRS): When building a
	shared library, depend on all TARGET_SYSTEM_LIBS, not just
	CONFIG_SYSTEM_LIBS.
	* Headers/Additions/GNUstepBase/GSObjCRuntime.h: Do not use
	__declspec(dllexport) on mingw.  Use extern instead.

2005-02-28 17:45 Richard Frith-Macdonald <rfm@gnu.org>

	* NSCharacterSets/GNUmakefile: Use GNUSTEP_OBJ_DIR_NAME to run
	data conversion tool, since Tom Koelman points out that the 'obj'
	subdirectory does not work on windoze due to lack of symlinks.

2005-02-28 17:10 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m:
	* Source/NSCharacterSet.m:
	* Source/NSproxy.m:
	Damn ... when I ran the testsuite for the stuff I did at fosdem, it
	all worked ... but now I find that it was linking to an older version
	of the base library and actually the changes were broken.
	The new modifications should (hopefully) fix all breakage.
	The changes exposed rare bugs in the existing code ...
	NSCharacterSet was returning immutable copies of the standard
	character sets when it should return mutable ones, it was also
	being a bit bad about allocating new instances.  NSProxy was
	failing to implement instanceMethodForSelector:, and NSAutoreleasePool
	had a bug which could mess up a bit if the objects being deallocated
	by it autoreleased anything.

2005-02-28  David Ayers  <d.ayers@inode.at>

	* Source/NSPropertyList.m (OAppend): Attempt to transform
	description of non-proporty-list objects into property list
	before recursing for OPENSTEP compatibility.

2005-02-27 13:20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSConnection.m:
	Set default timeouts to maximum timeouts for MacOS-X compatibility.

2005-02-27 08:45 Richard Frith-Macdonald <rfm@gnu.org>

	* NSCharacterSets/dataToheader.c: new file to convert data files to
	constant values in a new header (NSCharacterSetData.h).
	* NSCharacterSets/GNUmakefile: build header from data files, and
	don't create resource set, since we no longer use the files at runtime.
	* Source/NSCharacterSet.m: include NSCharacterSetData.h and use it to
	create the standard charactersets rather than reading from data files.
	This has two advantages - It avoids the need to install characterset
	data files with the library, and it means that we have characterset
	data available immediately (before we need to access the filesystem)
	so we can use charactersets and NSString methods which depend upon them
	earlier on in the system initialisation.

2005-02-27 00:50 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSAutoreleasePool.m: ([-dealloc]) cache method implementations
	for release calls on the assumption that many of the objects in the
	pool will be of the same class.
	Optimisation suggested by Georg Wallmann

2005-02-23  Adam Fedor  <fedor@gnu.org>

	* configure.ac: Add test to check for poll emulation
	* Source/NSRunLoop.h: Don't use poll if we're just emulating.
	* Source/unix/GSRunLoopCtxt.m: Idem.

2005-02-23 14:00 Richard Frith-Macdonald <rfm@gnu.org>

	* Headers/Additions/GNUstepBase/GSFileHandle.h: Add windows event
	* Headers/Foundation/NSPort.h:
	* Headers/Foundation/NSRunLoop.h:
	* Source/GNUmakefile:
	* Source/GSFileHandle.m:
	* Source/GSLocale.m:
	* Source/NSMessagePort.m:
	* Source/NSPipe.m:
	* Source/NSRunLoop.m:
	* Source/NSSocketPort.m:
	* Source/NSThread.m:
	* Source/NSUser.m:
	* Source/unix/GNUmakefile:
	* Source/unix/GSRunLoopCtxt.m:
	* Source/unix/GSRunLoopWatcher.m:
	* Source/unix/Makefile.preamble:
	* Source/win32/GNUmakefile:
	* Source/win32/GSRunLoopCtxt.m:
	* Source/win32/GSRunLoopWatcher.m:
	* Source/win32/Makefile.preamble:
	* Source/win32/NSRunLoopWin32.m:
	Applied patch by Luis Cabellos to use native win32 event handling
	rather than unix style select/poll on a win32 system.
	Rewrote various chunks to simplify, conform to coding standards,
	work for me etc.  In particular, replaced code for thread
	synchronisation to use win32 Event rather than pipe.

2005-02-22  Adam Fedor  <fedor@gnu.org>

	* Branched freeze-1_10_2 for Version: 1.10.2

2005-02-22 14:00 Richard Frith-Macdonald <rfm@gnu.org>

	* Documentation/Base.gsdoc:
	* Source/GSPrivate.h:
	* Source/NSDebug.m:
	* Source/NSLog.m:
	* Source/NSUserDefaults.m:
	Add GSLogThread to include thread id in NSLog() and debug output.
	* Source/NSMessagePort.m:
	* Source/NSSocketPort.m:
	Remove thread reporting in some debug statements as it can be
	done universally using GSLogThread.

2005-02-22 11:12 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFFCallInvocation.m:
	* Source/GSFormat.m:
	* Source/GSString.m:
	* Source/GSTemplateValue.m:
	* Source/NSAutoreleasePool.m:
	* Source/NSData.m:
	* Source/NSDebug.m:
	* Source/NSDecimal.m:
	* Source/NSInvocation.m:
	* Source/NSMethodSignature.m:
	* Source/NSScanner.m:
	* Source/NSThread.m:
	* Source/NSTimeZone.m:
	* Source/NSUserDefaults.m:
	* Source/libgnustep-base-entry.m:
	* Source/thr-mach.m:
	* Source/thr-pthread.m:
	* Source/Additions/GSCategories.m:
	* Source/Additions/GSObjCRuntime.m:
	* Source/Additions/Unicode.m:
	* Source/Additions/behavior.m:
	Tidy up use of white space a little.

2005-02-21 20:30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFormat.m: Modified code to rewrite output to use correct
	decimal separator for locale (hopefully).  Also made a small
	performance improvement in processing digits for output.

2005-02-21 14:30 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/GSFormat.m:
	* Source/NSConnection.m:
	* Source/callframe.m:
	* Source/cifframe.m:
	Include malloc.h for systems where it is needed for alloca()
	* Tools/gdomap.c: Avoid some warnings on mingw32

2005-02-21 14:10 Stefan Urbanek <stefan@agentfarms.net>

	* Source/NSAttributedString.m: Fix loop decoding from archive.

2005-02-18 06:20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: Tidy up some of last patch for unicode filesystem
	support.
	* Source/NSFileManager.m: Complete rewrite of  unicode filesystem
	support to make code more readable and to allow it to easily be
	turned off by commenting out the 'UNICODE' and '_UNICODE'
	definitions at the start of the file.
	There is a bug in the mingw runtime which is (currently) still
	distributed in the 'current' complete mingw distribution ... which
	breaks unicode filesystem support very badly.
	So ... you can now either revert to 8bit charset filesystem support,
	or download a more recent version of the mingw runtime from the
	mingw site.
	* Source/NSTask.m: Fix setting environment for mingw ... use own
	method to get environment rather than examining instance variable,
	as the variable may not be set.  Sort variables because windows needs
	them in alphabetical order.  Fix conversion to unicode.

	2005-02-16 14:40 Richard Frith-Macdonald <rfm@gnu.org>

	* config/patchxml.m4: Try to detect libxml2 in standard directories
	exen if xml2-config is not present.
	* configure.ac: Detect libxml2 becore iconv, in case libxml2
	requires iconv (which it usually will on a system where iconv is
	not built into the standard c library).
	* confingure: Regenerate
	* Source/Additions/GSXML.m: Set memory allocation functions to be
	used by libxml2, so we can use objc_free() to release strings returned
	by the library, and avoid linker problem with xmlFree() on mingw.

2005-02-15 08:00 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: Fix incorrect version comitted.

2005-02-14 08:00 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSTask.m: Pass environment settings for mingw based on
	anonymous bug submission (bug #11360)
	* Source/NSUser.m: Fix bug #11378
	* Tools/gdomap.c: Quote mingw arguments toi fix bug #11854
	* Documentation/manual/Introduction.texi: Apply patch by pupeno
	(bug #11814)

2005-02-10 01:05  Alexander Malmberg  <alexander@malmberg.org>

	* Tools/gdnc.m (main): Remove the program name from the arguments
	given to the new task.

2005-02-08 11:20 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSString.m: (unicodeString) rewrite to conform to coding
	standards and to be more efficient.

2005-02-08 10:10 Richard Frith-Macdonald <rfm@gnu.org>

	* Tools/gdnc.m: Rewrite startup code to create a daemon using NSTask
	rather than calling fork()/spawn() etc.
	Make arguments more consistent with gpbs
	* Source/NSTask.m: Minor code layout/indentation tweaks.

2005-02-02 09:40 Richard Frith-Macdonald <rfm@gnu.org>

	* Source/NSFileManager.m: Restructure last patch to conform to
	gnustep coding standards.
	(localFromOpenStepPath:) for unix paths, expand '~' abbreviations.

2005-01-31  Adam Fedor  <fedor@gnu.org>

	* Documentation/coding-standards.texi: Add section of documentation.

2005-01-29 03:46 Matt Rice <ratmice@yahoo.com>

	* Source/NSUndoManager.m (-registerUndoWithTarget:selector:object:):
	Have the invocation to retain it's arguments. (Fixes bug #4692.)

2005-01-21 22:08 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: [NSUndoManager redo] and
	[NSUndoManager undoNestedGroup] moved the call to actionName
	to a later point in both methods to get the name from the
	"groupToRedo" or the "groupToUndo" respectively.  This
	corrects the issue with the wrong name sometimes appearing
	in the redo/undo menu items.

2005-01-16 07:59 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: Added code to properly set the
	name of the action when undo/redo is called.

2005-01-16 06:37 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: Check if the group is nil in
	endUndoGrouping before checking the count.

2005-01-15 06:17 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: Undid previous change here.

2005-01-15 06:13 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: Localized undo/redo menu title.

2005-01-14 06:50 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: Correction for redo.

2005-01-14 05:43 Gregory John Casamento <greg_casamento@yahoo.com>

	* Source/NSUndoManager.m: Fix forward invocation to not add
	a group when it doesn't contain any actions.

2005-01-08  Adam Fedor  <fedor@gnu.org>

	* Source/NSCalendarDate.m: fix time zone for %z format with
	only 2 digits in -initWithString:calendarFormat:locale:

2005-01-07  Adam Fedor  <fedor@gnu.org>

	* Source/NSTimeZone.m (+abbreviationDictionary): Retain	dictionary
	(Fixes bug #11516).

Copyright @copyright{} 2005 Free Software Foundation

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.
